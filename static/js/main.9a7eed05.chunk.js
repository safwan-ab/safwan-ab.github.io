(this["webpackJsonpmove-world"]=this["webpackJsonpmove-world"]||[]).push([[1],{100:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(3);function l(){return(l=Object(c.a)(r.a.mark((function e(t,a){var n,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return console.log(t.headers.get("content-type")),e.next=4,t.blob();case 4:return e.abrupt("return",e.sent);case 5:if(n=t.headers.get("content-type"),c=null,!(n&&n.indexOf("application/json")>-1)){e.next=14;break}return e.next=10,t.text();case 10:l=e.sent;try{c=JSON.parse(l)}catch(r){c=l}e.next=17;break;case 14:return e.next=16,t.text();case 16:c=e.sent;case 17:if(!t.ok){e.next=25;break}if(!c){e.next=22;break}return e.abrupt("return",c);case 22:return e.abrupt("return",t);case 23:e.next=31;break;case 25:if(401!==t.status&&403!==t.status||(window.location.href.includes("/customer/")?window.location="".concat("/app","/sign-in/customer"):window.location.href.includes("driver-app")&&window.location.href.includes("/driver")?window.Android.mwLogout():window.location="".concat("/app","/sign-in")),!c){e.next=30;break}throw c;case 30:throw t;case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.a=function(e,t){return l.apply(this,arguments)}},118:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(3),l=a(19),o=a(9),i=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.entity,n=t.id,e.abrupt("return",Object(l.c)("/v1/document/get-docs-per-entity?branch=".concat(Object(o.d)().branch,"&entityId=").concat(n,"&entity=").concat(a)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(l.d)("/v1/document/download/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(l.a)("/v1/document/delete/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark((function e(t,a,n,c,i){var u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(u=new FormData).append("entity",n),u.append("entityId",a),u.append("entityRef",c),u.append("notes",i),u.append("auth",Object(o.d)().username),u.append("branch",Object(o.d)().branch),u.append("file",t),e.abrupt("return",Object(l.b)("/v1/document/upload",u));case 9:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}();t.a={getAll:i,download:u,deleteFile:s,upload:d}},121:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return o}));var n=a(9),r={TURKISH:{"Welcome, ":"Ho\u015f geldin, ",Dashboard:"G\xf6sterge Paneli",Pickup:"Toplamak","Add Job":"\u0130\u015f Ekle","Pending Jobs":"Bekleyen \u0130\u015fler","Pickup Ordering":"Teslim Alma Sipari\u015fi","Job Exceptions":"\u0130\u015f \u0130stisnalar\u0131",HBL:"HBL","New HBL":"Yeni HBL","Search/Edit":"Ara/D\xfczenle","Cancelled HBLs":"\u0130ptal edilen HBLs",Complaints:"\u015fikayetler","Cargo Status":"Kargo Durumu",Office:"Ofis","Cash Settlement":"Nakit Uzla\u015fma","Payment Summary":"\xd6deme \xf6zeti",Warehouse:"Depo",Loading:"Y\xfckleniyor","Loading Point":"Y\xfckleme Noktas\u0131","Manual Loading":"Manuel Y\xfckleme","Loaded Shipments":"Y\xfcklenen G\xf6nderiler",Arrivals:"Geli\u015f","Short Loadings":"K\u0131sa Y\xfcklemeler",Reports:"Raporlar","Progress/Efficiency":"\u0130lerleme/Verimlilik","Comparison Analysis":"Kar\u015f\u0131la\u015ft\u0131rma Analizi",Admin:"y\xf6netici","Driver Management":"S\xfcr\xfcc\xfc Y\xf6netimi","Driver Tracking":"S\xfcr\xfcc\xfc Takibi","User Management":"Kullan\u0131c\u0131 y\xf6netimi","Customer Management":"M\xfc\u015fteri y\xf6netimi","User Login Info":"Kullan\u0131c\u0131 Giri\u015f Bilgileri",Settings:"Ayarlar",Support:"Destek"},CHINESE:{"Welcome, ":"Hu\u0101ny\xedng, ",Dashboard:"Y\xedbi\u01ceo b\u01cen",Pickup:"Ji\u01cen q\u01d0","Add Job":"Ti\u0101nji\u0101 g\u014dngzu\xf2","Pending Jobs":"D\xe0i ch\u01d4l\u01d0 de g\u014dngzu\xf2","Pickup Ordering":"Q\u01d4 hu\xf2 d\xecngg\xf2u","Job Exceptions":"G\u014dngzu\xf2 l\xecw\xe0i",HBL:"HBL","New HBL":"X\u012bn HBL","Search/Edit":"S\u014dusu\u01d2/bi\u0101nj\xed","Cancelled HBLs":"Q\u01d4xi\u0101o de HBL",Complaints:"T\xf3us\xf9","Cargo Status":"Hu\xf2w\xf9 zhu\xe0ngt\xe0i",Office:"B\xe0ng\u014dngsh\xec","Cash Settlement":"Xi\xe0nj\u012bn ji\xe9su\xe0n","Payment Summary":"F\xf9ku\u01cen zh\u0101iy\xe0o",Warehouse:"C\u0101ngk\xf9",Loading:"Zh\xe8ngz\xe0i ji\u0101z\xe0i","Loading Point":"Zhu\u0101ng hu\xf2 di\u01cen","Manual Loading":"Sh\u01d2ud\xf2ng ji\u0101z\xe0i","Loaded Shipments":"Y\u01d0 zhu\u0101ng hu\xf2",Arrivals:"D\xe0od\xe1","Short Loadings":"D\xe0od\xe1",Reports:"Du\u01cen f\xf9h\xe8","Progress/Efficiency":"B\xe0og\xe0o","Comparison Analysis":"J\xecnd\xf9/xi\xe0ol\u01dc",Admin:"B\u01d0ji\xe0o f\u0113nx\u012b","Driver Management":"X\xedngzh\xe8ng","Driver Tracking":"S\u012bj\u012b gu\u01cenl\u01d0","User Management":"S\u012bj\u012b zhu\u012bz\u014dng","Customer Management":"Y\xf2ngh\xf9 gu\u01cenl\u01d0","User Login Info":"Y\xf2ngh\xf9 gu\u01cenl\u01d0",Settings:"Y\xf2ngh\xf9 d\u0113ngl\xf9 x\xecnx\u012b",Support:"Sh\xe8zh\xec"}},c={ENGLISH:"ENGLISH",TURKISH:"TURKISH",CHINESE:"CHINESE"},l="",o=function(e){if(!l){if(!Object(n.d)().lang)return e;l=Object(n.d)().lang}return l===c.ENGLISH?e:r[l][e]||e}},123:function(e,t,a){"use strict";t.a=function(){try{return{resourceUrl:""}}catch(e){throw console.log(e),new Error("MISSING VALUES")}}},171:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d}));var n=a(24),r=a(9),c=a(32),l=function(e,t){var a=t.weight,n=t.volume;if(""===e)return 0;var r=e.replace("weight",a).replace("volume",n);return console.log(r),function(e){if(""===e)return 0;var t=e.split(" ");if(1===t.length)return+e;if(3===t.length){if("*"===t[1])return+t[0]*+t[2];if(">"===t[1])return+t[0]>=+t[2];if("<"===t[1])return+t[0]<+t[2]}}(r)},o=function(e,t,a){var n=e.condition,r=e.valueIf,c=e.valueNot;if(""===n)return l(r,{weight:t,volume:a});var o=l(n,{weight:t,volume:a});return l(o?r:c,{weight:t,volume:a})},i=function(){var e,t,a,n,c=Object(r.c)(),l=null===(e=c.filter((function(e){return"VOLUME CHARGE"===e.costType})))||void 0===e||null===(t=e[0])||void 0===t?void 0:t.valueIf;return{w:null===(a=c.filter((function(e){return"WEIGHT CHARGE"===e.costType})))||void 0===a||null===(n=a[0])||void 0===n?void 0:n.valueIf,v:l}},u=function(e,t,a,l,i,u){var d=[],m=Object(r.c)().filter((function(a){return a.cargoMode===e&&a.deliveryType===t})),p=Object(r.c)().filter((function(t){return t.cargoMode===e&&"All remaining"===t.deliveryType}));m.forEach((function(e){d.push({editable:"NO"!==e.editable,costType:e.costType,amount:Object(c.b)(o(e,a,l))})})),0===m.length&&p.forEach((function(e){d.push({editable:"NO"!==e.editable,costType:e.costType,amount:Object(c.b)(o(e,a,l))})}));var b=s(i,l,e);return[].concat(d,Object(n.a)(b),[{costType:"OTHER CHARGES",amount:0,editable:!0},{costType:"DISCOUNT",amount:0,editable:!0}])},s=function(e,t,a){var n=[];if("riyadh"===Object(r.d)().branch&&(a===Object(r.d)().cargoMode[1]?(n.push({costType:"BILL CHARGE",amount:50,editable:!0}),n.push({costType:"BILL VAT "+100*Object(r.b)(Object(r.d)().branch).vat+"%",amount:Object(c.b)(50*Object(r.b)(Object(r.d)().branch).vat),editable:!1}),e===Object(r.d)().warehouseLocation[0]?n.push({costType:"DEST. CHARGES",amount:Object(c.b)(140*t),editable:!0}):e===Object(r.d)().warehouseLocation[1]&&n.push({costType:"DEST. CHARGES",amount:Object(c.b)(225*t),editable:!0})):a===Object(r.d)().cargoMode[0]&&n.push({costType:"BILL CHARGE",amount:40,editable:!1})),"dubai"===Object(r.d)().branch&&a===Object(r.d)().cargoMode[1]){var l=t<=.91?0:t<=.94?175:t<=1.62?245:t<=2.01?250:t<=2.51?260:t<=3?325:t<=3.8?400:450;n.push({costType:"BOX CHARGES",amount:Object(c.b)(l),editable:!0}),n.push({costType:"BOX VAT "+100*Object(r.b)(Object(r.d)().branch).vat+"%",amount:Object(c.b)(l*Object(r.b)(Object(r.d)().branch).vat),editable:!1}),n.push({costType:"VOLUME CHARGE",amount:0,editable:!0})}return n},d=function(e,t){var a,n,l;if(e){var o="string"===typeof t.amountSpec?JSON.parse(t.amountSpec||"[]"):t.amountSpec,i=(null===(a=o.find((function(e){return"DEST. CHARGES"===e.costType})))||void 0===a?void 0:a.amount)||"0",u=(null===(n=o.find((function(e){return"BILL CHARGE"===e.costType})))||void 0===n?void 0:n.amount)||"0",s=(null===(l=o.find((function(e){return e.costType==="BILL VAT "+100*Object(r.b)(Object(r.d)().branch).vat+"%"})))||void 0===l?void 0:l.amount)||"0",d=t.amount;return{hblCharge:Object(c.b)(+u),hblVat:Object(c.b)(+s),destiCharges:Object(c.b)(+i),frieghtCharges:Object(c.b)(+d-(+i+ +u+ +s)),grandTotal:d,paid:t.paid}}}},19:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return m})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return f})),a.d(t,"f",(function(){return g}));var n=a(18),r=a(1),c=a.n(r),l=a(3),o=a(123),i=a(100),u=a(9),s=a(22),d=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h(document.cookie,"api"),e.prev=1,e.next=4,fetch("".concat(Object(o.a)().resourceUrl).concat(t),{method:"GET",headers:{Authorization:"Bearer "+n}});case 4:return r=e.sent,l=Object(i.a)(r,!0),e.abrupt("return",l);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h(document.cookie,"api"),e.prev=1,e.next=4,fetch("".concat(Object(o.a)().resourceUrl).concat(t),{method:"GET",headers:{Authorization:"Bearer "+n}});case 4:return r=e.sent,l=Object(i.a)(r),e.abrupt("return",l);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h(document.cookie,"api"),e.prev=1,e.next=4,fetch("".concat(Object(o.a)().resourceUrl).concat(t),{method:"POST",body:JSON.stringify(a),headers:{accept:"application/json;charset=UTF-8","Content-type":"application/json",Authorization:"Bearer "+n}});case 4:return r=e.sent,l=Object(i.a)(r),e.abrupt("return",l);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var r,l,u,s,d,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=h(document.cookie,"api"),l=Object(n.a)(a.entries());try{for(l.s();!(u=l.n()).done;)s=u.value,console.log(s[0]+" - "+s[1]),console.log(s[1].value),console.log(s[1].options)}catch(c){l.e(c)}finally{l.f()}return e.prev=3,e.next=6,fetch("".concat(Object(o.a)().resourceUrl).concat(t),{method:"POST",body:a,headers:{Authorization:"Bearer "+r}});case 6:return d=e.sent,m=Object(i.a)(d),e.abrupt("return",m);case 11:throw e.prev=11,e.t0=e.catch(3),e.t0;case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(u.d)().userType!==s.b.viewer&&Object(u.d)().userType!==s.b.maker&&Object(u.d)().userType!==s.b.editor){e.next=2;break}throw new Error("You are not authorized to Edit/Delete");case 2:return n=h(document.cookie,"api"),e.prev=3,e.next=6,fetch("".concat(Object(o.a)().resourceUrl).concat(t),{method:"DELETE",body:JSON.stringify(a),headers:{accept:"application/json;charset=UTF-8","Content-type":"application/json",Authorization:"Bearer "+n}});case 6:return r=e.sent,l=Object(i.a)(r),e.abrupt("return",l);case 11:throw e.prev=11,e.t0=e.catch(3),e.t0;case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h(document.cookie,"api"),e.prev=1,e.next=4,fetch("".concat(Object(o.a)().resourceUrl).concat(t),{method:"PUT",body:JSON.stringify(a),headers:{accept:"application/json;charset=UTF-8","Content-type":"application/json",Authorization:"Bearer "+n}});case 4:return r=e.sent,l=Object(i.a)(r),e.abrupt("return",l);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),h=function(e,t){if(!e)return"";var a=e.split("; ").filter((function(e){return e.startsWith(t)})).map((function(e){return e.split("=")[1]})).filter((function(e){return e}));return a.length>0?a[a.length-1]:""}},20:function(e,t,a){"use strict";var n=a(16),r="#FFFFFF";t.a={black:"#000000",white:r,transparent:"rgba(0, 0, 0, 0)",tableHeader:{background:"rgb(220, 231, 239)",color:"rgb(0, 72, 128)"},boxShadow:{default:"16px 16px 16px rgb(0,0,0, 0.10)"},primary:{contrastText:r,dark:"rgba(69, 135, 182, 0.25)",main:"#820000",light:n.colors.indigo[100]},shades:{main:"#820000",light:"#043161",alpha:"rgba(69, 135, 182, 0.25)",bg:"#fef4ff",green:"#43a047",red:"#f32013",greenRgb:"rgb(67, 160, 71)"},secondary:{contrastText:r,dark:n.colors.blue[900],main:n.colors.blue.A400,light:n.colors.blue.A400},success:{contrastText:r,dark:n.colors.green[900],main:n.colors.green[600],light:n.colors.green[400]},info:{contrastText:r,dark:n.colors.blue[900],main:n.colors.blue[600],light:n.colors.blue[400]},warning:{contrastText:r,dark:n.colors.orange[900],main:n.colors.orange[600],light:n.colors.orange[400]},error:{contrastText:r,dark:n.colors.red[900],main:n.colors.red[600],light:n.colors.red[400]},text:{primary:n.colors.blueGrey[900],secondary:n.colors.blueGrey[600],link:n.colors.blue[600]},background:{default:r,paper:r},sidebar:{background:"white",activeColor:r,color:n.colors.blueGrey[200],activeTab:{background:r}},icon:n.colors.blueGrey[600],divider:n.colors.grey[200],table:{light:{background:"rgb(0, 87, 153, 0.08)"},dark:{background:"rgb(0, 87, 153, 0.03)"},hover:{background:"rgb(0, 87, 153, 0.20)"}},dashboard:{warning:"rgb(248, 192, 185)",success:"rgb(202, 231, 202)",info:"rgb(200, 229, 250)"}}},22:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return c}));var n={pickup:"pickup",pickup_customer:"pickup_customer",delivery:"delivery",domestic:"domestic"},r={driver:"driver",customer:"customer",user:"user"},c={viewer:"viewer",maker:"maker",editor:"editor",admin:"admin",superadmin:"superadmin"}},278:function(e,t,a){e.exports=a.p+"static/media/logo.d9c8e834.png"},32:function(e,t,a){"use strict";a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return l})),a.d(t,"f",(function(){return o})),a.d(t,"g",(function(){return i})),a.d(t,"h",(function(){return u})),a.d(t,"i",(function(){return s})),a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return m}));var n=a(27),r=function(e){return Math.round(1e3*e)/1e3},c=function(e){return Math.round(10*e)/10},l=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},o=function(e){var t=e||{},a=t.length,n=t.breadth,c=t.height,l=t.quantity;return r(a*n*c*(l||1)/1e6)},i=function(e){var t=(e||{}).volume;return r(+t/1e6)},u=function(e){return r(Object(n.reduce)(e,(function(e,t){return e+o(t)}),0))},s=function(e){return c(Object(n.reduce)(e,(function(e,t){return e+t.weight}),0))},d=function(e){return Object(n.reduce)(e,(function(e,t){return e+t.quantity}),0)},m=function(e){var t=Object(n.reduce)(e,(function(e,t){return"DISCOUNT"===t.costType?e-+t.amount:e+ +t.amount}),0);return c(t)}},4:function(e,t,a){"use strict";a.d(t,"p",(function(){return o})),a.d(t,"q",(function(){return d})),a.d(t,"r",(function(){return f})),a.d(t,"D",(function(){return v})),a.d(t,"E",(function(){return y})),a.d(t,"w",(function(){return j})),a.d(t,"x",(function(){return D})),a.d(t,"f",(function(){return k})),a.d(t,"e",(function(){return M})),a.d(t,"u",(function(){return H})),a.d(t,"v",(function(){return V})),a.d(t,"n",(function(){return K})),a.d(t,"j",(function(){return _})),a.d(t,"k",(function(){return Z})),a.d(t,"m",(function(){return te})),a.d(t,"l",(function(){return re})),a.d(t,"t",(function(){return ue})),a.d(t,"s",(function(){return de})),a.d(t,"B",(function(){return pe})),a.d(t,"o",(function(){return fe})),a.d(t,"a",(function(){return De})),a.d(t,"i",(function(){return Me})),a.d(t,"G",(function(){return Ye})),a.d(t,"h",(function(){return Re})),a.d(t,"F",(function(){return Le})),a.d(t,"g",(function(){return Be})),a.d(t,"d",(function(){return ze})),a.d(t,"b",(function(){return Je})),a.d(t,"c",(function(){return Xe})),a.d(t,"A",(function(){return et})),a.d(t,"C",(function(){return at})),a.d(t,"z",(function(){return ot})),a.d(t,"y",(function(){return mt}));var n=a(0),r=a.n(n),c=a(693),l=a(62),o=function(e){var t=e.size,a=e.label,n=e.value;return r.a.createElement(c.a,{item:!0,md:t,xs:t},r.a.createElement(l.a,{variant:"overline"},a),r.a.createElement(l.a,{variant:"h5"},n||"-"))},i=a(440),u=a(20),s={chip:{marginRight:10,backgroundColor:u.a.primary.main,color:"white"},text:{paddingLeft:10,paddingRight:3,color:u.a.primary.main}},d=function(e){var t=e.label,a=e.value,n=e.size;return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{variant:"overline",style:s.text},t),r.a.createElement(i.a,{label:a,size:n||"medium",style:s.chip}))},m=a(5),p={marginRight:10,color:"white"},b={paddingLeft:10,paddingRight:3},f=function(e){var t=e.label,a=e.value,n=e.size,c=e.color;return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{variant:"overline",style:Object(m.a)(Object(m.a)({},b),{},{color:c})},t),r.a.createElement(i.a,{label:a,size:n||"medium",style:Object(m.a)(Object(m.a)({},p),{},{backgroundColor:c})}))},g=(u.a.primary.main,a(267)),h=a(666),v=function(e){var t=e.size,a=e.label,n=e.name,l=e.value,o=e.onChange,i=e.onBlur,s=e.type,d=e.Icon,m=e.disabled,p=e.helperText,b=e.onKeyDown,f=e.autoFocus;return d?r.a.createElement(c.a,{item:!0,md:t,xs:t},r.a.createElement(g.a,{type:s||"text",variant:"outlined",fullWidth:!0,margin:"dense",placeholder:a,name:n,disabled:m||!1,InputProps:{startAdornment:r.a.createElement(h.a,{position:"start"},r.a.createElement(d,{style:{color:u.a.shades.light}}))},value:l||"",onChange:o})):r.a.createElement(c.a,{item:!0,md:t,xs:t},r.a.createElement(g.a,{type:s||"text",disabled:m||!1,autoFocus:f||!1,helperText:p||"",variant:"outlined",fullWidth:!0,margin:"dense",label:a,placeholder:a,name:n,value:l||"",onChange:o,onBlur:i,onKeyDown:b}))},E=a(753),y=function(e){var t=e.size,a=e.auto,n=e.label,l=e.name,o=e.value,i=e.onChange,u=e.loading;return r.a.createElement(c.a,{item:!0,md:t,xs:t},u?r.a.createElement(r.a.Fragment,null):r.a.createElement(E.a,{freeSolo:!0,disableClearable:!0,options:a.map((function(e){return e})),onChange:function(e,t){i({target:{name:l,value:t}})},renderInput:function(e){return r.a.createElement(g.a,Object.assign({},e,{label:n,value:o,onChange:i,name:l,variant:"outlined",InputProps:Object(m.a)(Object(m.a)({},e.InputProps),{},{type:"search"})}))}}))},O=a(399),j=function(e){var t=e.size,a=e.label,n=e.name,l=e.value,o=e.onChange,i=e.values,u=e.valueObjects,s=e.style||{};return r.a.createElement(c.a,{item:!0,md:t,xs:t,style:s},r.a.createElement(g.a,{select:!0,variant:"outlined",fullWidth:!0,margin:"dense",label:a,name:n,value:l||"",onChange:o},i&&i.map((function(e,t){return r.a.createElement(O.a,{key:t,value:e},e)})),u&&u.map((function(e,t){return r.a.createElement(O.a,{key:t,value:e.value},e.label)}))))},D=function(e){var t=e.label,a=e.name,n=e.value,c=e.onChange,l=e.values,o=e.valueObjects,i=e.style||{};return r.a.createElement(g.a,{select:!0,variant:"outlined",margin:"dense",style:Object(m.a)({minWidth:160,marginTop:0},i),label:t||"",name:a,value:n||"",onChange:c},o&&o.map((function(e,t){return r.a.createElement(O.a,{key:t,value:e.value},e.label)})),l&&l.map((function(e,t){return r.a.createElement(O.a,{key:t,value:e},e)})))},w=a(755),C=a(15),x=a.n(C),k=function(e){var t=e.size,a=e.label,n=e.name,l=e.value,o=e.onChange;return r.a.createElement(c.a,{item:!0,md:t},r.a.createElement(w.a,{autoOk:!0,label:a,value:l,inputVariant:"outlined",showTodayButton:!0,format:"YYYY/MM/DD hh:mm a",onChange:function(e){o({target:{name:n,value:x()(e)}})}}))},S=a(477),T=a(704),Y=Object(S.a)((function(e){return{shiftBottom4px:{marginTop:"8px"}}})),M=function(e){var t=e.size,a=e.label,n=e.name,l=e.value,o=e.onChange,i=e.isMobile,u=e.style,s=e.disabled,d=Y(),m=u||{};return r.a.createElement(c.a,{item:!0,md:t,xs:t,style:m},r.a.createElement(T.a,{disabled:s||!1,fullWidth:!0,autoOk:!0,className:d.shiftBottom4px,variant:"inline",inputVariant:"outlined",label:a,name:n,size:i?"large":"small",format:"YYYY-MM-DD",value:l,onChange:function(e){o({target:{name:n,value:x()(e).format("YYYY-MM-DD")}})}}))},I=a(661),A=a(400),L=a(397),R=a(752),B=a(47),z=a.n(B),N=a(48),P=a.n(N),F=Object(S.a)((function(e){return{root:{"&$checked":{color:u.a.shades.main},paddingRight:0},checked:{}}})),H=function(e){var t=F(),a=e.size,n=e.label,l=e.name,o=e.value,i=e.onChange,u=e.values,s=e.valueLabels,d=e.pullRight,p=e.style||{};return r.a.createElement(c.a,{container:!0,md:a,style:Object(m.a)({paddingTop:10},p),justify:d?"flex-end":"flex-start"},n&&r.a.createElement(I.a,{style:{paddingTop:10},component:"legend"},n),r.a.createElement(A.a,{row:!0,name:l,onChange:i,value:void 0===o?"":o},z()(u,(function(e,a){return r.a.createElement(L.a,{key:a,value:e,control:r.a.createElement(R.a,{classes:t}),label:P()(s,a,e)})}))))},W=a(683),U=a(138),q=a(705),G=a(706),V=function(e){var t=e.size,a=e.label,n=e.name,l=e.value,o=e.onChange,i=e.values,s=e.valueObjects,d=e.pullRight,p=e.style||{};return r.a.createElement(c.a,{container:!0,md:t,style:Object(m.a)({paddingTop:12,paddingBottom:4,paddingLeft:4},p),justify:d?"flex-end":"flex-start"},a&&r.a.createElement(I.a,{style:{paddingTop:10},component:"legend"},a),r.a.createElement(W.a,{row:!0},z()(i,(function(e,t){return r.a.createElement(U.a,{key:t,variant:"outlined",startIcon:e===l?r.a.createElement(q.a,{style:{color:u.a.shades.light}}):r.a.createElement(G.a,null),onClick:function(){return o({target:{name:n,value:e}})}},e)})),z()(s,(function(e,t){return r.a.createElement(U.a,{key:t+"i",variant:"outlined",startIcon:e.value===l?r.a.createElement(q.a,{style:{color:u.a.shades.light}}):r.a.createElement(G.a,null),onClick:function(){return o({target:{name:n,value:e.value}})}},e.label)}))))},J=a(695),K=function(e){var t=e.size,a=e.parentTitle,n=e.childTitle,o=e.subtitle,i=e.onClick;return r.a.createElement(c.a,{item:!0,md:t},r.a.createElement(l.a,{variant:"body1"},o),r.a.createElement(c.a,{container:!0},r.a.createElement(J.a,{href:"#",onClick:i},a),r.a.createElement(l.a,{variant:"h5",color:"inherit",style:{paddingLeft:10,paddingRight:10}}," / "),r.a.createElement(l.a,{variant:"h5",color:"inherit"},n)))},_=function(e){var t=e.size,a=e.title,n=e.subtitle,o=e.Icon,i=e.style||{};return o?r.a.createElement(c.a,{container:!0,md:t},r.a.createElement(c.a,{item:!0},r.a.createElement(o,{style:{fontSize:40,paddingRight:10}})),r.a.createElement(c.a,{item:!0},r.a.createElement(l.a,{variant:"body1"},n),r.a.createElement(l.a,{variant:"h5",color:"inherit"},a))):r.a.createElement(c.a,{item:!0,md:t,style:Object(m.a)({},i)},r.a.createElement(l.a,{variant:"body1"},n),r.a.createElement(l.a,{variant:"h5",color:"inherit"},a))},Z=function(e){var t=e.size,a=e.title,n=e.subtitle,o=e.style||{};return r.a.createElement(c.a,{item:!0,md:t,style:Object(m.a)({},o)},r.a.createElement(l.a,{variant:"h5",color:"inherit"},a),r.a.createElement(l.a,{variant:"caption"},n))},X=a(330),Q=a(189),$=a(707),ee=Object(S.a)((function(e){return{overlayHeader:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,boxShadow:"0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23)"},overlayTitle:{flexGrow:1}}})),te=function(e){var t=e.title,a=e.onClose,n=ee();return r.a.createElement(X.a,{className:n.overlayHeader,variant:"dense"},r.a.createElement(l.a,{variant:"h6",color:"inherit",className:n.overlayTitle},t),r.a.createElement(Q.a,{edge:"end",color:"inherit","aria-label":"close",onClick:a},r.a.createElement($.a,null)))},ae=a(691),ne=a(708),re=function(e){var t=e.title;return r.a.createElement("div",{style:{display:"flex",width:"100%"}},r.a.createElement("div",{style:{width:15,height:45,background:"linear-gradient(to bottom right, #fff 0%, #fff 50%, "+u.a.shades.light+" 50%, "+u.a.shades.light+" 100%)"}}),r.a.createElement(ae.a,{style:{width:"98%"},expandIcon:r.a.createElement(ne.a,{style:{color:"white"}})},r.a.createElement("h4",{style:{color:"white"}},t)),r.a.createElement("div",{style:{width:15,height:45,background:"linear-gradient(to top left, #fff 0%, #fff 50%, "+u.a.shades.light+" 50%, "+u.a.shades.light+" 100%)"}}))},ce=a(6),le=[{code:"AE",label:"UAE",phone:"971"},{code:"AT",label:"Austria",phone:"43"},{code:"AU",label:"Australia",phone:"61",suggested:!0},{code:"BD",label:"Bangladesh",phone:"880"},{code:"BE",label:"Belgium",phone:"32"},{code:"BH",label:"Bahrain",phone:"973"},{code:"BR",label:"Brazil",phone:"55"},{code:"CA",label:"Canada",phone:"1",suggested:!0},{code:"CH",label:"Switzerland",phone:"41"},{code:"CN",label:"China",phone:"86"},{code:"CO",label:"Colombia",phone:"57"},{code:"CU",label:"Cuba",phone:"53"},{code:"CY",label:"Cyprus",phone:"357"},{code:"DE",label:"Germany",phone:"49",suggested:!0},{code:"DK",label:"Denmark",phone:"45"},{code:"EE",label:"Estonia",phone:"372"},{code:"EG",label:"Egypt",phone:"20"},{code:"ES",label:"Spain",phone:"34"},{code:"FI",label:"Finland",phone:"358"},{code:"FR",label:"France",phone:"33",suggested:!0},{code:"GB",label:"United Kingdom",phone:"44"},{code:"GE",label:"Georgia",phone:"995"},{code:"HK",label:"Hong Kong",phone:"852"},{code:"ID",label:"Indonesia",phone:"62"},{code:"IE",label:"Ireland",phone:"353"},{code:"IN",label:"India",phone:"91"},{code:"IQ",label:"Iraq",phone:"964"},{code:"IR",label:"Iran",phone:"98"},{code:"IT",label:"Italy",phone:"39"},{code:"JO",label:"Jordan",phone:"962"},{code:"JP",label:"Japan",phone:"81",suggested:!0},{code:"KW",label:"Kuwait",phone:"965"},{code:"LK",label:"Sri Lanka",phone:"94"},{code:"MV",label:"Maldives",phone:"960"},{code:"MX",label:"Mexico",phone:"52"},{code:"MY",label:"Malaysia",phone:"60"},{code:"NL",label:"Netherlands",phone:"31"},{code:"NO",label:"Norway",phone:"47"},{code:"NP",label:"Nepal",phone:"977"},{code:"NZ",label:"New Zealand",phone:"64"},{code:"OM",label:"Oman",phone:"968"},{code:"PH",label:"Philippines",phone:"63"},{code:"PK",label:"Pakistan",phone:"92"},{code:"PS",label:"Palestine",phone:"970"},{code:"QA",label:"Qatar",phone:"974"},{code:"RO",label:"Romania",phone:"40"},{code:"SA",label:"Saudi Arabia",phone:"966"},{code:"SE",label:"Sweden",phone:"46"},{code:"SG",label:"Singapore",phone:"65"},{code:"TH",label:"Thailand",phone:"66"},{code:"TR",label:"Turkey",phone:"90"},{code:"TW",label:"Taiwan",phone:"886"},{code:"US",label:"United States",phone:"1",suggested:!0},{code:"VE",label:"Venezuela",phone:"58"},{code:"VN",label:"Vietnam",phone:"84"},{code:"YE",label:"Yemen",phone:"967"},{code:"ZA",label:"South Africa",phone:"27"}],oe=a(91),ie=Object(oe.a)({option:{fontSize:15,"& > span":{marginRight:10,fontSize:18}}}),ue=function(e){var t=ie(),a=e.size,n=e.name,l=e.value,o=e.onChange,i=e.countryCode,u=e.label,s=r.a.useState(i||""),d=Object(ce.a)(s,2),p=d[0],b=d[1],f=r.a.useState(l||""),h=Object(ce.a)(f,2),v=h[0],y=h[1];return r.a.useEffect((function(){void 0===l&&y("")}),[l]),r.a.createElement(c.a,{container:!0,md:a,xs:a,style:{paddingTop:2,paddingLeft:3}},r.a.createElement(E.a,{autoHighlight:!0,id:"country-select",style:{width:140},classes:{option:t.option},options:le,getOptionLabel:function(e){return"+"+e.phone+" "+e.label},renderOption:function(e){return r.a.createElement(r.a.Fragment,null,e.label," (",e.code,") +",e.phone)},defaultValue:i?{label:i,code:"",phone:""}:void 0,onChange:function(e,t){b((t||{}).phone)},renderInput:function(e){return r.a.createElement(g.a,Object.assign({},e,{label:"Country Code",variant:"outlined",inputProps:Object(m.a)(Object(m.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}),r.a.createElement(g.a,{type:"text",variant:"outlined",margin:"dense",style:{width:"50%"},label:u||"Mobile Number",inputProps:{autoComplete:"new-password"},defaultValue:i?(l||"").replace(i,""):"",helperText:p?"+"+p+v:"Select country code",value:v||"",onChange:function(e){var t=(e.target.value+"").replace(/[^0-9.]/gi,""),a=(t||"").startsWith("0")?t.substring(1):t;(p+a+"").length<16&&(y(a),o({target:{name:n,value:"+"+p+a}}))}}))},se=a(694),de=function(e){var t=e.loading;return r.a.createElement(c.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},t&&r.a.createElement(se.a,{variant:"query"}))},me=a(407),pe=function(e){var t=e.title,a=e.onClick,n=e.icon,c=e.disabled,l=e.style||{};return r.a.createElement(me.a,{title:t},r.a.createElement("span",null,r.a.createElement(Q.a,{style:l,onClick:a,disabled:c||!1},n)))},be=a(682),fe=function(e){var t=e.size,a=e.label,n=e.onClick,l=e.tooltip,o=e.icon;return r.a.createElement(c.a,{md:t,style:{paddingTop:15}},r.a.createElement(me.a,{title:l},r.a.createElement("span",null,r.a.createElement(Q.a,{style:{fontSize:15},onClick:n},o," \xa0",a))))},ge=a(277),he=a.n(ge),ve=a(657),Ee=a(149),ye=a(122),Oe=a(668),je=a(662);function De(e){var t=e.options,a=e.onClicks,n=e.size,l=r.a.useState(!1),o=Object(ce.a)(l,2),i=o[0],u=o[1],s=r.a.useRef(null),d=r.a.useState(1),m=Object(ce.a)(d,2),p=m[0],b=m[1],f=function(e){s.current&&s.current.contains(e.target)||u(!1)};return r.a.createElement(c.a,{container:!0,md:n||6,direction:"column",justify:"flex-end",alignContent:"flex-end",alignItems:"flex-end",style:{marginRight:9,marginTop:2}},r.a.createElement(c.a,{item:!0,xs:12},r.a.createElement(W.a,{variant:"outlined",color:"primary",ref:s,"aria-label":"split button"},r.a.createElement(U.a,{size:"small",onClick:function(){a[p]()}},t[p]),r.a.createElement(U.a,{color:"primary",size:"small","aria-controls":i?"split-button-menu":void 0,"aria-expanded":i?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:function(){u((function(e){return!e}))}},r.a.createElement(he.a,null))),r.a.createElement(Oe.a,{open:i,anchorEl:s.current,role:void 0,transition:!0,disablePortal:!0,style:{zIndex:1e4}},(function(e){var n=e.TransitionProps,c=e.placement;return r.a.createElement(Ee.a,Object.assign({},n,{style:{transformOrigin:"bottom"===c?"center top":"center bottom"}}),r.a.createElement(ye.a,null,r.a.createElement(ve.a,{onClickAway:f},r.a.createElement(je.a,{id:"split-button-menu"},t.map((function(e,t){return r.a.createElement(O.a,{key:e,selected:t===p,onClick:function(e){return function(e,t){b(t),a[t](),u(!1)}(0,t)}},e)}))))))}))))}var we=a(324),Ce=a(326),xe=a(132),ke=a.n(xe),Se=null,Te=null,Ye=function(){return{confirm:function(e){Se(!0),Te(e)}}},Me=function(){var e=r.a.useState(!1),t=Object(ce.a)(e,2),a=t[0],n=t[1],l=r.a.useState({}),o=Object(ce.a)(l,2),i=o[0],u=o[1];Se=n,Te=u;var s=i.title,d=i.assigneeList,m=i.callback,p=r.a.useState(null),b=Object(ce.a)(p,2),f=b[0],g=b[1];return r.a.createElement(we.a,{open:a,maxWidth:"xs",fullWidth:!0,fullScreen:!1,scroll:"body"},r.a.createElement(ke.a,null,r.a.createElement(Ce.a,null,r.a.createElement(te,{title:s,onClose:function(){return n(!1)}}),r.a.createElement(c.a,{container:!0,style:{marginTop:10,marginBottom:10}},r.a.createElement(j,{size:4,label:"Select",valueObjects:d,value:f,onChange:function(e){g(e.target.value)}}),r.a.createElement(U.a,{variant:"contained",color:"primary",style:{margin:8},disabled:!f,onClick:function(){m(f),g(null),n(!1)}},"Confirm")))))},Ie=null,Ae=null,Le=function(){return{confirm:function(e){Ie(!0),Ae(e)}}},Re=function(){var e=r.a.useState(!1),t=Object(ce.a)(e,2),a=t[0],n=t[1],l=r.a.useState({}),o=Object(ce.a)(l,2),i=o[0],u=o[1];Ie=n,Ae=u;var s=i.title,d=i.placeholder,m=i.buttonText,p=i.callback,b=r.a.useState(""),f=Object(ce.a)(b,2),g=f[0],h=f[1];return r.a.createElement(we.a,{open:a,maxWidth:"xs",fullWidth:!0,fullScreen:!1,scroll:"body"},r.a.createElement(ke.a,null,r.a.createElement(ve.a,{onClickAway:function(){return n(!1)}},r.a.createElement(Ce.a,null,r.a.createElement(te,{title:s,onClose:function(){return n(!1)}}),r.a.createElement(c.a,{container:!0,style:{zIndex:1e4,marginTop:10,marginBottom:10}},r.a.createElement(v,{size:4,label:d||"Enter Detail",value:g,onKeyDown:function(e){13===e.keyCode&&(p(g),h(""),n(!1))},onChange:function(e){h(e.target.value)},autoFocus:!0,helperText:"Press Enter"}),r.a.createElement(U.a,{variant:"contained",color:"primary",style:{height:35,marginLeft:8,marginTop:8},disabled:!g,onClick:function(){p(g),h(""),n(!1)}},m||"Confirm"))))))},Be=function(e){var t=e.content,a=e.open,n=e.width;return r.a.createElement(we.a,{open:a,maxWidth:n,fullWidth:!0,fullScreen:!1,scroll:"body"},r.a.createElement(ke.a,null,r.a.createElement(Ce.a,null,t)))},ze=function(e,t){return{title:r.a.createElement("span",{style:{fontWeight:500,fontSize:18,letterSpacing:"-0.06px",lineHeight:"24px"}},t," CONFIRMATION"),message:r.a.createElement(l.a,null,"Are you sure you want to ",r.a.createElement("strong",null,e)),ok:{text:t,variant:"contained",color:"DELETE"===t?"secondary":"primary"}}},Ne=a(684),Pe=a(686),Fe=a(685),He=a(709),We=a(655),Ue=a(447),qe=a.n(Ue),Ge=Object(S.a)((function(e){return{root:{height:"100%",cursor:"pointer",boxShadow:"16px 16px 16px rgb(0,0,0, 0.10)"},title:{fontWeight:700,color:"white"},amount:{color:"white"}}})),Ve=Object(We.a)((function(e){return{badge:{backgroundColor:"white",color:"white",boxShadow:"0 0 0 4px #999999","&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"2px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(be.a),Je=function(e){var t=e.data,a=e.loading,n=e.color,o=Ge();return a?r.a.createElement(He.a,{variant:"text",height:200}):r.a.createElement(Ne.a,{className:o.root,style:{backgroundColor:n}},r.a.createElement(Pe.a,{title:r.a.createElement(c.a,{container:!0,justify:"space-between"},r.a.createElement(c.a,{container:!0,justify:"space-between"},t.icon,r.a.createElement(l.a,{className:o.title,gutterBottom:!0,variant:"h4"},t.label)),t.isActive&&r.a.createElement(c.a,{item:!0},r.a.createElement(Ve,{overlap:"circle",variant:"dot",anchorOrigin:{vertical:"top",horizontal:"right"}},r.a.createElement(l.a,{className:o.title,gutterBottom:!0,variant:"h6"},t.labelRight,"\xa0\xa0\xa0\xa0"))),!t.isActive&&r.a.createElement(c.a,{item:!0},r.a.createElement(l.a,{className:o.title,gutterBottom:!0,variant:"h6"},t.labelRight,"\xa0\xa0\xa0\xa0")))}),r.a.createElement(Fe.a,null,r.a.createElement(c.a,{container:!0,justify:"flex-end"},r.a.createElement(c.a,{item:!0},r.a.createElement(l.a,{className:o.amount,variant:"h2"},r.a.createElement(qe.a,{end:t.value}))))))},Ke=a(710),_e=a(711),Ze=Object(S.a)((function(e){return{root:{height:"100%",cursor:"pointer",boxShadow:"5px 5px 5px rgb(0,0,0, 0.30)"},title:{fontWeight:700,color:"white"},amount:{color:"white"}}})),Xe=function(e){var t=e.data,a=e.loading,n=e.onClick,o=e.color,i=Ze();return a?r.a.createElement(He.a,{variant:"text",height:150}):r.a.createElement(Ne.a,{className:i.root,style:{marginRight:5,marginTop:5,backgroundColor:"#f2f2f2"}},r.a.createElement(Fe.a,null,r.a.createElement(c.a,{container:!0,justify:"space-between"},r.a.createElement(c.a,{item:!0,md:5},r.a.createElement(l.a,{gutterBottom:!0,variant:"h6"},"REF",t.id)),r.a.createElement(c.a,{container:!0,md:7,justify:"flex-end",alignContent:"center",alignItems:"center"},r.a.createElement(Q.a,{onClick:function(){return n(t.id)}},r.a.createElement(Ke.a,{style:{color:o||"black"}})))),r.a.createElement(c.a,{container:!0,justify:"flex-start"},r.a.createElement(l.a,{variant:"body"},t.address),r.a.createElement(_e.a,{style:{fontSize:17,marginTop:2}}),r.a.createElement(l.a,{variant:"body"},t.slAddress))))},Qe=a(191),$e=a(702),et=Object(We.a)((function(e){return Object(Qe.a)({root:{textTransform:"none",fontWeight:e.typography.fontWeightRegular,fontSize:e.typography.pxToRem(15),marginRight:e.spacing(1),"&:focus":{opacity:1}}})}))((function(e){return r.a.createElement($e.a,Object.assign({disableRipple:!0},e))})),tt=a(751),at=Object(We.a)({indicator:{display:"flex",justifyContent:"center","& > div":{maxWidth:40,width:"100%",overflow:"auto",backgroundColor:"#635ee7"}}})((function(e){return r.a.createElement(tt.a,Object.assign({},e,{TabIndicatorProps:{children:r.a.createElement("div",null)}}))})),nt=a(701),rt=a(698),ct=a(699),lt=a(700),ot=function(e){var t=e.items;return r.a.createElement(nt.a,{orientation:"vertical"},t.map((function(e){var t=e.label,a=e.data;return r.a.createElement(rt.a,{active:!0,key:t},r.a.createElement(ct.a,null,t),r.a.createElement(lt.a,null,r.a.createElement(l.a,null,a)))})))},it=a(758),ut=a(27),st=function(e,t,a){return Object(ut.map)(e,(function(e){return{value:e.value,label:dt(t,a,e.value)?"X":e.label}}))},dt=function(e,t,a){return e-t>0?a<e&&a>t:a<e||a>t};function mt(e){var t,a,r=e.trackStartHour,l=e.trackEndHour,o=e.setTrackSelectedHour,i=e.shiftStart,u=e.shiftEnd;return n.createElement(c.a,{item:!0,md:12},n.createElement(c.a,{container:!0,md:12,justify:"space-between"},n.createElement(c.a,{item:!0},"Midnight"),n.createElement(c.a,{item:!0},"Morning"),n.createElement(c.a,{item:!0},"Noon"),n.createElement(c.a,{item:!0},"Evening"),n.createElement(c.a,{item:!0},"Night")),n.createElement(it.a,{getAriaValueText:function(e){return!dt(i,u,e)&&o(e)},min:r,step:1,max:l,marks:st((t=r,a=l,Object(ut.map)(new Array(a-t),(function(e,a){return{value:t+a,label:t+a===0?"12AM":t+a<12?t+a+"AM":t+a===12?"12PM":(t+a)%12+"PM"}}))),i,u)}))}},40:function(e,t,a){"use strict";var n=a(5),r=a(1),c=a.n(r),l=a(3),o=a(19),i=a(9),u=a(15),s=a.n(u),d=a(32),m=a(56),p=a(27),b=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(o.e)("/v1/cargo/get-pending-pickup",{branch:Object(i.d)().branch,fetched:-12,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,r=t.fetched,e.abrupt("return",Object(o.e)("/v1/cargo/get-pending-pickup",{branch:Object(i.d)().branch,fetched:void 0===r?-1:r,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(o.c)("/v1/cargo/get-all-deleted?branch=".concat(Object(i.d)().branch,"&startDate=").concat(a,"&endDate=").concat(n)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(o.e)("/v1/cargo/get-cash-collection",{branch:Object(i.d)().branch,fetched:0,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(o.e)("/v1/cargo/get-all-in-warehouse",{branch:Object(i.d)().branch,fetched:1,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.startDate,r=t.endDate,l=t.fetched,u=t.hasLoadingId,e.abrupt("return",Object(o.e)("/v1/cargo/get-all-in-destination-delivery-warehouse?hasLoadingId=".concat(u),{branch:Object(i.d)().branch,fetched:l||3,start:n,end:r,deliveryType:null===(a=Object(i.d)().deliveryType)||void 0===a?void 0:a[2]}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(o.e)("/v1/cargo/get-all-in-destination-delivery-warehouse",{branch:Object(i.d)().branch,fetched:3,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,r=t.shortLoaded,l=t.branch,e.abrupt("return",Object(o.e)("/v1/cargo/get-all-in-destination-warehouse?shortLoaded=".concat(r),{branch:l||Object(i.d)().branch,fetched:2,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,r=t.branch,e.abrupt("return",Object(o.e)("/v1/cargo/get-all-extended",{branch:r||Object(i.d)().branch,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.e)("/v1/cargo/get-all-like?branch=".concat(a||Object(i.d)().branch,"&like=").concat(t),{}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(o.e)("/v1/cargo/get-for-reports",{branch:Object(i.d)().branch,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(a=Object(n.a)(Object(n.a)({},t),{},{pickupDate:t.pickupDateTime.format("YYYY-MM-DD"),pickupTime:t.pickupDateTime.format("HH:mm"),createdDate:s()().format("YYYY-MM-DD"),createdTime:s()().format("HH:mm"),branch:Object(i.d)().branch,auth:Object(i.d)().username,priority:Math.floor(s.a.duration(s()().diff(s()("2021-01-01"))).asSeconds())})).pickupDateTime,e.abrupt("return",Object(o.e)("/v1/cargo/create"+Object(m.a)("JOB-CREATED"),a));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e,t){return e?"string"===typeof e?e:e.format(t):s()().format(t)},k=function(){var e=Object(l.a)(c.a.mark((function e(t,a,r,l,u){var p,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(p=Object(n.a)(Object(n.a)({},t),{},{amount:Object(d.a)(r),paid:u,amountSpec:JSON.stringify(r.map((function(e){return{costType:e.costType,amount:e.amount}}))),amountSystem:JSON.stringify(l.map((function(e){return{costType:e.costType,amount:e.amount}}))),pickupDate:x(t.pickupDateTime,"YYYY-MM-DD"),pickupTime:x(t.pickupDateTime,"HH:mm"),pickedUpDate:x(t.pickedUpDateTime,"YYYY-MM-DD"),pickedUpTime:x(t.pickedUpDateTime,"HH:mm"),createdDate:s()().format("YYYY-MM-DD"),createdTime:s()().format("HH:mm"),auth:Object(i.d)().username,branch:Object(i.d)().branch})).pickupDateTime,delete p.pickedDateTime,b=a.map((function(e){var t=Object(n.a)({},e);return delete t.id,t})),e.abrupt("return",Object(o.e)("/v1/cargo/create-with-package"+Object(m.a)("CARGO-HBL-CREATED"),{cargo:p,packages:b}));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(c.a.mark((function e(t,a,r,l,u){var d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(d=Object(n.a)(Object(n.a)({},t),{},{amount:0,paid:0,amountSpec:"{}",amountSystem:"{}",pickupDate:x(t.pickupDateTime,"YYYY-MM-DD"),pickupTime:x(t.pickupDateTime,"HH:mm"),createdDate:s()().format("YYYY-MM-DD"),createdTime:s()().format("HH:mm"),auth:Object(i.d)().username,branch:Object(i.d)().branch})).pickupDateTime,p=a.map((function(e){var t=Object(n.a)({},e);return delete t.id,t})),e.abrupt("return",Object(o.e)("/v1/cargo/create-with-package"+Object(m.a)("DOMESTIC-JOB-CREATED"),{cargo:d,packages:p}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(c.a.mark((function e(t,a,r,l,u,s,p){var b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b=Object(n.a)(Object(n.a)({},a),s||{}),r&&(b.amount=Object(d.a)(r),b.paid=u,b.amountSpec=JSON.stringify(r.map((function(e){return{costType:e.costType,amount:e.amount}}))),b.amountSystem=JSON.stringify(l.map((function(e){return{costType:e.costType,amount:e.amount}})))),e.abrupt("return",Object(o.f)("/v1/cargo/update/"+t+Object(m.a)(p||"EDIT-CARGO-DETAILS")+"&branch=".concat(Object(i.d)().branch),b));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c,l,o){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={pickupDate:x(a.pickupDateTime,"YYYY-MM-DD"),pickupTime:x(a.pickupDateTime,"HH:mm"),pickupArea:a.pickupArea},e.abrupt("return",Object(o.f)("/v1/cargo/update/"+t+Object(m.a)("EDIT-JOB")+"&branch=".concat(Object(i.d)().branch),n));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.c)("/v1/cargo/get-by-id/"+t+"?branch=".concat(Object(i.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.c)("/v1/cargo/get-by-hbl?hbl="+t+"&branch="+(a||Object(i.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object(p.size)(t)>0)){e.next=4;break}return e.abrupt("return",Object(o.c)("/v1/cargo/get-by-ids?"+t.reduce((function(e,t){return e+"&ids="+t}),"").substring(1)+"&branch=".concat(Object(i.d)().branch)));case 4:return e.abrupt("return",new Promise((function(e){return e([])})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object(p.size)(t)>0)){e.next=4;break}return e.abrupt("return",Object(o.c)("/v1/cargo/get-by-hbls?branch="+(a||Object(i.d)().branch)+t.reduce((function(e,t){return e+"&hbls="+t}),"")));case 4:return e.abrupt("return",new Promise((function(e){return e([])})));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.a)("/v1/cargo/delete-many"+Object(m.a)("DELETE-CARGO")+"&branch=".concat(Object(i.d)().branch),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/undo-delete/"+t+Object(m.a)("DELETE-CARGO-UNDO")+"&branch=".concat(Object(i.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many?sms=DRIVER-ASSIGNED"+Object(m.a)("DRIVER-ASSIGN-JOB","&")+"&branch=".concat(Object(i.d)().branch),{payload:{driverId:a},ids:t,ifFetched:[-1]}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("RETRY-JOB")+"&branch=".concat(Object(i.d)().branch),{payload:{fetched:-1},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("RETRY-JOB")+"&branch=".concat(Object(i.d)().branch),{payload:{fetched:-12},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-several"+Object(m.a)("SET-JOB-PRIORITY")+"&branch=".concat(Object(i.d)().branch),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("SET-BRANCH-WAREHOUSE")+"&branch=".concat(Object(i.d)().branch),{payload:{pickupWarehouseZone:a},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("SET-DELIVERY-ROUTE")+"&branch=".concat(Object(i.d)().branch),{payload:{deliveryRoute:a},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("CUSTOMS-CLEARED")+"&branch=".concat(Object(i.d)().branch),{payload:{fetched:3},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("CUSTOMS-CLEARED-COMPLETED")+"&branch=".concat(Object(i.d)().branch),{payload:{fetched:4},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("SHORT-LOADING")+"&branch=".concat(Object(i.d)().branch),{payload:{shortLoaded:a||"S:"},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("SHORT-LOADING-FIXED")+"&branch=".concat(Object(i.d)().branch),{payload:{shortLoaded:""},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many?sms=CASHED"+Object(m.a)("CASHED","&")+"&branch=".concat(Object(i.d)().branch,"&driverName=").concat(a),{payload:{fetched:1,cashedBy:Object(i.d)().username,cashedDate:s()().format("YYYY-MM-DD"),cashedTime:s()().format("HH:mm")},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.f)("/v1/cargo/update-many"+Object(m.a)("REVERT-CASH")+"&branch=".concat(Object(i.d)().branch),{payload:{fetched:0},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.c)("/v1/cargo/get-by-loading-id/"+t+"?branch=".concat(Object(i.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.c)("/v1/cargo/get-by-dispatched-id/"+t+"?branch=".concat(Object(i.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(o.c)("/v1/cargo/get-by-id/"+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a={addDomesticJob:S,getPendingDomestic:b,getPendingPickups:f,getCashSettlements:h,getWarehouse:v,getWarehouseDelivery:E,getWarehouseBonded:O,getAllHbl:j,getAllHblLike:D,getForReports:w,getCargoStatus:X,addHbl:k,editHbl:T,editJob:Y,addJob:C,getCargo:M,getCargoByHbl:I,getCargos:A,getCargosByHbl:L,deleteCargo:R,undoDeleteCargo:B,assignCargo:z,retryCargo:N,retryDomestic:P,assignCargoPriority:F,assignCargoWarehouse:H,assignDeliveryRoute:W,assignCustomCleared:U,assignCustomClearedAndCompleted:q,markAsShortLoading:G,markAsShortLoadingFixed:V,receiveCashCargo:J,revertCashCargo:K,getDeletedCargo:g,getLoadedCargos:_,getDispatchedCargo:Z,getDispatchedCargoAll:y}},438:function(e,t){},490:function(e,t,a){e.exports=a(654)},56:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(15),r=a.n(n),c=a(9),l=function(e,t){return"".concat(t||"?","audit=").concat(r()().format("YYYY-MM-DD_HH-mm"),"_").concat(Object(c.d)().branch,"_").concat(e,"_").concat(Object(c.d)().username)}},646:function(e,t){},647:function(e,t){},654:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),l=a.n(c),o=a(7),i=a(13),u=a(28),s=a(29),d=a(98),m=a(59),p=a(443),b=a(25),f=a(52),g=a(477),h=a(680),v=a(655),E=a(688),y=a(189),O=a(331),j=a.n(O),D=a(172),w=a(20),C={fontFamily:"'IBM Plex Sans', sans-serif",h1:{fontWeight:500,fontSize:"35px",letterSpacing:"-0.24px",lineHeight:"40px"},h2:{fontWeight:500,fontSize:"29px",letterSpacing:"-0.24px",lineHeight:"32px"},h3:{fontWeight:500,fontSize:"24px",letterSpacing:"-0.06px",lineHeight:"28px"},h4:{fontWeight:500,fontSize:"20px",letterSpacing:"-0.06px",lineHeight:"24px"},h5:{fontWeight:500,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"20px"},h6:{fontWeight:500,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"20px"},subtitle1:{fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"25px"},subtitle2:{color:w.a.text.secondary,fontWeight:400,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body1:{fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body2:{color:w.a.text.secondary,fontSize:"12px",letterSpacing:"-0.04px",lineHeight:"18px"},button:{fontSize:"14px"},caption:{fontSize:"11px",letterSpacing:"0.33px",lineHeight:"13px"},overline:{color:w.a.text.secondary,fontSize:"11px",fontWeight:500,letterSpacing:"0.33px",lineHeight:"13px",textTransform:"uppercase"}},x={root:{margin:"0 8px",padding:8,fontSize:20,color:w.a.icon,"&:hover":{cursor:"pointer"}}},k=a(5),S={root:Object(k.a)(Object(k.a)({},C.body1),{},{borderBottom:"1px solid ".concat(w.a.divider)})},T=a(16),Y={MuiButton:{contained:{boxShadow:"0 1px 1px 0 rgba(0,0,0,0.14), 0 2px 1px -1px rgba(0,0,0,0.12), 0 1px 3px 0 rgba(0,0,0,0.20)",backgroundColor:"#FFFFFF"}},MuiIconButton:x,MuiPaper:{elevation1:{boxShadow:"none"},elevation4:{boxShadow:"none"}},MuiTableCell:S,MuiTableHead:{root:{backgroundColor:T.colors.grey[50]}},MuiTypography:{gutterBottom:{marginBottom:8}},MuiDialogTitle:{root:{color:w.a.black}},MUIDataTableBodyCell:{root:{}},MUIDataTableHeadCell:{root:{padding:"8px !important",border:"1px solid "+w.a.shades.light,color:w.a.shades.main+" !important"}},MUIDataTableToolbar:{root:{minHeight:"12% !important",maxHeight:"12% !important",padding:"0 4px"},iconActive:{color:w.a.tableHeader.color+" !important"},icon:{color:w.a.tableHeader.color+" !important"}},MUITable:{root:{overflowY:"scroll"}},MUIDataTableFilterList:{root:{paddingBottom:"8px",margin:"0 !important",background:"none"}},MUIDataTable:{paper:{height:"100%",whiteSpace:"nowrap",padding:"8px"},responsiveScrollFullHeight:{height:"80% ",overflowY:"scroll"},responsiveScrollMaxHeight:{maxHeight:"none"},responsiveScroll:{maxHeight:"none"}},MuiLink:{root:{cursor:"pointer"}},MuiExpansionPanelSummary:{root:{minHeight:"45px !important",height:45,background:w.a.shades.light}}},M=Object(D.a)({props:{MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiInputLabel:{margin:"dense"},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense"},MuiToolbar:{variant:"dense"}},palette:w.a,typography:C,overrides:Y,zIndex:{appBar:1200,drawer:1100}}),I=a(4),A=(a(428),a(60)),L=a(1),R=a.n(L),B=a(3),z=a(6),N=a(10),P=a(8),F=a(220),H=a(665),W=a(474),U=a(687),q=a(116),G=a(759),V=a(693),J=a(62),K=a(182),_=a(689),Z=a(278),X=a.n(Z),Q=a(132),$=a.n(Q),ee=a(667),te=a(138),ae=a(407),ne=a(663),re=a(204),ce=a(337),le=a.n(ce),oe=a(336),ie=a.n(oe),ue=a(440),se=a(121),de=Object(g.a)((function(e){return{root:{},item:{display:"flex",paddingTop:0,paddingBottom:0,overflow:"hidden"},button:{color:T.colors.blueGrey[800],padding:"10px 8px",justifyContent:"flex-start",textTransform:"none",letterSpacing:0,width:"100%",fontWeight:e.typography.fontWeightMedium,whiteSpace:"nowrap"},icon:{color:e.palette.icon,width:24,height:24,display:"flex",alignItems:"center",marginRight:e.spacing(1)},active:{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium,"& $icon":{color:e.palette.primary.main}},collapsecomp:{paddingLeft:e.spacing(2)},expandIcon:{float:"right",position:"absolute",paddingRight:e.spacing(1),right:0}}})),me=Object(n.forwardRef)((function(e,t){return r.a.createElement("div",{ref:t,style:{flexGrow:1}},r.a.createElement(d.c,e))})),pe=function(e){e.branch;var t=e.pages,a=e.open,n=e.className,c=e.name,l=(e.branchType,Object(q.a)(e,["branch","pages","open","className","name","branchType"])),o=de(),i=r.a.useState({}),u=Object(z.a)(i,1)[0],s=r.a.useState(!1),d=Object(z.a)(s,2),m=d[0],p=d[1],b=r.a.useState((function(){var e={};return t.forEach((function(t){e[t.title]=!1})),e})),f=Object(z.a)(b,2),g=f[0],h=f[1],v=r.a.useReducer((function(){return{}}))[1],E=function(e){h(g[e]?Object(N.a)({},e,!1):Object(N.a)({},e,!0)),v()},y=function(e,t){return!0===a?r.a.createElement(ee.a,{className:o.item,disableGutters:!0,key:t},!0===e.isCollapsible&&e.subMenuList instanceof Array?r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{className:o.button,onClick:function(){return E(e.title)}},r.a.createElement("div",{className:o.icon},e.icon),Object(se.b)(e.title),r.a.createElement("div",{className:o.expandIcon},!0===g[e.title]?r.a.createElement(ie.a,null):r.a.createElement(le.a,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{activeClassName:o.active,className:o.button,component:me,to:e.href},r.a.createElement("div",{className:o.icon},e.icon),Object(se.b)(e.title),r.a.createElement("div",{className:o.expandIcon},u[e.title]?r.a.createElement(ue.a,{size:"small",label:u[e.title]||0,style:{fontSize:11,background:w.a.shades.main,color:"white",padding:"0px"}}):r.a.createElement(r.a.Fragment,null))))):r.a.createElement(ae.a,{key:t,title:Object(se.b)(e.title)},r.a.createElement(ee.a,{className:o.item,disableGutters:!0},!0===e.isCollapsible&&e.subMenuList instanceof Array?r.a.createElement(te.a,{className:o.button,onClick:function(){return E(e.title)}},r.a.createElement("div",{className:o.icon},e.icon),null):r.a.createElement(te.a,{activeClassName:o.active,className:o.button,component:me,to:e.href},r.a.createElement("div",{className:o.icon},e.icon),null)))};return r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(te.a,{style:{paddingTop:20,fontSize:15},onClick:function(){return p(!m)}},r.a.createElement("div",{style:{textAlign:"left",width:"100%",fontWeight:"bold"}},c),r.a.createElement("div",{className:o.expandIcon},!0===m?r.a.createElement(ie.a,null):r.a.createElement(le.a,null))),!m&&r.a.createElement(ne.a,Object.assign({},l,{className:Object(P.default)(o.root,n)}),t.map((function(e,t){return!0===e.isCollapsible&&e.subMenuList instanceof Array?r.a.createElement(r.a.Fragment,{key:t},y(e,t),r.a.createElement(re.a,{in:g&&!0===g[e.title]&&a,timeout:"auto",unmountOnExit:!0,className:o.collapsecomp,children:r.a.createElement(ne.a,{component:"div",disablePadding:!0},e.subMenuList.map((function(e,a){return y(e,t+"_"+a)})))})):y(e,t)}))))},be=a(285),fe=a.n(be),ge=a(448),he=a.n(ge),ve=a(449),Ee=a.n(ve),ye=a(284),Oe=a.n(ye),je=a(281),De=a.n(je),we=a(280),Ce=a.n(we),xe=a(283),ke=a.n(xe),Se=a(450),Te=a.n(Se),Ye=a(451),Me=a.n(Ye),Ie=a(452),Ae=a.n(Ie),Le=a(282),Re=a.n(Le),Be=a(430),ze=a.n(Be),Ne=a(22),Pe=a(712),Fe=a(713),He=a(714),We=a(715),Ue=a(716),qe=[{name:"",menu:[{title:"Dashboard",href:"/dashboard",icon:r.a.createElement(he.a,null),types:[Ne.a.pickup,Ne.a.delivery]},{title:"Membership",isCollapsible:!0,types:[Ne.a.pickup,Ne.a.delivery],subMenuList:[{title:"New Member",href:"/new-member",icon:r.a.createElement(Ce.a,null),types:[Ne.a.pickup]},{title:"Pending",href:"/pending",icon:r.a.createElement(Ee.a,null),types:[Ne.a.pickup,Ne.a.domestic]},{title:"Search/Edit",href:"/search",icon:r.a.createElement(De.a,null),types:[Ne.a.pickup,Ne.a.delivery,Ne.a.domestic]},{title:"Cancelled",href:"/cancelled",icon:r.a.createElement(Re.a,null),types:[Ne.a.pickup,Ne.a.domestic]}],icon:r.a.createElement(Pe.a,null)},{title:"Office",isCollapsible:!0,types:[Ne.a.pickup],subMenuList:[{title:"Cash Settlement",href:"/cash-settlements",icon:r.a.createElement(ke.a,null),types:[Ne.a.pickup]},{title:"Payment Summary",href:"/payment-summary",icon:r.a.createElement(ze.a,null),types:[Ne.a.pickup]},{title:"Warehouse",href:"/warehouse",icon:r.a.createElement(Oe.a,null),types:[Ne.a.pickup]}],icon:r.a.createElement(Fe.a,null)},{title:"Reports",isCollapsible:!0,types:[Ne.a.pickup,Ne.a.delivery],subMenuList:[{title:"Progress/Efficiency",href:"/efficiency",icon:r.a.createElement(Te.a,null),types:[Ne.a.pickup,Ne.a.delivery,Ne.a.domestic]},{title:"Comparison Analysis",href:"/comparison",icon:r.a.createElement(Me.a,null),types:[Ne.a.pickup,Ne.a.domestic]},{title:"Sales Analysis",href:"/sales",icon:r.a.createElement(He.a,null),types:[Ne.a.pickup,Ne.a.domestic]},{title:"Cross Branch",href:"/cross-branch",icon:r.a.createElement(We.a,null),types:[Ne.a.pickup,Ne.a.delivery]},{title:"Shipment 360",href:"/shipment-360",icon:r.a.createElement(Ue.a,null),types:[Ne.a.pickup,Ne.a.delivery]}],icon:r.a.createElement(Ae.a,null)}]}],Ge=Object(g.a)((function(e){return{drawer:{backgroundImage:"linear-gradient(white, #e8e4f1)",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerMobile:Object(N.a)({background:e.palette.sidebar.background,width:240},e.breakpoints.up("lg"),{marginTop:0,height:"calc(100% - 64px)"}),drawerClose:Object(N.a)({height:"auto",background:e.palette.sidebar.background,overflowX:"hidden",width:e.spacing(7)+1,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},e.breakpoints.up("sm"),{width:e.spacing(7)+3}),root:{display:"flex",flexDirection:"column",padding:e.spacing(1),paddingTop:e.spacing(6)},logoWrapper:{textAlign:"center"},logo:{width:"70%",padding:e.spacing(1),borderRadius:"4rem",boxShadow:"0px 0px 35px rgba(0,0,0,0.25)"},divider:Object(N.a)({},e.breakpoints.up("lg"),{margin:e.spacing(2)}),hidden:{opacity:0}}})),Ve=function(e){var t,a=e.branch,n=e.branchType,c=e.open,l=e.variant,o=e.onClose,i=e.onDrawerOpen,u=e.onSignOut,s=e.className,d=e.isDesktop,m=Object(q.a)(e,["branch","branchType","open","variant","onClose","onDrawerOpen","onSignOut","className","isDesktop"]),p=Ge();return r.a.createElement(G.a,Object.assign({anchor:"left",onClose:o,onOpen:i,open:c,classes:{paper:d?Object(P.default)((t={},Object(N.a)(t,p.drawer,c),Object(N.a)(t,p.drawerClose,!c),t)):p.drawerMobile},variant:d?"permanent":l},m),r.a.createElement($.a,null,r.a.createElement(V.a,{container:!0,style:{paddingLeft:30,paddingTop:30}},r.a.createElement("img",{src:X.a,alt:"logo",style:{width:40,marginRight:10}}),r.a.createElement(V.a,{item:!0},r.a.createElement(J.a,null,"Zahira College"),r.a.createElement(J.a,null,"Mawanella - OBA"))),r.a.createElement("div",{className:Object(P.default)(p.root,s)},r.a.createElement(pe,{pages:qe[0].menu,name:qe[0].name,open:c,branch:a,branchType:n}),c?r.a.createElement(K.a,{in:!0,style:{transformOrigin:"left"},timeout:1e3},r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:p.divider}),r.a.createElement(V.a,{container:!0},r.a.createElement(I.o,{size:12,onClick:u,icon:r.a.createElement(fe.a,null),tooltip:"Logout",label:" Logout"})))):null)))},Je=(a(681),a(330),a(754),a(267),a(399),a(454),a(453),a(9)),Ke=(a(717),Object(g.a)((function(e){return{root:{boxShadow:e.palette.secondary.light},logo:{height:"46px",padding:"4px",marginTop:"4px"},toolbar:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},titleWrapper:{flexGrow:1,userSelect:"none"},title:Object(N.a)({userSelect:"none",color:e.palette.primary.contrastText,fontWeight:400,flexGrow:1,textAlign:"center"},e.breakpoints.down("md"),{display:"hidden"}),subtitle:Object(N.a)({userSelect:"none",color:e.palette.primary.contrastText,fontWeight:600,flexGrow:1,textAlign:"center",fontFamily:"Changa"},e.breakpoints.down("sm"),{display:"hidden"}),flexGrow:{flexGrow:1},signOutButton:{marginLeft:e.spacing(1)},branch:{width:130,overrides:{MuiSvgIcon:{color:"white"}}},textField:{width:"90%",marginLeft:"auto",marginRight:"auto",paddingBottom:0,marginTop:0,fontWeight:500},input:{color:"white"}}})),r.a.forwardRef((function(e,t){return r.a.createElement("div",{ref:t,style:{flexGrow:0}},r.a.createElement(d.b,Object.assign({},e,{to:"/cool/relax"})))})),a(24)),_e=a(100),Ze=a(123),Xe=new AbortController,Qe={client:null},$e=function(){if(Qe.client)return Qe.client;try{return JSON.parse(localStorage.getItem("mw-b"))}catch(e){return[]}},et={login:function(){var e=Object(B.a)(R.a.mark((function e(t,a){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.cookie="api=; Max-Age=-999; path=/;",e.prev=1,e.next=4,fetch("".concat(Object(Ze.a)().resourceUrl,"/v1/authenticate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(k.a)(Object(k.a)({},t),{},{type:a}))}).then(_e.a);case 4:return n=e.sent,r=Object(Ke.a)(n.branch),localStorage.setItem("mw-b",JSON.stringify(r)),localStorage.setItem("mw-u",t.username),localStorage.setItem("mw-u-type",a||Ne.c.user),Qe.client=r,document.cookie="api=".concat(n.jwt,"; max-age=").concat(54e6,"; path=/;"),e.abrupt("return",n);case 14:throw e.prev=14,e.t0=e.catch(1),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}(),logout:function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.cookie="api=; Max-Age=-999; path=/;";case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAuthedUser:function(){var e=Object(B.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("mw-u"),e.abrupt("return",t);case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),aborter:Xe},tt=Object(g.a)((function(e){var t;return{root:(t={background:e.palette.background.default,paddingTop:6,height:"100%",overflow:"auto"},Object(N.a)(t,e.breakpoints.up("sm"),{paddingTop:5}),Object(N.a)(t,"transition",e.transitions.create("padding",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})),t),desktopLeftPadding:{paddingLeft:e.spacing(7)+1},shiftContent:{paddingLeft:240},content:{height:"98%",paddingTop:0,marginTop:6},childContainer:{height:"96%"},footerContainer:{height:"4%"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),at=function(e){var t,a=e.children,c=Object(b.useSnackbar)().enqueueSnackbar,l=tt(),o=Object(F.a)(),i=Object(H.a)(o.breakpoints.up("md"),{defaultMatches:!0}),u=$e()||[""],s=Object(n.useState)(!1),d=Object(z.a)(s,2),m=d[0],p=d[1],f=Object(n.useState)(!1),g=Object(z.a)(f,2),h=g[0],v=g[1],E=r.a.useState(u[0]),y=Object(z.a)(E,1)[0],O=r.a.useState({}),j=Object(z.a)(O,1)[0];r.a.useEffect((function(){p(!0===i)}),[i]);var D=window.location.href.includes("driver-app"),w=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,et.logout();case 3:D?window.Android.mwLogout():window.location.href.includes("/customer/")?window.location="".concat("/app","/sign-in/customer"):window.location="".concat("/app","/sign-in"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c("Could not log out, please delete cookies manually to ensure data safety",{variant:"warning"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),C=m,x=r.a.Children.map(a,(function(e){return r.a.cloneElement(e,{isMobile:!i})}));return r.a.createElement("div",{className:Object(P.default)((t={},Object(N.a)(t,l.root,!0),Object(N.a)(t,l.shiftContent,m&&i),Object(N.a)(t,l.desktopLeftPadding,i),t))},r.a.createElement(W.a,{className:l.backdrop,open:h,onClick:v},r.a.createElement(U.a,{color:"inherit"})),!D&&r.a.createElement(Ve,{onClose:function(){p(!1)},onDrawerOpen:function(){p(!0)},open:C,onSignOut:w,branch:y,branchType:j.type,isDesktop:i,variant:"temporary"}),!h&&r.a.createElement("main",{className:l.content},r.a.createElement("div",{className:l.childContainer},x)))},nt=Object(g.a)((function(){return{root:{overflowY:"scroll",height:"100%"},content:{height:"100%"}}})),rt=function(e){var t=e.children,a=nt();return r.a.createElement("div",{className:a.root},r.a.createElement("main",{className:a.content},t))},ct=a(122),lt=a(286),ot=a.n(lt),it=function(e){var t=e.error;return r.a.createElement(V.a,{container:!0,alignContent:"center",justify:"center",alignItems:"center",spacing:4,component:ct.a,style:{height:"100%"}},r.a.createElement(V.a,{item:!0},t?r.a.createElement(ot.a,null):r.a.createElement(U.a,null)),r.a.createElement(V.a,{item:!0},t?r.a.createElement(J.a,null,"Error. Please contact a Admin."):r.a.createElement(J.a,null,"Loading your experience...")))},ut=function(e){var t=e.layout,a=e.component,n=e.types,c=Object(q.a)(e,["layout","component","types"]),l=r.a.useState(null),o=Object(z.a)(l,2),i=o[0],u=o[1];return r.a.useEffect((function(){u({})}),[]),i?r.a.createElement(A.b,Object.assign({},c,{render:function(e){return r.a.createElement(t,{types:n},r.a.createElement(a,Object.assign({},c,e)))}})):null!==i?r.a.createElement(A.a,{to:"/sign-in"}):r.a.createElement(A.b,Object.assign({},c,{render:function(){return r.a.createElement(t,null,r.a.createElement(it,null))}}))},st=function(e){var t=e.layout,a=e.component,n=Object(q.a)(e,["layout","component"]);return r.a.createElement(A.b,Object.assign({},n,{render:function(e){return r.a.createElement(t,null,r.a.createElement(a,e))}}))},dt=a(215),mt=a(88),pt=(a(600),dt.a.initializeApp({apiKey:"AIzaSyCuRogbNMfuUz5j_L-h8eEpJrvOSV9DF-E",authDomain:"ob-test-41e9f.firebaseapp.com",projectId:"ob-test-41e9f",storageBucket:"ob-test-41e9f.appspot.com",messagingSenderId:"217234626807",appId:"1:217234626807:web:958d5eb68520d053a4dbf2"})),bt=dt.a,ft=dt.a.auth(),gt=new dt.a.auth.GoogleAuthProvider;gt.setCustomParameters({prompt:"select_account"});var ht=function(){return ft.signInWithPopup(gt)},vt=null,Et=function(){return vt||(vt=Object(mt.g)(pt)),vt},yt=function(){var e=Object(B.a)(R.a.mark((function e(t,a){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(mt.c)(Et(),t,a),e.next=3,Object(mt.e)(n);case 3:if(!(r=e.sent).exists()){e.next=8;break}return e.abrupt("return",r.data());case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n,r,c,l,o,i=arguments;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=i.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=i[r];return c=mt.i.apply(void 0,[Object(mt.b)(Et(),t)].concat(n)),e.next=4,Object(mt.f)(c);case 4:return l=e.sent,o=l.docs.map((function(e){return Object(k.a)(Object(k.a)({},e.data()),{},{id:e.id})})),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=Object(B.a)(R.a.mark((function e(t,a){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(mt.a)(Object(mt.b)(Et(),t),a);case 2:return n=e.sent,e.abrupt("return",n.id);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Dt=Object(g.a)((function(e){var t;return{root:{backgroundImage:"url(./images/login-bg.jpg)",backgroundSize:"cover",backgroundPosition:"top",backdropFilter:"none",overflow:"hidden",height:Math.floor(125)+"vh"},grid:{height:"100%"},textDanger:{color:e.palette.error.light},content:{height:"100%",display:"flex",flexDirection:"column"},contentBody:(t={flexGrow:1,display:"flex",alignItems:"flex-start",justifyContent:"center"},Object(N.a)(t,e.breakpoints.down("md"),{justifyContent:"center"}),Object(N.a)(t,e.breakpoints.up("xl"),{justifyContent:"center"}),t),form:Object(N.a)({borderRadius:"10px",textAlign:"center",flexBasis:"500px",margin:"80px 80px 80px 80px",marginTop:160,padding:"40px 40px 40px 40px",background:e.palette.shades.alpha},e.breakpoints.down("sm"),{padding:e.spacing(2)}),textField:{marginTop:e.spacing(2)},signInButton:{margin:e.spacing(2,0)},buttonSubtitle:{color:e.palette.white,"& a":{color:e.palette.white}}}})),wt=Object(A.g)((function(e){var t=Dt();Object(n.useEffect)((function(){bt.auth().onAuthStateChanged((function(t){var a=(e.location.state||{from:{pathname:"/"}}).from;e.history.push(a)}))}),[]);var a=Object(n.useState)({isValid:!1,touched:{},errors:{}}),c=Object(z.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){o((function(e){return{isValid:!0,errors:{}}}))}),[]),r.a.createElement("div",{className:t.root},r.a.createElement(V.a,{className:t.grid,container:!0,justify:"flex-end"},r.a.createElement(V.a,{className:t.content,item:!0,lg:12,xs:12},r.a.createElement("div",{className:t.content},r.a.createElement("div",{className:t.contentBody},r.a.createElement("div",{className:t.form},r.a.createElement(J.a,{className:t.title,variant:"h5",gutterBottom:!0},"Zahira College Mawanella"),r.a.createElement(J.a,{className:t.title,variant:"h1",gutterBottom:!0},"OBA Login"),l.errors.auth&&r.a.createElement(J.a,{variant:"overline",className:t.textDanger},l.errors.auth),r.a.createElement("img",{src:X.a,alt:"logo",style:{marginTop:20,borderRadius:10}}),r.a.createElement("div",{className:t.spacer}),r.a.createElement(te.a,{onClick:ht,className:t.signInButton,color:"primary",disabled:!1,fullWidth:!0,size:"large",type:"submit",variant:"contained"},"Login with Google")))))))})),Ct=Object(g.a)((function(e){return{root:{padding:e.spacing(2)},content:{paddingTop:35,textAlign:"center"},image:{marginTop:5,display:"inline-block",maxWidth:"100%",width:560}}})),xt=function(){var e=Ct();return r.a.createElement("div",{className:e.root},r.a.createElement(V.a,{container:!0,justify:"center",spacing:4},r.a.createElement(V.a,{item:!0,lg:6,xs:12},r.a.createElement("div",{className:e.content},r.a.createElement(J.a,{variant:"h1"},"404: page doesn't exist"),r.a.createElement(J.a,{variant:"subtitle2"},"Sorry.")))))},kt=a(684),St=a(686),Tt=a(683),Yt=a(685),Mt=a(455),It=a.n(Mt),At=["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(153, 102, 255, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(153, 102, 255, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(153, 102, 255, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],Lt=function(e){var t=e.details,a=e.loading,n={x:0,y:0,"line-width":3,"line-length":30,"text-margin":8,"font-size":18,"font-color":"#232323","line-color":w.a.shades.main,"element-color":w.a.shades.main,fill:"white","yes-text":"YES","no-text":"NO","arrow-end":"block",scale:.6,symbols:{start:{"font-color":"white","element-color":w.a.shades.main,"font-weight":"bold"},end:{}},flowstate:{style1:{"font-size":20,"font-color":"white","element-color":At[4],fill:At[4]},style2:{"font-size":20,"font-color":"white","element-color":At[2],fill:At[2]},style3:{"font-size":20,"font-color":"white","element-color":At[0],fill:At[0]}}},c=function(e){var t=e.jobs,a=e.directHbl,n=e.assigned,r=e.notAssigned,c=e.driverPicked,l=e.totalPicked,o=e.notPicked,i=e.cashed,u=e.notCashed;return"\n    st=>start: .::.\n    e=>end: -\n    st0=>parallel: Your Branch|department11\n    op0=>parallel: Jobs [ ".concat(t," ]|style2\n    op1=>inputoutput: Job not\n    assigned [ ").concat(r," ]|style3\n    op2=>operation: Assigned [ ").concat(n," ]|style1\n    op3=>parallel: Total HBL [ ").concat(l," ]|style1\n    op3a=>operation: Driver Picked [ ").concat(c," ]|style1\n    op4=>inputoutput: Pickup\n    Pending [ ").concat(o," ]|style3\n    op5=>operation: Warehouse [ ").concat(i," ]|style1\n    op6=>inputoutput: Cash collection\n    pending [ ").concat(u," ]|style3\n    op7=>inputoutput: Pending Loading|style3\n    op8=>inputoutput: Added to Shipment|style3\n    cond=>condition: Job Driver\n    Assigned?\n    cond1=>condition: HBL Picked?\n    cond2=>condition: .  .  Cash\n    Received?\n    cond3=>condition: Loading Point?\n    para1=>parallel: Direct\n    HBL [ ").concat(a," ]|style2\n    \n    st(right)->st0(path1)->op0(path1)->cond\n    cond(yes)->op2->cond1\n    cond(no, left)->op1\n    cond1(yes)->op3a->op3(path1)->cond2\n    cond1(no, left)->op4\n    cond2(yes)->op5->cond3\n    cond2(no)->op6\n    cond3(yes)->op8\n    cond3(no)->op7\n    st0(path2, right)->para1\n    para1(path1)->op3\n    ")}(t);return r.a.createElement(V.a,{container:!0,justify:"center",alignItems:"center",alignContent:"center"},!a&&r.a.createElement(It.a,{chartCode:c,options:n,onClick:function(e){}}))},Rt=a(718),Bt=a(719),zt=a(720),Nt=a(721),Pt=function(e){var t=e.details,a=e.loading,n=r.a.useState([]),c=Object(z.a)(n,2),l=c[0],o=c[1];return r.a.useEffect((function(){var e=[{color:At[6],label:"Assigned Jobs",labelRight:"Now",isActive:!0,value:t.assigned,icon:r.a.createElement(Rt.a,{fontSize:"large",style:{color:"white"}})},{color:At[7],label:"Picked",labelRight:"Now",isActive:!0,value:t.driverPicked,icon:r.a.createElement(Bt.a,{fontSize:"large",style:{color:"white"}})},{color:At[3],label:"Pending",labelRight:"Now",isActive:!0,value:t.notPicked,icon:r.a.createElement(zt.a,{fontSize:"large",style:{color:"white"}})},{color:At[4],label:"Total HBL",labelRight:"Now",isActive:!0,value:t.totalPicked,icon:r.a.createElement(Nt.a,{fontSize:"large",style:{color:"white"}})}];o(e)}),[t]),r.a.createElement(V.a,{container:!0,style:{paddingBottom:50}},l.map((function(e){return r.a.createElement(V.a,{item:!0,xs:12,sm:3,style:{padding:20,paddingLeft:20}},r.a.createElement(I.b,{data:e,color:e.color,loading:a}))})))},Ft=a(74),Ht=a(19),Wt=new AbortController,Ut=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/get-landing-page?branchType=".concat(Object(Je.d)().type,"&branch=").concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qt=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/summary-monthly?branchType=".concat(Object(Je.d)().type,"&branch=").concat(Object(Je.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/hbl-monthly?branchType=".concat(Object(Je.d)().type,"&branch=").concat(Object(Je.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vt=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/sales-aggregate?branchType=".concat(Object(Je.d)().type,"&branch=").concat(Object(Je.d)().branch,"&startDate=").concat(t,"&quarter=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/get-landing-page-flow-chart?branchType=".concat(Object(Je.d)().type,"&branch=").concat(Object(Je.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/get-zones-vs-dates?branchType=".concat(Object(Je.d)().type,"&branch=").concat(Object(Je.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_t=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/get-drivers-vs-dates?branchType=".concat(Object(Je.d)().type,"&branch=").concat(Object(Je.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/driver-monthly?branchType=".concat(Object(Je.d)().type,"&branch=").concat(Object(Je.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xt=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/get-landing-drivers?branchType=".concat(Object(Je.d)().type,"&branch=").concat(Object(Je.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/get-landing-pickup-areas?branchType=".concat(Object(Je.d)().type,"&branch=").concat(Object(Je.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$t=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/get-landing-warehouse-zones?branchType=".concat(Object(Je.d)().type,"&branch=").concat(Object(Je.d)().branch,"&startDate=").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ea=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(Je.d)().branch){e.next=2;break}return e.abrupt("return",new Promise((function(e){return e([])})));case 2:if(Object(Je.d)().type!==Ne.a.pickup_customer){e.next=4;break}return e.abrupt("return",new Promise((function(e){return e([])})));case 4:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/side-counts?branchType=".concat(Object(Je.d)().type,"&branch=").concat(Object(Je.d)().branch)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ta=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/cross-branch?branchType=".concat(Object(Je.d)().type,"&branch=").concat(t.join("&branch="),"&date=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),aa=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/cross-branch-hbls?branchType=".concat(Object(Je.d)().type,"&branch=").concat(t.join("&branch="),"&date=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),na=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/dashboard/cross-branch-shipments?branchType=".concat(Object(Je.d)().type,"&branch=").concat(t.join("&branch="),"&date=").concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ra={getSideCounts:ea,getDashboardData:Ut,getFlowChartData:Jt,getHblMonthly:Gt,getCrossBranch:ta,getCrossBranchHblByFetched:aa,getCrossBranchShipments:na,getSalesAggregate:Vt,getDriversVsDates:_t,getZonesVsDates:Kt,getSummaryCards:qt,getDriverMonthly:Zt,getDriversSummary:Xt,getPickupZoneSummary:Qt,getWarehouseSummary:$t,aborter:Wt},ca=a(58),la=a.n(ca),oa=a(709),ia=a(722),ua=a(723),sa=a(724),da={scales:{yAxes:[{ticks:{stepSize:1,beginAtZero:!0},scaleLabel:{display:!0,labelString:"  "}}],xAxes:[{ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"Assigned"}}]},legend:{display:!1}},ma=function(e){var t=la()(e,(function(e,t){var a=t.label,n=t.value;return{labels:[].concat(Object(Ke.a)(e.labels),[a||"N/A"]),values:[].concat(Object(Ke.a)(e.values),[n])}}),{labels:[],values:[]});return{labels:t.labels||[],datasets:[{data:t.values||[],backgroundColor:At,borderColor:At,borderWidth:1}]}},pa=function(e){var t=e.searchFields,a=Object(b.useSnackbar)().enqueueSnackbar,n=r.a.useState({labels:[],datasets:[{data:[]}]}),c=Object(z.a)(n,2),l=c[0],o=c[1],i=r.a.useState(!1),u=Object(z.a)(i,2),s=u[0],d=u[1],m=r.a.useState({labels:[],datasets:[{data:[]}]}),p=Object(z.a)(m,2),f=p[0],g=p[1],h=r.a.useState(!1),v=Object(z.a)(h,2),E=v[0],y=v[1],O=r.a.useState({labels:[],datasets:[{data:[]}]}),j=Object(z.a)(O,2),D=j[0],w=j[1],C=r.a.useState(!1),x=Object(z.a)(C,2),k=x[0],S=x[1];return r.a.useEffect((function(){d(!0),ra.getDriversSummary(t.startDate).then((function(e){o(ma(e))})).catch((function(e){a("Could not fetch",{variant:"error"})})).finally((function(e){return d(!1)}))}),[a,t]),r.a.useEffect((function(){y(!0),ra.getPickupZoneSummary(t.startDate).then((function(e){g(ma(e))})).catch((function(e){a("Could not fetch",{variant:"error"})})).finally((function(e){return y(!1)}))}),[a,t]),r.a.useEffect((function(){S(!0),ra.getWarehouseSummary(t.startDate).then((function(e){w(ma(e))})).catch((function(e){a("Could not fetch",{variant:"error"})})).finally((function(e){return S(!1)}))}),[a,t]),r.a.createElement(V.a,{container:!0,style:{paddingTop:20,paddingBottom:30}},r.a.createElement(V.a,{md:4,style:{paddingLeft:30}},r.a.createElement(I.j,{size:12,Icon:ia.a,title:"Drivers",subtitle:"Summary: "+t.timeFrame})),r.a.createElement(V.a,{md:4,style:{paddingLeft:40}},r.a.createElement(I.j,{size:12,Icon:ua.a,title:"Pickup Areas",subtitle:"Summary: "+t.timeFrame})),r.a.createElement(V.a,{md:4,style:{paddingLeft:40}},r.a.createElement(I.j,{size:12,Icon:sa.a,title:"Warehouse Zones",subtitle:"Summary: "+t.timeFrame})),r.a.createElement(V.a,{md:4,style:{padding:10,boxShadow:"16px 23px 23px -22px #a2a2a275"}},!s&&r.a.createElement(Ft.c,{data:l,options:da}),s&&r.a.createElement(oa.a,{variant:"text",height:250})),r.a.createElement(V.a,{md:4,style:{padding:10,paddingLeft:0,boxShadow:"16px 23px 23px -22px #a2a2a275"}},!E&&r.a.createElement(Ft.c,{data:f,options:da}),E&&r.a.createElement(oa.a,{variant:"text",height:250})),r.a.createElement(V.a,{md:4,style:{padding:10,boxShadow:"16px 23px 23px -22px #a2a2a275"}},!k&&r.a.createElement(Ft.c,{data:D,options:da}),k&&r.a.createElement(oa.a,{variant:"text",height:250})))},ba=a(15),fa=a.n(ba),ga=a(27),ha=["Today","Two days","Four days","One week"],va=function(e){var t=r.a.useState(0),a=Object(z.a)(t,2),n=a[0],c=a[1],l=r.a.useState(!1),o=Object(z.a)(l,2),i=o[0],u=o[1],s=Object(b.useSnackbar)().enqueueSnackbar,d=r.a.useState({startDate:fa()().subtract(2,"d").format("YYYY-MM-DD"),timeFrame:ha[1]}),m=Object(z.a)(d,2),p=m[0],f=m[1],g=r.a.useState({jobs:"-",directHbl:"-",assigned:"-",notAssigned:"-",driverPicked:"-",totalPicked:"-",notPicked:"-",cashed:"-",notCashed:"-"}),h=Object(z.a)(g,2),v=h[0],E=h[1];return r.a.useEffect((function(){u(!0),ra.getFlowChartData(p.startDate).then((function(e){var t=0,a=0,n=0,r=0,c=0,l=0;Object(ga.map)(e,(function(e){"NULL#-1"===e.label?n=+e.value:"NULL#0"===e.label?t=+e.value:"NULL#1"===e.label?a=+e.value:e.label.includes("#-1")?r=+e.value:e.label.includes("#0")?c=+e.value:e.label.includes("#1")&&(l=+e.value)})),E({directHbl:t+a,assigned:r+c+l,notAssigned:n,totalPicked:c+l+t+a,driverPicked:c+l,notPicked:r,jobs:n+r+c+l,cashed:a+l,notCashed:c+t})})).catch((function(e){s("Could not fetch",{variant:"error"})})).finally((function(e){return u(!1)}))}),[s,n,u,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{size:4,title:Object(se.b)("Dashboard"),subtitle:Object(se.b)("Welcome, ")+localStorage.getItem("mw-u")}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(J.a,{style:{paddingRight:10}},p.startDate," Onwards "),r.a.createElement(Tt.a,{color:"primary"},ha.map((function(e){return r.a.createElement(te.a,{size:"small",variant:e===p.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;e===ha[0]?t=fa()().subtract(0,"d").format("YYYY-MM-DD"):e===ha[1]?t=fa()().subtract(2,"d").format("YYYY-MM-DD"):e===ha[2]?t=fa()().subtract(4,"d").format("YYYY-MM-DD"):e===ha[3]&&(t=fa()().subtract(7,"d").format("YYYY-MM-DD")),f(Object(k.a)(Object(k.a)({},p),{},{timeFrame:e,startDate:t})),c(n+1)}(e)}},e)})))))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,{style:{paddingTop:0}},r.a.createElement(Pt,{details:v,loading:i}),r.a.createElement(pa,{searchFields:p}),r.a.createElement(Lt,{details:v,loading:i}),r.a.createElement("div",{style:{padding:10}})))))},Ea=function(e){var t=e.details,a=e.loading,n=r.a.useState([]),c=Object(z.a)(n,2),l=c[0],o=c[1];return r.a.useEffect((function(){var e=[{color:At[7],label:"Assigned Jobs",labelRight:"Now",isActive:!0,value:t.totalJobs,icon:r.a.createElement(Rt.a,{fontSize:"large",style:{color:"white"}})},{color:At[6],label:"Delivered",labelRight:"Now",isActive:!0,value:t.doorDelivered,icon:r.a.createElement(Bt.a,{fontSize:"large",style:{color:"white"}})},{color:At[4],label:"Pending",labelRight:"Now",isActive:!0,value:t.jobAssignedNotDelivered,icon:r.a.createElement(zt.a,{fontSize:"large",style:{color:"white"}})}];o(e)}),[t]),r.a.createElement(V.a,{container:!0,style:{paddingBottom:50}},l.map((function(e){return r.a.createElement(V.a,{item:!0,xs:12,sm:4,style:{padding:30,paddingLeft:30}},r.a.createElement(I.b,{data:e,color:e.color,loading:a}))})))},ya=["Today","Two days","Four days","One week"],Oa=function(e){var t=r.a.useState(0),a=Object(z.a)(t,2),n=a[0],c=a[1],l=r.a.useState(!1),o=Object(z.a)(l,2),i=o[0],u=o[1],s=Object(b.useSnackbar)().enqueueSnackbar,d=r.a.useState({startDate:fa()().subtract(4,"d").format("YYYY-MM-DD"),timeFrame:ya[2]}),m=Object(z.a)(d,2),p=m[0],f=m[1],g=r.a.useState({jobs:"-",directHbl:"-",assigned:"-",notAssigned:"-",driverPicked:"-",totalPicked:"-",notPicked:"-",cashed:"-",notCashed:"-"}),h=Object(z.a)(g,2),v=h[0],E=h[1];return r.a.useEffect((function(){u(!0),ra.getFlowChartData(p.startDate).then((function(e){var t=0,a=0,n=0,r=0;Object(ga.map)(e,(function(e){"NULL#3"===e.label?a=+e.value:"NULL#4"===e.label?r=+e.value:e.label.includes("#3")?t=+e.value:e.label.includes("#4")&&(n=+e.value)})),E({totalJobs:n+t,jobAssignedNotDelivered:t,doorDelivered:n,upbDelivered:r,jobNotAssigned:a})})).catch((function(e){s("Could not fetch",{variant:"error"})})).finally((function(e){return u(!1)}))}),[s,n,u,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{size:4,title:"Dashboard",subtitle:"Welcome, "+localStorage.getItem("mw-u")}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(J.a,{style:{paddingRight:10}},p.startDate," Onwards "),r.a.createElement(Tt.a,{color:"primary"},ya.map((function(e){return r.a.createElement(te.a,{size:"small",variant:e===p.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;e===ya[0]?t=fa()().subtract(0,"d").format("YYYY-MM-DD"):e===ya[1]?t=fa()().subtract(2,"d").format("YYYY-MM-DD"):e===ya[2]?t=fa()().subtract(4,"d").format("YYYY-MM-DD"):e===ya[3]&&(t=fa()().subtract(7,"d").format("YYYY-MM-DD")),f(Object(k.a)(Object(k.a)({},p),{},{timeFrame:e,startDate:t})),c(n+1)}(e)}},e)})))))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,{style:{paddingTop:0}},r.a.createElement(Ea,{details:v,loading:i}),r.a.createElement("div",{style:{padding:10}})))))},ja=function(e){var t=e.details,a=e.loading,n=r.a.useState([]),c=Object(z.a)(n,2),l=c[0],o=c[1];return r.a.useEffect((function(){var e=[{color:At[7],label:"Assigned Jobs",labelRight:"Now",isActive:!0,value:t.totalJobs,icon:r.a.createElement(Rt.a,{fontSize:"large",style:{color:"white"}})},{color:At[6],label:"Delivered",labelRight:"Now",isActive:!0,value:t.doorDelivered,icon:r.a.createElement(Bt.a,{fontSize:"large",style:{color:"white"}})},{color:At[4],label:"Pending",labelRight:"Now",isActive:!0,value:t.jobAssignedNotDelivered,icon:r.a.createElement(zt.a,{fontSize:"large",style:{color:"white"}})}];o(e)}),[t]),r.a.createElement(V.a,{container:!0,style:{paddingBottom:50}},l.map((function(e){return r.a.createElement(V.a,{item:!0,xs:12,sm:4,style:{padding:30,paddingLeft:30}},r.a.createElement(I.b,{data:e,color:e.color,loading:a}))})))},Da=["Today","Two days","Four days","One week"],wa=function(e){var t=r.a.useState(0),a=Object(z.a)(t,2),n=a[0],c=a[1],l=r.a.useState(!1),o=Object(z.a)(l,2),i=o[0],u=o[1],s=Object(b.useSnackbar)().enqueueSnackbar,d=r.a.useState({startDate:fa()().subtract(4,"d").format("YYYY-MM-DD"),timeFrame:Da[2]}),m=Object(z.a)(d,2),p=m[0],f=m[1],g=r.a.useState({jobs:"-",directHbl:"-",assigned:"-",notAssigned:"-",driverPicked:"-",totalPicked:"-",notPicked:"-",cashed:"-",notCashed:"-"}),h=Object(z.a)(g,2),v=h[0],E=h[1];return r.a.useEffect((function(){u(!0),ra.getFlowChartData(p.startDate).then((function(e){var t=0,a=0,n=0,r=0;Object(ga.map)(e,(function(e){"NULL#3"===e.label?a=+e.value:"NULL#4"===e.label?r=+e.value:e.label.includes("#3")?t=+e.value:e.label.includes("#4")&&(n=+e.value)})),E({totalJobs:n+t,jobAssignedNotDelivered:t,doorDelivered:n,upbDelivered:r,jobNotAssigned:a})})).catch((function(e){s("Could not fetch",{variant:"error"})})).finally((function(e){return u(!1)}))}),[s,n,u,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{size:4,title:"Dashboard",subtitle:"Welcome, "+localStorage.getItem("mw-u")}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(J.a,{style:{paddingRight:10}},p.startDate," Onwards "),r.a.createElement(Tt.a,{color:"primary"},Da.map((function(e){return r.a.createElement(te.a,{size:"small",variant:e===p.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;e===Da[0]?t=fa()().subtract(0,"d").format("YYYY-MM-DD"):e===Da[1]?t=fa()().subtract(2,"d").format("YYYY-MM-DD"):e===Da[2]?t=fa()().subtract(4,"d").format("YYYY-MM-DD"):e===Da[3]&&(t=fa()().subtract(7,"d").format("YYYY-MM-DD")),f(Object(k.a)(Object(k.a)({},p),{},{timeFrame:e,startDate:t})),c(n+1)}(e)}},e)})))))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,{style:{paddingTop:0}},r.a.createElement(ja,{details:v,loading:i}),r.a.createElement("div",{style:{padding:10}})))))},Ca=function(e){return Object(Je.d)().type===Ne.a.domestic?r.a.createElement(wa,null):Object(Je.d)().type===Ne.a.delivery?r.a.createElement(Oa,null):r.a.createElement(va,null)},xa=a(47),ka=a.n(xa),Sa=a(185),Ta=a.n(Sa),Ya=a(186),Ma=a.n(Ya),Ia={legend:{position:"right"}},Aa=function(e){var t=e.changed,a=e.searchFields,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState({labels:[],datasets:[{data:[]}]}),l=Object(z.a)(c,2),o=l[0],i=l[1],u=r.a.useState(!1),s=Object(z.a)(u,2),d=s[0],m=s[1];return r.a.useEffect((function(){m(!0),ra.getDriverMonthly(a.startDate).then((function(e){var t=la()(Ta()(ka()(Ma()(e,(function(e){return e.label})),(function(e){return{label:e.label,value:+e.value}})),["value"],["desc"]),(function(e,t){var a=t.label,n=t.value;return{labels:[].concat(Object(Ke.a)(e.labels),["".concat(a," (").concat(n,")")]),values:[].concat(Object(Ke.a)(e.values),[n])}}),{labels:[],values:[]});i({labels:t.labels||[],datasets:[{label:"Completed Jobs",data:t.values||[],backgroundColor:At,borderColor:At,borderWidth:1}]})})).catch((function(e){n("Could not fetch",{variant:"error"})})).finally((function(e){return m(!1)}))}),[n,t,a]),r.a.createElement(r.a.Fragment,null,!d&&r.a.createElement("div",{style:{paddingRight:30}},r.a.createElement(Ft.b,{data:o,options:Ia})),d&&r.a.createElement(oa.a,{variant:"text",height:250}))},La={scales:{yAxes:[{ticks:{stepSize:1,beginAtZero:!0},scaleLabel:{display:!0,labelString:"HBL"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Date"}}]},legend:{display:!1}},Ra=function(e){var t=e.changed,a=e.searchFields,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState({labels:[],datasets:[{data:[]}]}),l=Object(z.a)(c,2),o=l[0],i=l[1],u=r.a.useState(!1),s=Object(z.a)(u,2),d=s[0],m=s[1];return r.a.useEffect((function(){m(!0),ra.getHblMonthly(a.startDate).then((function(e){var t=la()(Ta()(e,["label"],["asc"]),(function(e,t){var a=t.label,n=t.value;return{labels:[].concat(Object(Ke.a)(e.labels),[(a||"").substring(8)]),values:[].concat(Object(Ke.a)(e.values),[n])}}),{labels:[],values:[]});i({labels:t.labels||[],datasets:[{data:t.values||[],backgroundColor:At,borderColor:At,borderWidth:1}]})})).catch((function(e){n("Could not fetch",{variant:"error"})})).finally((function(e){return m(!1)}))}),[n,t,a]),r.a.createElement(r.a.Fragment,null,!d&&r.a.createElement(Ft.a,{data:o,options:La}),d&&r.a.createElement(oa.a,{variant:"text",height:250}))},Ba=a(725),za=function(e){var t=e.changed,a=e.searchFields,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState([{},{}]),l=Object(z.a)(c,2),o=l[0],i=l[1],u=r.a.useState(!1),s=Object(z.a)(u,2),d=s[0],m=s[1];return r.a.useEffect((function(){m(!0),ra.getSummaryCards(a.startDate).then((function(e){var t=la()(e,(function(e,t){var a=t.label,n=t.value;return Object(k.a)(Object(k.a)({},e),{},Object(N.a)({},a,n))}),{}),a=[{color:At[6],label:"HBLs",labelRight:Object(Je.d)().branch,isActive:!0,value:t["this-month-cargo"],icon:r.a.createElement(Nt.a,{fontSize:"large",style:{color:"white"}})},{color:At[7],label:"Shipments",labelRight:Object(Je.d)().branch,isActive:!0,value:t["this-month-loading"],icon:r.a.createElement(Ba.a,{fontSize:"large",style:{color:"white"}})}];i(a)})).catch((function(e){n("Could not fetch",{variant:"error"})})).finally((function(e){return m(!1)}))}),[n,t,a]),r.a.createElement(V.a,{container:!0,style:{paddingBottom:25}},r.a.createElement(V.a,{item:!0,xs:12,sm:6,style:{}},r.a.createElement(I.b,{data:o[0],color:o[0].color,loading:d})),r.a.createElement(V.a,{item:!0,xs:12,sm:6,style:{paddingLeft:25}},r.a.createElement(I.b,{data:o[1],color:o[1].color,loading:d})))},Na=function(e){var t=e.searchFields;return r.a.createElement(V.a,{container:!0,style:{paddingBottom:30}},r.a.createElement(V.a,{item:!0,xs:12,sm:6,style:{padding:20}},r.a.createElement(kt.a,{elevation:2,style:{}},r.a.createElement(St.a,{title:"Contribution of Drivers"}),r.a.createElement(Yt.a,null,r.a.createElement(Aa,{searchFields:t})))),r.a.createElement(V.a,{item:!0,xs:12,sm:6,style:{padding:20}},r.a.createElement(za,{searchFields:t}),r.a.createElement(kt.a,{elevation:2,style:{marginTop:20}},r.a.createElement(St.a,{title:"Number of HBL per day"}),r.a.createElement(Yt.a,null,r.a.createElement(Ra,{searchFields:t})))),r.a.createElement(V.a,{item:!0,xs:12,sm:6,style:{padding:20}}))},Pa=a(726),Fa=["Two days","This week","This month","Three Months"],Ha=function(e){var t=r.a.useState({startDate:fa()().startOf("month").format("YYYY-MM-DD"),timeFrame:"This month"}),a=Object(z.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:Pa.a,size:4,title:"Progress/Efficiency",subtitle:"Hi, "+localStorage.getItem("mw-u")}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(Tt.a,{color:"primary"},Fa.map((function(e){return r.a.createElement(te.a,{variant:e===n.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;"Two days"===e?t=fa()().subtract(2,"d").format("YYYY-MM-DD"):"This week"===e?t=fa()().startOf("week").format("YYYY-MM-DD"):"This month"===e?t=fa()().startOf("month").format("YYYY-MM-DD"):"Three Months"===e&&(t=fa()().subtract(90,"d").format("YYYY-MM-DD")),c(Object(k.a)(Object(k.a)({},n),{},{timeFrame:e,startDate:t}))}(e)}},e)})))))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,{style:{paddingTop:0}},r.a.createElement(Na,{searchFields:n}),r.a.createElement("div",{style:{padding:200}})))))},Wa={scales:{yAxes:[{ticks:{stepSize:1,beginAtZero:!0},scaleLabel:{display:!0,labelString:"HBL"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Date"}}]},legend:{display:!1}},Ua=function(e){var t=e.changed,a=e.searchFields,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState({labels:[],datasets:[{data:[]}]}),l=Object(z.a)(c,2),o=l[0],i=l[1],u=r.a.useState(!1),s=Object(z.a)(u,2),d=s[0],m=s[1];return r.a.useEffect((function(){m(!0),ra.getHblMonthly(a.startDate).then((function(e){var t=la()(Ta()(e,["label"],["asc"]),(function(e,t){var a=t.label,n=t.value;return{labels:[].concat(Object(Ke.a)(e.labels),[(a||"").substring(8)]),values:[].concat(Object(Ke.a)(e.values),[n])}}),{labels:[],values:[]});i({labels:t.labels||[],datasets:[{data:t.values||[],backgroundColor:At,borderColor:At,borderWidth:1}]})})).catch((function(e){n("Could not fetch",{variant:"error"})})).finally((function(e){return m(!1)}))}),[n,t,a]),r.a.createElement(r.a.Fragment,null,!d&&r.a.createElement(Ft.a,{data:o,options:Wa}),d&&r.a.createElement(oa.a,{variant:"text",height:250}))},qa=a(288),Ga=a.n(qa),Va=function(e){var t=e.changed,a=e.searchFields,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState([]),l=Object(z.a)(c,2),o=l[0],i=l[1],u=r.a.useState([]),s=Object(z.a)(u,2),d=s[0],m=s[1],p=r.a.useState([]),f=Object(z.a)(p,2),g=f[0],h=f[1],v=r.a.useState(!1),E=Object(z.a)(v,2),y=E[0],O=E[1];r.a.useEffect((function(){O(!0),ra.getZonesVsDates(a.startDate).then((function(e){var t=Object(ga.uniqBy)(e.map((function(e){return e.label.split("#")[1]}))).sort();i(t);var a=Object(ga.uniqBy)(e.map((function(e){return e.label.split("#")[0]}))).sort();m(a);var n=new Array(a.length).fill(0).map((function(){return new Array(t.length).fill(0)}));e.forEach((function(e){n[a.indexOf(e.label.split("#")[0])][t.indexOf(e.label.split("#")[1])]=+e.value})),console.log(t,a,n),h(n)})).catch((function(e){n("Could not fetch",{variant:"error"})})).finally((function(e){return O(!1)}))}),[n,t,a]);var j=new Array(24).fill(0).map((function(e,t){return t%3===0}));return r.a.createElement(r.a.Fragment,null,!y&&r.a.createElement(Ga.a,{xLabels:o.map((function(e){return e.substring(5)})),yLabels:d,xLabelsLocation:"bottom",xLabelsVisibility:j,data:g,height:70,onClick:function(e,t){return alert("Clicked ".concat(e,", ").concat(t))},cellStyle:function(e,t,a,n,r,c,l){return{background:"rgb(0, 151, 230, ".concat(1.1-(n-t)/(n-a),")"),fontSize:"13px",fontWeight:"bold",color:"#444"}},cellRender:function(e){return e&&r.a.createElement("div",{style:{paddingTop:5}},e)}}),y&&r.a.createElement(oa.a,{variant:"text",height:250}))},Ja=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/driver/get-by-id/".concat(t,"?branch=").concat(a||Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ka=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/driver/get-all?branch=".concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_a=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.e)("/v1/driver/create?branch=".concat(Object(Je.d)().branch),Object(k.a)(Object(k.a)({},t),{},{branch:Object(Je.d)().branch,auth:Object(Je.d)().username,createdDate:new Date})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Za=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/driver/update/".concat(t,"?branch=").concat(Object(Je.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Xa={getById:Ja,getByBranch:Ka,updatePassword:function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/driver/update-password?branch=".concat(Object(Je.d)().branch),Object(k.a)({username:t},a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),create:_a,remove:function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.a)("/v1/driver/delete/".concat(t,"?branch=").concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:Za},Qa=function(e){var t=e.changed,a=e.searchFields,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState([]),l=Object(z.a)(c,2),o=l[0],i=l[1],u=r.a.useState([]),s=Object(z.a)(u,2),d=s[0],m=s[1],p=r.a.useState([]),f=Object(z.a)(p,2),g=f[0],h=f[1],v=r.a.useState(!1),E=Object(z.a)(v,2),y=E[0],O=E[1];r.a.useEffect((function(){O(!0),ra.getDriversVsDates(a.startDate).then((function(e){Xa.getByBranch().then((function(t){var a=Object(ga.uniqBy)(e.map((function(e){return e.label.split("#")[1]}))).sort();i(a);var n=Object(ga.uniqBy)(e.map((function(e){return e.label.split("#")[0]}))).sort(),r=new Array(n.length).fill(0).map((function(){return new Array(a.length).fill(0)}));e.forEach((function(e){r[n.indexOf(e.label.split("#")[0])][a.indexOf(e.label.split("#")[1])]=+e.value})),m(n.map((function(e){var a,n;return null===(a=t.filter((function(t){return+e===t.id})))||void 0===a||null===(n=a[0])||void 0===n?void 0:n.username}))),console.log(a,n,r),h(r),O(!1)})).catch((function(e){O(!1),n("Could not fetch",{variant:"error"})}))})).catch((function(e){O(!1),n("Could not fetch",{variant:"error"})}))}),[n,t,a]);var j=new Array(24).fill(0).map((function(e,t){return t%3===0}));return r.a.createElement(r.a.Fragment,null,!y&&r.a.createElement(Ga.a,{xLabels:o.map((function(e){return e.substring(5)})),yLabels:d,xLabelsLocation:"bottom",xLabelsVisibility:j,data:g,height:50,onClick:function(e,t){return alert("Clicked ".concat(e,", ").concat(t))},cellStyle:function(e,t,a,n,r,c,l){return{background:"rgb(0, 151, 230, ".concat(1.1-(n-t)/(n-a),")"),fontSize:"13px",fontWeight:"bold",color:"#444"}},cellRender:function(e){return e&&r.a.createElement("div",{style:{paddingTop:5}},e)}}),y&&r.a.createElement(oa.a,{variant:"text",height:250}))},$a=function(e){var t=e.searchFields;return r.a.createElement(V.a,{container:!0,style:{paddingBottom:30}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,style:{padding:0}},r.a.createElement(kt.a,{elevation:2,style:{marginTop:20}},r.a.createElement(St.a,{title:"HBL Trend:: per DAY, per PICKUP ZONE"}),r.a.createElement(Yt.a,null,r.a.createElement(Va,{searchFields:t})))),r.a.createElement(V.a,{item:!0,xs:12,sm:12,style:{padding:0}},r.a.createElement(kt.a,{elevation:2,style:{marginTop:20}},r.a.createElement(St.a,{title:"HBL Trend:: per DAY, per DRIVER"}),r.a.createElement(Yt.a,null,r.a.createElement(Qa,{searchFields:t})))),r.a.createElement(V.a,{item:!0,xs:12,sm:12,style:{padding:0}},r.a.createElement(kt.a,{elevation:2,style:{marginTop:20}},r.a.createElement(St.a,{title:"HBL :: per Month [beta]"}),r.a.createElement(Yt.a,null,r.a.createElement(Ua,{searchFields:t})))),r.a.createElement(V.a,{item:!0,xs:12,sm:6,style:{padding:20}}))},en=a(727),tn=["One Month","Two Months","Three Months"],an=function(e){var t=r.a.useState({startDate:fa()().subtract(31,"d").format("YYYY-MM-DD"),timeFrame:tn[0]}),a=Object(z.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:en.a,size:4,title:"Progress/Comparision",subtitle:"Hi, "+localStorage.getItem("mw-u")}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(Tt.a,{color:"primary"},tn.map((function(e){return r.a.createElement(te.a,{variant:e===n.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;e===tn[0]?t=fa()().subtract(31,"d").format("YYYY-MM-DD"):e===tn[1]?t=fa()().subtract(62,"d").format("YYYY-MM-DD"):e===tn[2]&&(t=fa()().subtract(92,"d").format("YYYY-MM-DD")),c(Object(k.a)(Object(k.a)({},n),{},{timeFrame:e,startDate:t}))}(e)}},e)})))))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,{style:{paddingTop:0}},r.a.createElement($a,{searchFields:n}),r.a.createElement("div",{style:{padding:200}})))))},nn={scales:{yAxes:[{ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"Sales"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Aggregated on Date"}}]},legend:{display:!1}},rn=function(e){var t=e.changed,a=e.searchFields,n=e.timeFrames,c=Object(b.useSnackbar)().enqueueSnackbar,l=r.a.useState({labels:[],datasets:[{data:[]}]}),o=Object(z.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(z.a)(s,2),m=d[0],p=d[1];return r.a.useEffect((function(){p(!0),ra.getSalesAggregate(a.startDate,a.timeQuarter).then((function(e){var t={},r=[],c=[],l="",o="";a.timeFrame===n[0]?(l=14,o="d"):a.timeFrame===n[1]?(l=50,o="d"):a.timeFrame===n[2]?(l=6,o="M"):a.timeFrame===n[3]&&(l=12,o="M");for(var i=0;i<l;i++)if("d"===o){e.forEach((function(e){t[e.label]=e.value}));var s=fa()().subtract(i,o).format("YYYY-MM-DD");r[i]=s.substring(5),c[i]=t[s]||0}else if("M"===o){e.forEach((function(e){t[e.label.substring(0,7)]=e.value}));var d=fa()().subtract(i,o).format("YYYY-MM");r[i]=d,c[i]=t[d]||0}u({labels:r.reverse()||[],datasets:[{data:c.reverse()||[],backgroundColor:At,borderColor:At,borderWidth:1}]})})).catch((function(e){c("Could not fetch",{variant:"error"})})).finally((function(e){return p(!1)}))}),[c,t,a,n]),r.a.createElement(r.a.Fragment,null,!m&&r.a.createElement(Ft.a,{data:i,options:nn}),m&&r.a.createElement(oa.a,{variant:"text",height:250}))},cn=function(e){var t=e.searchFields,a=e.timeFrames;return r.a.createElement(V.a,{container:!0,style:{paddingBottom:30}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,style:{padding:0}},r.a.createElement(kt.a,{elevation:2,style:{marginTop:20}},r.a.createElement(St.a,{title:"Sales :: "+t.timeFrame}),r.a.createElement(Yt.a,null,r.a.createElement(rn,{timeFrames:a,searchFields:t})))),r.a.createElement(V.a,{item:!0,xs:12,sm:6,style:{padding:20}}))},ln=["Two Weeks - daily","Two Month - daily","Six Months - Monthly","One Year - Monthly"],on=function(e){var t=r.a.useState({startDate:fa()().subtract(31,"d").format("YYYY-MM-DD"),timeFrame:ln[0],timeQuarter:"DAILY"}),a=Object(z.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:He.a,size:4,title:"Sales Trend",subtitle:"Hi, "+localStorage.getItem("mw-u")}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(Tt.a,{color:"primary"},ln.map((function(e){return r.a.createElement(te.a,{size:"small",variant:e===n.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t,a;e===ln[0]?(t=fa()().subtract(14,"d").format("YYYY-MM-DD"),a="DAILY"):e===ln[1]?(t=fa()().subtract(2,"M").format("YYYY-MM-DD"),a="DAILY"):e===ln[2]?(t=fa()().subtract(6,"M").format("YYYY-MM-DD"),a="MONTHLY"):e===ln[3]&&(t=fa()().subtract(12,"M").format("YYYY-MM-DD"),a="MONTHLY"),c(Object(k.a)(Object(k.a)({},n),{},{timeQuarter:a,timeFrame:e,startDate:t}))}(e)}},e)})))))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,{style:{paddingTop:0}},r.a.createElement(cn,{searchFields:n,timeFrames:ln}),r.a.createElement("div",{style:{padding:200}})))))},un=a(32),sn=function(e,t){return r.a.createElement("th",{style:{textAlign:"right",background:w.a.shades.light,color:"white"}},e.label)},dn=[{label:"  ",name:"",options:{customHeadRender:sn,display:!0}},{name:"level",options:{display:!1}},{name:"currency",options:{display:!1}},{label:"Criteria",name:"id",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return 1===t.rowData[1]?r.a.createElement("b",null,e):r.a.createElement(r.a.Fragment,null,"\xa0 \xa0 \xa0 \xa0 \xa0 ",e)}}},{label:"HBL Count",name:"count",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"right"}},customHeadRender:sn,customBodyRender:function(e,t){return 1===t.rowData[1]?r.a.createElement(ue.a,{label:Math.round(e),style:{color:"white",backgroundColor:w.a.shades.green}}):r.a.createElement(ue.a,{label:Math.round(e)})}}},{label:"Total sales",name:"amount",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"right"}},customHeadRender:sn,customBodyRender:function(e,t){return 1===t.rowData[1]?r.a.createElement(ue.a,{label:t.rowData[2]+" "+Object(un.d)(Math.round(e)),style:{color:"white",backgroundColor:w.a.shades.green}}):r.a.createElement(ue.a,{label:t.rowData[2]+" "+Object(un.d)(Math.round(e))})}}},{label:"Total Collection",name:"paid",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"right"}},customHeadRender:sn,customBodyRender:function(e,t){return 1===t.rowData[1]?r.a.createElement("b",null,t.rowData[2]+" "+Object(un.d)(Math.round(e))):t.rowData[2]+" "+Object(un.d)(Math.round(e))}}},{label:"  ",name:"",options:{customHeadRender:sn,display:!0}}],mn=a(338),pn=a.n(mn),bn=Object(D.a)({overrides:{MuiTableCell:{root:{paddingLeft:"6px !important",paddingRight:"6px !important",paddingTop:"2px !important",paddingBottom:"2px !important"}},MUIDataTableHeadCell:{root:{padding:"8px !important",border:"1px solid white",backgroundColor:w.a.shades.light+" !important",color:"rgb(255, 255, 255) !important"}},MuiIconButton:{root:{margin:"0 6px",padding:7,fontSize:20,color:w.a.shades.main,"&:hover":{cursor:"pointer"}}},MuiButton:{root:{backgroundColor:w.a.shades.main+" !important","&:hover":{backgroundColor:w.a.shades.light+" !important"},"&$disabled":{backgroundColor:w.a.shades.light+" !important"}}},MuiCheckbox:{root:{"&$checked":{color:w.a.shades.main+" !important"}}},MuiChip:{label:{paddingLeft:"6px !important",paddingRight:"6px !important"}}}}),fn=function(e){var t=e.data,a=e.columns,n=e.minified,c=e.customToolbar,l=e.filter,o=e.onRowClick,i=e.noSearch,u=e.noPagination,s=e.sort,d=e.viewColumns,m=e.noDownload,p=e.title;a.forEach((function(e){return e.options.setCellHeaderProps=function(e){return{}}}));var b={elevation:1,responsive:"standard",tableBodyHeight:"100%",selectableRows:"none",customToolbar:c,textLabels:{body:{noMatch:"No Items"}},downloadOptions:{filename:"reports.csv"},setRowProps:function(e,t){return{className:Object(P.default)({})}},onRowClick:o,fixedHeader:!0,viewColumns:void 0!==d&&d,download:!n&&(void 0===m||!m),search:!n&&(void 0===i||!i),print:!1,sort:void 0!==s&&s,filter:!n&&l,filterType:"checkbox",serverSide:!1,pagination:!n&&(void 0===u||!u),enableNestedDataAccess:".",rowsPerPage:100};return n?r.a.createElement(pn.a,{data:t,options:b,columns:a}):r.a.createElement(h.a,{theme:bn},r.a.createElement(pn.a,{title:p,data:t,options:b,columns:a}))},gn=function(e){var t,a=e.rawDetails,n=e.loading,c=e.level1,l=e.level2,o=e.paramter,i=Object(b.useSnackbar)().enqueueSnackbar,u=r.a.useState({labels:["qatar","dubai"],datasets:[{data:[12,13]},{data:[32,23]}]}),s=Object(z.a)(u,2),d=s[0],m=s[1];return r.a.useEffect((function(){var e=a.filter((function(e){return 1===e.level})).map((function(e){return e[c]})),t="branch"===l?$e():"warehouseLocation"===l?Object(Je.d)().warehouseLocation:"cargoMode"===l?Object(Je.d)().cargoMode:"deliveryType"===l?Object(Je.d)().deliveryType:[],n=t.map((function(e){return a.filter((function(t){return 2===t.level&&t[l]===e})).map((function(e){return e[o]}))}));m({labels:e||[],datasets:n.map((function(e,a){return{label:t[a],data:e,backgroundColor:At[4+a],stack:"Stack 0"}}))})}),[i,a,c,l,o]),r.a.createElement(r.a.Fragment,null,!n&&r.a.createElement(Ft.a,{data:d,options:(t="Total HBL "+o,{plugins:{title:{display:!0,text:"Chart.js Bar Chart - Stacked"}},responsive:!0,interaction:{mode:"index",intersect:!1},scales:{x:{stacked:!0},y:{stacked:!0},yAxes:[{scaleLabel:{display:!0,labelString:t}}]}})}),n&&r.a.createElement(oa.a,{variant:"text",height:250}))},hn=[{label:"Branch",value:"branch"},{label:"Cargo Mode",value:"cargoMode"},{label:"Delivery Type",value:"deliveryType"},{label:"Warehouse Location",value:"warehouseLocation"}],vn=function(e){var t=e.changed,a=e.searchFields,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState([]),l=Object(z.a)(c,2),o=l[0],i=l[1],u=r.a.useState([]),s=Object(z.a)(u,2),d=s[0],m=s[1],p=r.a.useState(!1),f=Object(z.a)(p,2),g=f[0],h=f[1],v=r.a.useState("branch"),E=Object(z.a)(v,2),y=E[0],O=E[1],j=r.a.useState("cargoMode"),D=Object(z.a)(j,2),w=D[0],C=D[1];return r.a.useEffect((function(){h(!0),ra.getCrossBranch($e(),a.startDate).then((function(e){m(e)})).catch((function(e){n("Could not fetch",{variant:"error"})})).finally((function(e){return h(!1)}))}),[n,t,a]),r.a.useEffect((function(){var e=[],t=Object(ga.groupBy)(d,y),a=Object(ga.map)(Object(ga.values)(t),(function(e){return Object(ga.reduce)(e,(function(e,t){var a;return a={},Object(N.a)(a,y,t[y]),Object(N.a)(a,"level",1),Object(N.a)(a,"id",t[y].toUpperCase()+" ("+y.toLowerCase()+")"),Object(N.a)(a,"count",(e.count||0)+ +t.count),Object(N.a)(a,"amount",(e.amount||0)+ +t.amount),Object(N.a)(a,"paid",(e.paid||0)+ +t.paid),Object(N.a)(a,"currency","branch"===y?Object(Je.b)(t.branch).currency:""),a}),{})}));Object(ga.forEach)(a,(function(a){var n=t[a[y]],r=Object(ga.groupBy)(n,w),c=Object(ga.map)(Object(ga.values)(r),(function(e){return Object(ga.reduce)(e,(function(e,t){var a;return a={},Object(N.a)(a,w,t[w]),Object(N.a)(a,"id"," - - - > "+t[w].toUpperCase()+" ("+w.toLowerCase()+")"),Object(N.a)(a,"level",2),Object(N.a)(a,"count",(e.count||0)+ +t.count),Object(N.a)(a,"amount",(e.amount||0)+ +t.amount),Object(N.a)(a,"paid",(e.paid||0)+ +t.paid),Object(N.a)(a,"currency","branch"===w||"branch"===y?Object(Je.b)(t.branch).currency:""),a}),{})}));e.push.apply(e,[a].concat(Object(Ke.a)(c)))})),i(e)}),[n,d,y,w]),r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{container:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{marginBottom:10}},r.a.createElement(I.w,{size:2,label:"Primary Level",valueObjects:hn,value:y,onChange:function(e){return O(e.target.value)}}),r.a.createElement(I.w,{size:2,label:"Secondary Level",valueObjects:hn,style:{marginLeft:10},value:w,onChange:function(e){return e.target.value!==y&&C(e.target.value)}})),r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:g}),r.a.createElement(fn,{data:o,columns:dn,filter:!1,noSearch:!0,noPagination:!0,noDownload:!0})),r.a.createElement(V.a,{item:!0,xs:5,sm:5,md:5,lg:5,xl:5,style:{marginTop:80,paddingLeft:40}},r.a.createElement(gn,{paramter:"count",rawDetails:o,loading:!1,level1:y,level2:w})),r.a.createElement(V.a,{item:!0,xs:2,sm:2,md:2,lg:2,xl:2,style:{marginTop:80}}),r.a.createElement(V.a,{item:!0,xs:5,sm:5,md:5,lg:5,xl:5,style:{marginTop:80,paddingRight:40}},r.a.createElement(gn,{paramter:"amount",rawDetails:o,loading:!1,level1:y,level2:w}))))},En=function(e){var t=e.searchFields;return r.a.createElement(V.a,{container:!0,style:{paddingBottom:30}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,style:{padding:0}},r.a.createElement(vn,{searchFields:t})))},yn=["One Week","One Month","Three Months"],On=function(e){var t=r.a.useState({startDate:fa()().subtract(7,"d").format("YYYY-MM-DD"),timeFrame:yn[0]}),a=Object(z.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:en.a,size:4,title:"Cross Branch Sales",subtitle:"Hi, "+localStorage.getItem("mw-u")}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(Tt.a,{color:"primary"},yn.map((function(e){return r.a.createElement(te.a,{variant:e===n.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;e===yn[0]?t=fa()().subtract(7,"d").format("YYYY-MM-DD"):e===yn[1]?t=fa()().subtract(31,"d").format("YYYY-MM-DD"):e===yn[2]&&(t=fa()().subtract(92,"d").format("YYYY-MM-DD")),c(Object(k.a)(Object(k.a)({},n),{},{timeFrame:e,startDate:t}))}(e)}},e)})))))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,{style:{paddingTop:0}},r.a.createElement(En,{searchFields:n}),r.a.createElement("div",{style:{padding:200}})))))},jn=function(e,t){return r.a.createElement("th",{style:{textAlign:"center",background:w.a.shades.light,color:"white"}},e.label)},Dn=[{label:"  ",name:"",options:{customHeadRender:jn,display:!0}},{name:"level",options:{display:!1}},{label:"Criteria",name:"id",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return 1===t.rowData[1]?r.a.createElement("b",null,e):r.a.createElement(r.a.Fragment,null,"\xa0 \xa0 \xa0 \xa0 \xa0 ",e)}}},{label:"HBL",name:"countPending",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:jn,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Pending"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Volume",name:"volumePending",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:jn,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Pending"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Weight",name:"weightPending",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:jn,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Pending"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"  ",name:"id",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null," ")}}},{label:"HBL",name:"countLoaded",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:jn,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Loaded"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Volume",name:"volumeLoaded",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:jn,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Loaded"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Weight",name:"weightLoaded",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:jn,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Loaded"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Shipment",name:"shipmentLoaded",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:jn,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Loaded"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"  ",name:"id",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null," ")}}},{label:"HBL",name:"countReached",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:jn,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Reached"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Volume",name:"volumeReached",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:jn,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Reached"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Weight",name:"weightReached",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:jn,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Reached"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"Shipment",name:"shipmentReached",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{align:"center"}},customHeadRender:jn,customBodyRender:function(e,t){return 0===t.rowIndex?r.a.createElement("b",null,"Reached"):1===t.rowData[1]?r.a.createElement("b",null,Math.round(e)):Math.round(e)}}},{label:"  ",name:"",options:{customHeadRender:jn,display:!0}}],wn=[{label:"Branch",value:"branch"},{label:"Cargo Mode",value:"cargoMode"}],Cn=function(e){var t=e.changed,a=e.searchFields,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState([]),l=Object(z.a)(c,2),o=l[0],i=l[1],u=r.a.useState([]),s=Object(z.a)(u,2),d=s[0],m=s[1],p=r.a.useState([]),f=Object(z.a)(p,2),g=f[0],h=f[1],v=r.a.useState(!1),E=Object(z.a)(v,2),y=E[0],O=E[1],j=r.a.useState("branch"),D=Object(z.a)(j,2),w=D[0],C=D[1],x=r.a.useState("cargoMode"),S=Object(z.a)(x,2),T=S[0],Y=S[1];return r.a.useEffect((function(){O(2),ra.getCrossBranchHblByFetched($e(),a.startDate).then((function(e){m(e)})).catch((function(e){n("Could not fetch HBLs",{variant:"error"})})).finally((function(e){return O((function(e){return e-1}))})),ra.getCrossBranchShipments($e(),a.startDate).then((function(e){h(e)})).catch((function(e){n("Could not fetch Shipments",{variant:"error"})})).finally((function(e){return O((function(e){return e-1}))}))}),[n,t,a]),r.a.useEffect((function(){var e=[],t=Object(ga.groupBy)(d,w),a=Object(ga.map)(Object(ga.values)(t),(function(e){return Object(ga.reduce)(e,(function(e,t){var a;return Object(k.a)(Object(k.a)({},e),{},(a={},Object(N.a)(a,w,t[w]),Object(N.a)(a,"level",1),Object(N.a)(a,"id",t[w].toUpperCase()),Object(N.a)(a,"count".concat(t.fetched),(e["count".concat(t.fetched)]||0)+ +t.count),Object(N.a)(a,"volume".concat(t.fetched),(e["volume".concat(t.fetched)]||0)+ +t.volume),Object(N.a)(a,"weight".concat(t.fetched),(e["weight".concat(t.fetched)]||0)+ +t.weight),Object(N.a)(a,"shipmentLoaded",g.filter((function(e){return e[w]===t[w]&&"0"===e.reached})).reduce((function(e,t){return e+ +t.count}),0)||0),Object(N.a)(a,"shipmentReached",g.filter((function(e){return e[w]===t[w]&&"1"===e.reached})).reduce((function(e,t){return e+ +t.count}),0)||0),a))}),{})}));console.log(d.filter((function(e){return"Pending"===e.fetched&&"qatar"===e[w]&&"Air Cargo"===e[T]}))),Object(ga.forEach)(a,(function(a){var n=t[a[w]],r=Object(ga.groupBy)(n,T),c=Object(ga.map)(Object(ga.values)(r),(function(e){return Object(ga.reduce)(e,(function(e,t){var a;return Object(k.a)(Object(k.a)({},e),{},(a={},Object(N.a)(a,T,t[T]),Object(N.a)(a,"id"," - - - > "+t[T].toUpperCase()),Object(N.a)(a,"level",2),Object(N.a)(a,"count".concat(t.fetched),(e["count".concat(t.fetched)]||0)+ +t.count),Object(N.a)(a,"volume".concat(t.fetched),(e["volume".concat(t.fetched)]||0)+ +t.volume),Object(N.a)(a,"weight".concat(t.fetched),(e["weight".concat(t.fetched)]||0)+ +t.weight),Object(N.a)(a,"shipmentLoaded",g.filter((function(e){return e[T]===t[T]&&e[w]===t[w]&&"0"===e.reached})).reduce((function(e,t){return e+ +t.count}),0)||0),Object(N.a)(a,"shipmentReached",g.filter((function(e){return e[T]===t[T]&&e[w]===t[w]&&"1"===e.reached})).reduce((function(e,t){return e+ +t.count}),0)||0),a))}),{})}));e.push.apply(e,[a].concat(Object(Ke.a)(c)))}));var n=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{countPending:e.countPending||0,countLoaded:e.countLoaded||0,countReached:e.countReached||0,volumePending:e.volumePending||0,volumeLoaded:e.volumeLoaded||0,volumeReached:e.volumeReached||0,weightPending:e.weightPending||0,weightLoaded:e.weightLoaded||0,weightReached:e.weightReached||0})}));i([].concat(Object(Ke.a)(n),[{id:"TOTAL",level:1,countPending:Object(ga.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.countPending||0)}),0),countLoaded:Object(ga.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.countLoaded||0)}),0),countReached:Object(ga.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.countReached||0)}),0),volumePending:Object(ga.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.volumePending||0)}),0),volumeLoaded:Object(ga.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.volumeLoaded||0)}),0),volumeReached:Object(ga.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.volumeReached||0)}),0),weightPending:Object(ga.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.weightPending||0)}),0),weightLoaded:Object(ga.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.weightLoaded||0)}),0),weightReached:Object(ga.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.weightReached||0)}),0),shipmentLoaded:Object(ga.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.shipmentLoaded||0)}),0),shipmentReached:Object(ga.reduce)(n,(function(e,t){return e+ +(1===t.level&&t.shipmentReached||0)}),0)}]))}),[n,d,g,w,T]),r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{container:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{marginBottom:10}},r.a.createElement(I.w,{size:2,label:"Primary Level",valueObjects:wn,value:w,onChange:function(e){return C(e.target.value)}}),r.a.createElement(I.w,{size:2,label:"Secondary Level",valueObjects:wn,style:{marginLeft:10},value:T,onChange:function(e){return e.target.value!==w&&Y(e.target.value)}})),r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:!!y}),r.a.createElement(fn,{data:[{}].concat(Object(Ke.a)(o)),columns:Dn,filter:!1,noSearch:!0,noPagination:!0,noDownload:!0})),!1))},xn=function(e){var t=e.searchFields;return r.a.createElement(V.a,{container:!0,style:{paddingBottom:30}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,style:{padding:0}},r.a.createElement(Cn,{searchFields:t})))},kn=["Two Weeks","One Month","Three Months"],Sn=function(e){var t=r.a.useState({startDate:fa()().subtract(14,"d").format("YYYY-MM-DD"),timeFrame:kn[0]}),a=Object(z.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:en.a,size:4,title:"Cross Branch Shipments",subtitle:"Hi, "+localStorage.getItem("mw-u")}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(Tt.a,{color:"primary"},kn.map((function(e){return r.a.createElement(te.a,{variant:e===n.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;e===kn[0]?t=fa()().subtract(14,"d").format("YYYY-MM-DD"):e===kn[1]?t=fa()().subtract(31,"d").format("YYYY-MM-DD"):e===kn[2]&&(t=fa()().subtract(92,"d").format("YYYY-MM-DD")),c(Object(k.a)(Object(k.a)({},n),{},{timeFrame:e,startDate:t}))}(e)}},e)})))))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,{style:{paddingTop:0}},r.a.createElement(xn,{searchFields:n}),r.a.createElement("div",{style:{padding:200}})))))},Tn=(a(289),a(187)),Yn=(a(340),a(728)),Mn=["SHIPMENT LOADED AT ORIGIN WAREHOUSE","IN TRANSIT","SHIPMENT REACHED DESTINATION AIR PORT","SHIPMENT UNLOADED AT BONDED WAREHOUSE"],In=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/package/for-loading?branch=".concat(Object(Je.d)().branch,"&start=").concat(t.startDate,"&end=").concat(t.endDate,"&cargoMode=").concat(t.cargoMode)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),An=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(Ht.c)("/v1/loading/get-all?branch=".concat(Object(Je.d)().branch,"&start=").concat(a,"&end=").concat(n)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ln=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.branch,n=t.mhbl,e.abrupt("return",Object(Ht.c)("/v1/loading/get-by-mhbl?branch=".concat(a,"&mhbl=").concat(n)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rn=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(Ht.c)("/v1/loading/get-all-arrived?branch=".concat(Object(Je.d)().branch,"&start=").concat(a,"&end=").concat(n)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bn=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/loading/get-by-id/".concat(t,"?branch=").concat(a||Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),zn=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/loading/update/".concat(t,"?branch=").concat(a.branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Nn=function(){var e=Object(B.a)(R.a.mark((function e(t,a){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(k.a)(Object(k.a)({},t),{},{createdDate:fa()().format("YYYY-MM-DD"),createdTime:fa()().format("HH:mm"),status:Mn[0],auth:Object(Je.d)().username,branch:Object(Je.d)().branch}),e.abrupt("return",Object(Ht.e)("/v1/loading/create?branch=".concat(Object(Je.d)().branch),{payload:n,ids:a}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Pn=function(){var e=Object(B.a)(R.a.mark((function e(t,a){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(k.a)(Object(k.a)({},t),{},{branch:t.origin,createdDate:fa()().format("YYYY-MM-DD"),createdTime:fa()().format("HH:mm")}),e.abrupt("return",Object(Ht.e)("/v1/loading/upload?branch=".concat(t.branch),{loading:n,payload:a}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Fn=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.a)("/v1/loading/delete/".concat(t,"?branch=").concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Hn=function(){var e=Object(B.a)(R.a.mark((function e(t,a,n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/loading/mark-as-reached/".concat(t,"?fetched=").concat(a,"&branch=").concat(n)));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Wn=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/package/for-loading-manifest?id="+t+"&branch="+Object(Je.d)().branch));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Un=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/loading/update-many?branch=".concat(Object(Je.d)().branch),{payload:{status:a},ids:t}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),qn=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/loading/remove-hbl?id=".concat(t,"&branch=").concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gn={get:Bn,update:zn,updateMany:Un,loadingReached:Hn,deleteLoading:Fn,createLoading:Nn,createLoadingFromExcel:Pn,getLoadingPoint:In,getAllLoading:An,getByMhbl:Ln,getAllLoadingArrived:Rn,shipmentManifest:Wn,addCargoFromShipment:function(){var e=Object(B.a)(R.a.mark((function e(t,a,n){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/loading/add-hbl?hbl=".concat(t,"&loadingId=").concat(a,"&destination=").concat(n,"&branch=").concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),removeCargoFromShipment:qn},Vn=(a(463),a(464),a(757)),Jn=a(690),Kn=a(40),_n=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/zone/get-all?branch=".concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Zn=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/zone/get-by-id/".concat(t,"?branch=").concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xn=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.e)("/v1/zone/create?branch=".concat(Object(Je.d)().branch),Object(k.a)(Object(k.a)({},t),{},{auth:Object(Je.d)().username,branch:Object(Je.d)().branch,createdDate:new Date})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qn=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/zone/update/".concat(t,"?branch=").concat(Object(Je.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),$n={get:_n,getById:Zn,create:Xn,remove:function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.a)("/v1/zone/delete/".concat(t,"?branch=").concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:Qn},er=a(729),tr=(a(730),a(731),a(732)),ar=(a(469),a(134)),nr=a(292),rr=a(135);function cr(){var e=Object(ar.a)(["\n    position: absolute;\n    width: 38px;\n    height: 37px;\n    background-image: url(https://icon-library.com/images/pin-icon-png/pin-icon-png-9.jpg);\n    background-size: contain;\n    background-repeat: no-repeat;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -webkit-transform: translate(-50%,-50%);\n    -ms-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    cursor: grab;\n"]);return cr=function(){return e},e}var lr=rr.a.div(cr()),or=function(e){var t=e.text,a=e.onClick;return r.a.createElement(lr,{alt:t,onClick:a})};or.defaultProps={onClick:null};var ir="AIzaSyAT29fYAnGsmcUacyqR0mnKvAL2PiAXqpQ";function ur(){var e=Object(ar.a)(["\n  width: 100%;\n  height: 80vh;\n"]);return ur=function(){return e},e}rr.a.main(ur());var sr=a(733),dr=(a(711),a(734),a(735),a(707),Object(g.a)((function(e){return{overlayHeader:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,boxShadow:"0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23)"},overlayTitle:{flexGrow:1}}})),"cities"),mr=function(){var e=Object(B.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],!t.id){e.next=4;break}return e.abrupt("return",yt(dr,t.id));case 4:return t.batch&&a.push(Object(mt.k)("batch","==",t.batch)),t.nameWithInitials&&(a.push(Object(mt.h)("nameWithInitials")),a.push(Object(mt.j)(t.nameWithInitials)),a.push(Object(mt.d)(t.nameWithInitials+"\uf8ff"))),e.abrupt("return",Ot.apply(void 0,[dr].concat(a)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pr=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jt(dr,Object(k.a)({},t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),br=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/user/update-type/".concat(t,"?branch=").concat(Object(Je.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),fr=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/user/update-settings/".concat(t,"?branch=").concat(Object(Je.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),gr={get:mr,updatePassword:function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/user/update-password?branch=".concat(Object(Je.d)().branch),Object(k.a)({username:t||Object(Je.d)().username},a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),resetPassword:function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/user/reset-password?branch=".concat(Object(Je.d)().branch),Object(k.a)({username:t||Object(Je.d)().username},a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),create:pr,remove:function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.a)("/v1/user/delete/".concat(t,"?branch=").concat(Object(Je.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),update:br,updateSettings:fr},hr=a(739),vr=[{label:"ID",name:"id",options:{display:!1}},{label:"Qualification",name:"type",options:{customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e,style:{color:"white",backgroundColor:w.a.shades.green}})}}},{label:"School",name:"length",options:{}},{label:"Year",name:"volume",options:{}}],Er=a(736),yr=a(737),Or=function(e){var t=e.setOverlayDetail,a=e.packages,n=e.setPackages,c=e.setOverlayType,l=Object(f.useDialog)(),o=Object(Je.b)(Object(Je.d)().branch).packagePricing,i=[].concat(Object(Ke.a)(vr),[{label:"Price",name:"price",options:{display:o}},{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,o){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{title:"Delete"},r.a.createElement("span",null,r.a.createElement(y.a,{onClick:function(){return e=o.rowData[0],t=o.rowData[1],void l.confirm({title:r.a.createElement("span",{style:{fontWeight:500,fontSize:18,letterSpacing:"-0.06px",lineHeight:"24px"}},"DELETE CONFIRMATION"),message:r.a.createElement(J.a,null,"Are you sure you want to ",r.a.createElement("strong",null,"Remove ",t)),ok:{text:"Delete",variant:"contained",color:"primary"}}).then((function(){n(a.filter((function(t){return t.id!==e})))}));var e,t}},r.a.createElement(Er.a,null)))),r.a.createElement(ae.a,{title:"Edit/Change Password"},r.a.createElement("span",null,r.a.createElement(y.a,{onClick:function(){t({id:o.rowData[0]}),c("ADD_PACK")}},r.a.createElement(yr.a,null)))))}}}]);return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(fn,{data:a,columns:i,minified:!0}))))},jr=a(171),Dr=a(738),wr=function(e){var t=e.packages,a=e.cargo,n=e.weight,c=e.volume,l=e.paid,o=e.setPaid,i=e.amount,u=e.setAmount,s=e.setAmountSystem,d=Object(Je.b)(Object(Je.d)().branch).packagePricing,m=function(e){var t=(e.target.value+"").replace(/[^0-9.]/gi,""),a=100*Object(Je.b)(Object(Je.d)().branch).vat;if("BOX CHARGES"===e.target.name){var n=i.map((function(a){return"BOX CHARGES"===a.costType?Object(k.a)(Object(k.a)({},a),{},{costType:e.target.name,amount:t}):a})).map((function(e){return e.costType==="BOX VAT "+a+"%"?Object(k.a)(Object(k.a)({},e),{},{costType:"BOX VAT "+a+"%",amount:Object(un.b)(+(t||0)*Object(Je.b)(Object(Je.d)().branch).vat)}):e}));u(n)}else{var r=i.map((function(a){return a.costType===e.target.name?Object(k.a)(Object(k.a)({},a),{},{costType:e.target.name,amount:t}):a}));u(r)}};return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{container:!0,spacing:2,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(V.a,{item:!0,md:12,style:{paddingTop:15,paddingBottom:5}},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(Dr.a,null),disabled:0===t.length,onClick:function(e){var r=Object(jr.a)(a.cargoMode,a.deliveryType,n,c,a.warehouseLocation);if(d)for(var l=Object(un.b)(Object(ga.reduce)(t,(function(e,t){return e+t.price}),0)),i=0;i<r.length;i++)"WEIGHT CHARGE"===r[i].costType&&(r[i].amount=l),"VOLUME CHARGE"===r[i].costType&&(r[i].amount=l);u(r),s(r),o(0)}},i?"Re-Calculate":"Calculate")),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{container:!0,spacing:2,md:12,style:{padding:20}},ka()(i,(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{md:2},r.a.createElement(J.a,{style:{textAlign:"right",paddingTop:20}},e.costType)),r.a.createElement(I.D,{size:2,label:e.costType,name:e.costType,disabled:!e.editable,value:e.amount,onChange:m}))}))),r.a.createElement(V.a,{container:!0,spacing:2,md:12,style:{padding:20}},r.a.createElement("hr",{style:{width:"100%"}})),r.a.createElement(V.a,{container:!0,spacing:2,md:12,style:{padding:20}},r.a.createElement(V.a,{md:4}),r.a.createElement(I.p,{label:"Packages",value:t.length,size:1}),r.a.createElement(I.p,{label:"Weight",value:Object(un.b)(n),size:1}),r.a.createElement(I.p,{label:"Volume",value:Object(un.e)(c),size:1})),r.a.createElement(V.a,{container:!0,spacing:2,md:12,style:{padding:20}},r.a.createElement("hr",{style:{width:"100%"}})),r.a.createElement(V.a,{container:!0,spacing:2,md:12,style:{padding:20}},r.a.createElement(V.a,{md:2}),r.a.createElement(V.a,{md:3},r.a.createElement(J.a,{style:{fontSize:18,fontWeight:"bold",paddingTop:20,color:w.a.shades.green}},"GRAND TOTAL : ",Object(un.a)(i)," ",Object(Je.d)().currency)),r.a.createElement(V.a,{md:2},r.a.createElement(J.a,{style:{textAlign:"right",paddingTop:20,paddingRight:10}},"PAID AMOUNT")),r.a.createElement(V.a,{md:2},r.a.createElement(I.D,{size:8,label:"PAID AMOUNT",value:l,onChange:function(e){var t=(e.target.value+"").replace(/[^0-9.]/gi,"");o(t)}})))))))},Cr=function(e){var t=e.loading,a=e.setLoading,n=e.setOverlayDetail,c=e.packages,l=e.setPackages,o=e.setOverlayType,i=e.setCargoRedundantData,u=Object(b.useSnackbar)().enqueueSnackbar,s=Object(f.useDialog)(),d={dateOfBirth:fa()().subtract(25,"year"),fetched:0,cargoMode:Object(Je.d)().cargoMode[0],warehouseLocation:Object(Je.d)().warehouseLocation[0],uuid:Math.random().toString(16).slice(2,10)+"-"+Math.random().toString(16).slice(2,10)},m=r.a.useState(Object(k.a)({},d)),p=Object(z.a)(m,2),g=p[0],h=p[1],v=r.a.useState(!1),E=Object(z.a)(v,2),y=E[0],O=E[1],j=r.a.useState(!1),D=Object(z.a)(j,2),w=(D[0],D[1]),C=r.a.useState(0),x=Object(z.a)(C,2),S=x[0],T=x[1],Y=r.a.useState({}),M=Object(z.a)(Y,2),A=M[0],L=M[1],R=((Object(Je.b)(Object(Je.d)().branch)||{}).addressBreakdown||"").split(",");r.a.useEffect((function(){var e=R.filter((function(e){return A[e]})).map((function(e){return e+" "+A[e]})).join(", ");h(Object(k.a)(Object(k.a)({},g),{},{address:e}))}),[A]),r.a.useEffect((function(){i(Object(k.a)({},g))}),[i,g.warehouseLocation]);var B=function(){a(!0),gr.create(Object(k.a)(Object(k.a)({},g),{},{dateOfBirth:"string"===typeof g.dateOfBirth?g.dateOfBirth:g.dateOfBirth.format("YYYY-MM-DD"),packages:c})).then((function(e){u("Created",{variant:"success"}),o("VIEW"),n({id:e}),F()})).catch((function(e){u("Could not Create",{variant:"error"})})).finally((function(e){return a(!1)}))},P=function(e){h(Object(k.a)(Object(k.a)({},g),{},Object(N.a)({},e.target.name,e.target.value)))},F=function(){h(Object(k.a)({},d)),l([]),O(!1),L({}),w(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:t}),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:0}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"PERSONAL DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.D,{size:3,label:"Name with Initials*",name:"nameWithInitials",Icon:er.a,value:g.nameWithInitials,onChange:P}),r.a.createElement(I.D,{size:6,label:"Full Name*",name:"fullName",Icon:er.a,value:g.nameWithInitials,onChange:P}),r.a.createElement(I.v,{size:3,name:"gender",onChange:P,value:g.gender,values:["Male","Female"]}),r.a.createElement(I.D,{size:3,label:"NIC No",name:"nic",value:g.nic,onChange:P}),r.a.createElement(I.e,{label:"Date of Birth",name:"dateOfBirth",value:g.dateOfBirth,onChange:P})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"CONTACT DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.D,{size:3,label:"Email",name:"email",value:g.email,onChange:P}),t?r.a.createElement(I.D,{size:6}):r.a.createElement(I.t,{size:6,label:"Mobile Number*",name:"mobile",countryCode:Object(Je.d)().countryCodeConsignee,value:g.mobile,onChange:P}),r.a.createElement(I.D,{size:6,label:"Note",name:"note",value:g.note,onChange:P}),t?r.a.createElement(I.D,{size:5}):r.a.createElement(I.t,{size:5,label:"Landline Number",name:"slContact",countryCode:Object(Je.d)().countryCodeConsignee,value:g.slContact,onChange:P})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"SCHOOL DAYS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.D,{size:3,label:"Batch*",name:"batch",value:g.batch,onChange:P}),r.a.createElement(I.D,{size:3,label:"Year of Admission",name:"yearOfAdmission",value:g.yearOfAdmission,onChange:P}),r.a.createElement(I.D,{size:3,label:"Year of Leaving",name:"yearOfLeaving",value:g.yearOfAdmission,onChange:P}),r.a.createElement(I.D,{size:3,label:"Index Number",name:"indexNumber",value:g.indexNumber,onChange:P}),r.a.createElement(I.D,{size:6,label:"Note",name:"note",value:g.note,onChange:P})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"EDUCATION DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(V.a,{item:!0,md:11,style:{paddingTop:15,paddingBottom:5}},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(hr.a,null),disabled:t,onClick:function(){o("ADD_PACK"),n({})}},"Add Education")),r.a.createElement(V.a,{item:!0,md:12},r.a.createElement(Or,{setPackages:l,packages:c,setOverlayDetail:n,setOverlayType:o}))))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!1},r.a.createElement(I.l,{title:"OCCUPATION DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(wr,{paid:S,setPaid:T,weight:la()(c,(function(e,t){return e+ +t.weight}),0),volume:la()(c,(function(e,t){return e+t.volume}),0),amount:y,setAmount:O,setAmountSystem:w,cargo:g,packages:c})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!1},r.a.createElement(I.l,{title:"ADDRESS DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(wr,{paid:S,setPaid:T,weight:la()(c,(function(e,t){return e+ +t.weight}),0),volume:la()(c,(function(e,t){return e+t.volume}),0),amount:y,setAmount:O,setAmountSystem:w,cargo:g,packages:c})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!1},r.a.createElement(I.l,{title:"ADDITIONAL DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(wr,{paid:S,setPaid:T,weight:la()(c,(function(e,t){return e+ +t.weight}),0),volume:la()(c,(function(e,t){return e+t.volume}),0),amount:y,setAmount:O,setAmountSystem:w,cargo:g,packages:c})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:20}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-end",alignItems:"flex-end",justify:"flex-end"},r.a.createElement(te.a,{variant:"outlined",color:"primary",size:"medium",style:{marginRight:5},disabled:t,onClick:function(){return F()}},"Clear"),r.a.createElement(te.a,{variant:"contained",color:"primary",size:"medium",endIcon:r.a.createElement(tr.a,null),style:{marginRight:5},disabled:t,onClick:function(){g.nameWithInitials?(g.mobile||"").length<6?u("Please fill mobile number",{variant:"warning"}):g.batch?S?s.confirm(Object(I.d)("Continue? Paid amount is Zero","ADD WITH ZERO PAYMENT")).then((function(){B()})):B():u("Please fill batch",{variant:"warning"}):u("Please fill name",{variant:"warning"})}},"Create Membership")))),r.a.createElement(I.s,{loading:t})))))},xr=a(740),kr=function(e){var t=e.overlayDetail,a=e.setOverlayDetail,n=e.setPackages,c=e.packages,l=e.cargoRedundantData,o=Object(b.useSnackbar)().enqueueSnackbar,i=r.a.useState(void 0!==t.id?c.filter((function(e){return e.id===t.id}))[0]:{quantity:1}),u=Object(z.a)(i,2),s=u[0],d=u[1],m=Object(Je.b)(Object(Je.d)().branch).packagePricing,p=Object(Je.b)(Object(Je.d)().branch).weightByVolumeMultiplier,f=function(e){"quantity"!==e.target.name&&"length"!==e.target.name&&"height"!==e.target.name&&"breadth"!==e.target.name||d(Object(k.a)(Object(k.a)({},s),{},{volume:Object(un.f)(s)}))},g=function(e){d(Object(k.a)(Object(k.a)({},s),{},Object(N.a)({},e.target.name,e.target.value)))},h=function(e){var t=(e.target.value+"").replace(/[^0-9.]/gi,"");d(Object(k.a)(Object(k.a)({},s),{},Object(N.a)({},e.target.name,t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.m,{title:"ADD EDUCATIONAL QUALIFICATION",onClose:function(){return a(!1)}}),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:0}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.w,{size:4,label:"Type",name:"type",values:Object(Je.d)().packageType,value:s.type,onChange:function(e){var t=e.target.value;if(t.includes("[")&&t.includes("]")){var a=t.substring(t.indexOf("[")+1,t.indexOf("]")).trim().split("x").map((function(e){return+e.trim()})).map((function(e){return e<20?100*e:e})),n=Object(k.a)(Object(k.a)({},s),{},{type:t,length:a[0],breadth:a[1],height:a[2]});d(Object(k.a)(Object(k.a)({},n),{},{volume:Object(un.f)(n)}))}else d(Object(k.a)(Object(k.a)({},s),{},{type:t}))}}),r.a.createElement(I.D,{size:6,label:"Type",name:"type",value:s.type,onChange:g}),r.a.createElement(V.a,{item:!0,md:2}),r.a.createElement(I.D,{size:3,label:"Length (cm)",name:"length",value:s.length,onChange:h,onBlur:f}),r.a.createElement(I.D,{size:3,label:"Width",name:"breadth",value:s.breadth,onChange:h,onBlur:f}),r.a.createElement(I.D,{size:3,label:"Height",name:"height",value:s.height,onChange:h,onBlur:f}),r.a.createElement(I.D,{size:3,label:"Quantity",name:"quantity",value:s.quantity,onChange:h,onBlur:f}),r.a.createElement(I.D,{size:3,label:"Volume (m.cu)",name:"volume",value:s.volume,onChange:h}),r.a.createElement(I.D,{size:3,label:"Total Weight",name:"weight",value:s.weight,onChange:h}),p&&r.a.createElement(V.a,{md:2,style:{marginTop:15}},r.a.createElement(te.a,{variant:"outlined",color:"primary",endIcon:r.a.createElement(xr.a,null),onClick:function(){var e=Object(un.b)(p*s.volume);d(Object(k.a)(Object(k.a)({},s),{},{weight:e}))}},"C")),r.a.createElement(I.D,{size:12,label:"Remarks",name:"remarks",value:s.remarks,onChange:g})))))),m&&r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:20,paddingBottom:20}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-end",alignItems:"flex-end",justify:"flex-end"},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(Dr.a,null),style:{marginBottom:12},onClick:function(){return function(){var e=s.type;if(e.includes("(")&&e.includes(")")){var t=e.substring(e.indexOf("(")+1,e.indexOf(")")).trim().split(",").map((function(e){return+e.trim()})),a=t[Object(Je.d)().warehouseLocation.indexOf(l.warehouseLocation)]||t[0],n=Object(un.b)(a*s.volume);d(Object(k.a)(Object(k.a)({},s),{},{price:n}))}else{var r=Object(un.b)(Object(jr.b)().v*s.volume);d(Object(k.a)(Object(k.a)({},s),{},{price:r}))}}()}},"Calculate"),r.a.createElement(I.D,{size:6,label:"Price",name:"price",value:s.price,onChange:function(e){var t=(e.target.value+"").replace(/[^0-9.]/gi,"");d(Object(k.a)(Object(k.a)({},s),{},Object(N.a)({},e.target.name,(t||"").endsWith(".")?t:+t)))}})))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:20,paddingBottom:20}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-end",alignItems:"flex-end",justify:"flex-end"},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(hr.a,null),onClick:function(){return function(){if(m&&void 0===s.price)o("Please calculate price",{variant:"warning"});else if(s.type)if(s.quantity)if(+s.quantity<=0)o("Please type quantity",{variant:"warning"});else{if(void 0!==t.id){var e=c.map((function(e){return e.id!==t.id?e:Object(k.a)(Object(k.a)({},s),{},{id:new Date})}));n(e)}else n([].concat(Object(Ke.a)(c),[Object(k.a)(Object(k.a)({},s),{},{id:new Date})]));a(!1)}else o("Please type quantity",{variant:"warning"});else o("Please select Type",{variant:"warning"})}()}},"Add Package"))))))))},Sr=[{label:"ID",name:"id",options:{display:!1}},{name:"shortLoaded",options:{display:!1}},{label:"Type",name:"type",options:{customBodyRender:function(e,t){return t.rowData[1]?r.a.createElement(ue.a,{label:e,style:{backgroundColor:w.a.shades.red,color:"white"}}):r.a.createElement(ue.a,{label:e})}}},{label:"Length (cm)",name:"length",options:{}},{label:"Width",name:"breadth",options:{}},{label:"Height",name:"height",options:{}},{label:"Quantity",name:"quantity",options:{}},{label:"Weight",name:"weight",options:{}},{label:"Volume (m.cu.)",name:"volume",options:{}},{label:"Remarks",name:"remarks",options:{}}],Tr=a(102),Yr=a.n(Tr),Mr=function(e){var t=e.packages,a=e.shortLoaded,n=r.a.useState({}),c=Object(z.a)(n,2),l=c[0],o=c[1];if(r.a.useEffect((function(){o({quantity:Object(un.c)(t),weight:Object(un.i)(t),volume:Object(un.h)(t)})}),[t]),a){var i=a.replace("S:","").replace("O:","").split(",").map((function(e){return+e}));return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{container:!0,xs:12,sm:12,md:12,lg:12,xl:12,justify:"flex-end",alignContent:"center",alignItems:"center"},a.startsWith("S:")?r.a.createElement(I.r,{label:"SHORT LOADING",value:(i||[]).length,color:w.a.shades.red}):a.startsWith("O:")?r.a.createElement(I.r,{label:"UN-MANIFESTED",value:(i||[]).length,color:w.a.shades.red}):r.a.createElement(r.a.Fragment,null),r.a.createElement(I.q,{label:"Packages",value:Yr()(l,"quantity","-")}),r.a.createElement(I.q,{label:"Weight",value:Object(un.b)(Yr()(l,"weight",0))}),r.a.createElement(I.q,{label:"Volume",value:Object(un.e)(Yr()(l,"volume",0))})),r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(fn,{data:t.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{shortLoaded:i.filter((function(t){return t===e.id})).length>0})})),columns:Sr,minified:!0}))))}return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{container:!0,xs:12,sm:12,md:12,lg:12,xl:12,justify:"flex-end",alignContent:"center",alignItems:"center"},r.a.createElement(I.q,{label:"Packages",value:Yr()(l,"quantity","-")}),r.a.createElement(I.q,{label:"Weight",value:Object(un.b)(Yr()(l,"weight",0))}),r.a.createElement(I.q,{label:"Volume",value:Object(un.e)(Yr()(l,"volume",0))})),r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(fn,{data:t,columns:Sr,minified:!0}))))},Ir=a(48),Ar=a.n(Ir),Lr=function(e){var t,a,n,c,l,o,i,u,s,d,m,p,b,f,g,h,v,E,y,O=e.setOverlayDetail,j=e.details,D=e.loading,w=(Object(Je.b)(Object(Je.d)().branch)||{}).qidLabel||"Residential ID";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.m,{title:"HBL BASIC DETAILS",onClose:function(){return O(!1)}}),r.a.createElement(I.s,{loading:D}),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:0}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"PERSONAL DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.p,{size:4,label:"Name with Initial",value:j.nameWithInitials}),r.a.createElement(I.p,{size:6,label:"Full Name",value:j.fullName}),r.a.createElement(I.p,{size:3,label:"Contact",value:null===(t=j.cargo)||void 0===t?void 0:t.contact}),r.a.createElement(I.p,{size:6,label:"Address",value:null===(a=j.cargo)||void 0===a?void 0:a.address}),r.a.createElement(I.p,{size:3,label:"Passport No",value:null===(n=j.cargo)||void 0===n?void 0:n.ppNo}),r.a.createElement(I.p,{size:3,label:w,value:null===(c=j.cargo)||void 0===c?void 0:c.qid}),r.a.createElement(I.p,{size:3,label:"Location",value:(null===(l=j.cargo)||void 0===l?void 0:l.location)||"-"}),r.a.createElement(I.p,{size:3,label:"Cargo Mode",value:null===(o=j.cargo)||void 0===o?void 0:o.cargoMode}),r.a.createElement(I.p,{size:3,label:"Warehouse Location",value:null===(i=j.cargo)||void 0===i?void 0:i.warehouseLocation}),r.a.createElement(I.p,{size:6,label:"Delivery Type",value:null===(u=j.cargo)||void 0===u?void 0:u.deliveryType})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"CONTACT DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.p,{size:3,label:"Name",value:null===(s=j.cargo)||void 0===s?void 0:s.slName}),r.a.createElement(I.p,{size:6,label:"Address",value:null===(d=j.cargo)||void 0===d?void 0:d.slAddress}),r.a.createElement(V.a,{item:!0,md:3}),r.a.createElement(I.p,{size:3,label:"Contact",value:null===(m=j.cargo)||void 0===m?void 0:m.slContact}),r.a.createElement(I.p,{size:3,label:"NIC/PP No",value:null===(p=j.cargo)||void 0===p?void 0:p.slPpNo}),r.a.createElement(I.p,{size:6,label:"Note",value:null===(b=j.cargo)||void 0===b?void 0:b.note})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"SCHOOL DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(V.a,{item:!0,md:12},r.a.createElement(Mr,{packages:Ar()(j,"packages",[]),shortLoaded:null===(f=j.cargo)||void 0===f?void 0:f.shortLoaded}))))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"PAYMENT DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},ka()(null===(g=j.cargo)||void 0===g?void 0:g.amountSpec,(function(e){return r.a.createElement(I.p,{size:3,label:e.costType,value:e.amount})})),r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement("hr",{style:{width:"100%"}})),j.cargo&&r.a.createElement(I.p,{size:3,label:"GRAND TOTAL",value:(null===(h=j.cargo)||void 0===h?void 0:h.amount)+" "+(null===(v=j.cargo)||void 0===v?void 0:v.currency)}),j.cargo&&r.a.createElement(I.p,{size:3,label:"PAID AMOUNT",value:(null===(E=j.cargo)||void 0===E?void 0:E.paid)+" "+(null===(y=j.cargo)||void 0===y?void 0:y.currency)})))))),r.a.createElement(I.s,{loading:D})))))},Rr=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,e.abrupt("return",Object(Ht.c)("/v1/complaint/get-all?branch=".concat(Object(Je.d)().branch,"&startDate=").concat(a,"&endDate=").concat(n,"Z")));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Br=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.e)("/v1/complaint/create?branch=".concat(Object(Je.d)().branch),Object(k.a)(Object(k.a)({},t),{},{branch:Object(Je.d)().branch,auth:Object(Je.d)().username,status:"NEW",createdDate:fa()().format("YYYY-MM-DD HH:mm")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zr=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/complaint/update/".concat(t,"?branch=").concat(Object(Je.d)().branch),Object(k.a)(Object(k.a)({},a),{},{lastUpdatedDate:fa()().format("YYYY-MM-DD HH:mm"),lastUpdatedAuth:Object(Je.d)().username})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Nr=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.a)("/v1/complaint/delete/".concat(t,"?branch=").concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pr={get:Rr,getById:function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/complaint/get-by-id/".concat(t,"?branch=").concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getByCargoId:function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/complaint/get-all-by-cargo-id?cargoId=".concat(t,"&branch=").concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:Br,remove:Nr,update:zr},Fr={get:function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/audit/get-all?branch="+(a||Object(Je.d)().branch)+"&ref=".concat(t,"&entity=CARGO")));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},Hr=function(e,t,a,n,r){return r?"DELETED":-12!==e||t?-12===e&&t?"DRIVER ASSIGNED":12===e&&t?"DRIVER PICKED UP":42===e&&t?"DRIVER DELIVERED":-1!==e||t?-1===e&&t?"DRIVER ASSIGNED":-11===e?"JOB SUSPENDED":0===e?t?"DRIVER PICKED":"OFFICER PICKED":1!==e||a?1===e&&a?"ADDED TO SHIPMENT":2===e&&a?"IN CUSTOMS":3!==e||n?3===e&&n?"DELIVERY ASSIGNED":33===e?"DELIVERY SUSPENDED":4===e||4===e?n?"PACKAGE DELVIERED":"PACKAGE CLEARED":"N/A":"SHIPMENT REACHED":"BRANCH WAREHOUSE":"CARGO INFO RECIEVED":"DOMESTIC JOB RECIEVED"},Wr=a(741),Ur=[{label:"ID",name:"id",options:{display:!1}},{label:"Detail",name:"added",options:{customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e})}}},{label:"Date",name:"createdDate",options:{}},{label:"Time",name:"createdTime",options:{}},{label:"Auth",name:"auth",options:{}},{label:"Branch",name:"branch",options:{}}],qr=function(e){var t,a,n=e.setOverlayDetail,c=e.details,l=Object(b.useSnackbar)().enqueueSnackbar,o=r.a.useState([]),i=Object(z.a)(o,2),u=i[0],s=i[1],d=r.a.useState(null),m=Object(z.a)(d,2),p=m[0],f=m[1],g=r.a.useState({}),h=Object(z.a)(g,2),v=h[0],E=h[1],y=r.a.useState([]),O=Object(z.a)(y,2),j=O[0],D=O[1],C=r.a.useState([]),x=Object(z.a)(C,2),k=x[0],S=x[1],T=r.a.useState(""),Y=Object(z.a)(T,2),M=Y[0],A=Y[1],L=r.a.useState(!1),R=Object(z.a)(L,2),B=R[0],N=R[1];return r.a.useEffect((function(){var e,t,a=c.cargo||{},n=[{label:"Job Added",data:a.auth+" | "+a.createdDate+" "+a.createdTime},{label:"Tentative Pickup",data:a.auth+" | "+a.pickupDate+" "+a.pickupTime},{label:"Picked on",data:a.fetched>=0&&a.pickedUpDate+" "+a.pickedUpTime+" "+(v.username||"N/A")},{label:"HBL Added on",data:a.fetched>=0&&a.pickedUpDate+" "+a.pickedUpTime},{label:"Cash Collected",data:a.fetched>=1&&a.cashedBy+" | "+a.cashedDate+" "+a.cashedTime},{label:"Warehouse",data:a.fetched>=1&&(a.pickupWarehouseZone||"n/a")}];s(n);var r=Hr(a.fetched,a.driverId,a.loadingId,a.dispatchedId,a.deleted);A(r),a.driverId&&Xa.getById(a.driverId,c.cargo.branch).then((function(e){E(e)})).catch((function(e){l("Could not fetch driver",{variant:"error"})})).finally((function(e){return N(!1)})),c.cargo.loadingId&&(N(!0),Gn.get(c.cargo.loadingId,c.cargo.branch).then((function(e){f(e)})).catch((function(e){l("Could not fetch shipment",{variant:"error"})})).finally((function(e){return N(!1)}))),Pr.getByCargoId(null===(e=c.cargo)||void 0===e?void 0:e.id).then((function(e){D(e)})).catch((function(e){l("Could not fetch complaints",{variant:"error"})})),Fr.get(null===(t=c.cargo)||void 0===t?void 0:t.id,c.cargo.branch).then((function(e){S(e)})).catch((function(e){}))}),[l,c.cargo]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.m,{title:"HBL STATUS AND AUDIT LOGS",onClose:function(){return n(!1)}}),r.a.createElement(I.s,{loading:B}),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{padding:10}},r.a.createElement(ue.a,{label:"HBL STATUS: "+M,style:{color:"white",backgroundColor:w.a.shades.green}})),r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"CARGO STATUS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(V.a,{item:!0,md:6},r.a.createElement(I.z,{items:u.slice(0,3)})),r.a.createElement(V.a,{item:!0,md:6},r.a.createElement(I.z,{items:u.slice(3)}))))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"SHIPMENT DETAILS"}),p&&r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{container:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{padding:10}},r.a.createElement(ue.a,{label:p.status||"N/A",style:{color:"white",backgroundColor:w.a.shades.green}})),r.a.createElement(V.a,{container:!0,xs:12,sm:12,md:12,lg:12,xl:12,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.p,{size:4,label:"Name/Note",value:p.notes}),r.a.createElement(I.p,{size:4,label:"REF",value:p.ref}),r.a.createElement(V.a,{md:4}),r.a.createElement(I.p,{size:2,label:"Created Date",value:p.createdDate}),r.a.createElement(I.p,{size:2,label:"ETD",value:p.etd}),r.a.createElement(I.p,{size:2,label:"ETA",value:p.eta}),r.a.createElement(I.p,{size:2,label:"Reached Date",value:p.reachedDate}),r.a.createElement(V.a,{md:4}),r.a.createElement(I.p,{size:2,label:"Cargo Mode",value:p.cargoMode}),r.a.createElement(I.p,{size:2,label:"Delivery Type",value:p.deliveryType}),r.a.createElement(I.p,{size:2,label:"AWB/BL",value:p.blNumber}),r.a.createElement(I.p,{size:2,label:"MHBL",value:p.mhbl}),r.a.createElement(I.p,{size:2,label:"Has Reached Destination?",value:1===(null===(t=c.cargo)||void 0===t?void 0:t.fetched)?"No":"Yes"}),r.a.createElement(I.p,{size:2,label:"Has Customs Cleared?",value:(null===(a=c.cargo)||void 0===a?void 0:a.fetched)>2?"Yes":"No"}))))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"COMPLAINT DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{container:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{paddingTop:5,paddingBottom:5}},j.length>0?r.a.createElement(te.a,{endIcon:r.a.createElement(Wr.a,null),color:"primary",variant:"outlined",size:"small",onClick:function(){var e;window.open("complaints/"+(null===(e=c.cargo)||void 0===e?void 0:e.hbl),"_blank")},style:{marginTop:0}},"VIEW COMPAINTS"):r.a.createElement(I.p,{size:2,label:"No Complaints for this HBL",value:""})),j.map((function(e){return r.a.createElement(V.a,{style:{paddingTop:15},container:!0,xs:12,sm:12,md:12,lg:12,xl:12,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.p,{size:2,label:"Created Date",value:(e.createdDate||"").replace("T"," ")}),r.a.createElement(I.p,{size:2,label:"Subject",value:e.subject}),r.a.createElement(I.p,{size:4,label:"Detail",value:e.detail}),r.a.createElement(I.p,{size:2,label:"Status",value:e.status}))}))))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"AUDIT DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,sm:12},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{paddingTop:5,paddingBottom:5}},r.a.createElement(fn,{data:k,columns:Ur,minified:!0}))))))),r.a.createElement(I.s,{loading:B})))))},Gr=a(118),Vr=[{name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"deleted",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"filename",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"HBL",name:"entityRef",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement("b",null,e)}}},{label:"Document Name",name:"filename",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e})}}},{name:"upload",label:"Uploaded details",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"notes",label:"Notes",options:{viewColumns:!0,filter:!1,sort:!0}}],Jr=a(742),Kr=a(710),_r=function(e){var t,a=e.details,n=e.setOverlayDetail,c=Object(b.useSnackbar)().enqueueSnackbar,l=Object(f.useDialog)(),o=r.a.useState(!1),i=Object(z.a)(o,2),u=i[0],s=i[1],d=r.a.useState(0),m=Object(z.a)(d,2),p=m[0],g=m[1],h=r.a.useState(!1),v=Object(z.a)(h,2),E=v[0],y=v[1],O=r.a.useState([]),j=Object(z.a)(O,2),D=j[0],w=j[1],C=r.a.useState({}),x=Object(z.a)(C,2),S=x[0],T=x[1];r.a.useEffect((function(){var e,t;(null===(e=a.cargo)||void 0===e?void 0:e.id)&&(s(!0),Gr.a.getAll({id:null===(t=a.cargo)||void 0===t?void 0:t.id,entity:"cargo"}).then((function(e){w(Object(ga.map)(Object(ga.orderBy)(e,"deleted"),(function(e){return Object(k.a)(Object(k.a)({},e),{},{upload:e.auth+" "+e.createdDate+" "+e.branch})})))})).catch((function(e){c("Could not fetch",{variant:"error"})})).finally((function(e){return s(!1)})))}),[c,a,p]);var Y=[].concat(Object(Ke.a)(Vr),[{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return t.rowData[1]?r.a.createElement(r.a.Fragment,null,"Deleted"):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.B,{title:"Download",icon:r.a.createElement(Jr.a,null),onClick:function(){M(t.rowData[0],t.rowData[2])}}),r.a.createElement(I.B,{title:"View",icon:r.a.createElement(Kr.a,null),onClick:function(){window.open("view-docs/"+t.rowData[0]+"/"+t.rowData[2],"_blank")}}),"pickup"===Object(Je.d)().type&&r.a.createElement(I.B,{title:"Delete",icon:r.a.createElement(Er.a,null),onClick:function(){A(t.rowData[0],t.rowData[2])}}))}}}]),M=function(e,t){s(!0),Gr.a.download(e).then((function(e){var a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=t||"docs-download",document.body.appendChild(n),n.click()})).catch((function(e){c("Could not Download",{variant:"error"})})).finally((function(e){return s(!1)}))},A=function(e,t){l.confirm(Object(I.d)("Delete file: "+t,"DELETE")).then((function(){s(!0),Gr.a.deleteFile(e).then((function(e){c("Deleted",{variant:"success"}),g(p+1)})).catch((function(e){c("Could not Delete",{variant:"error"})})).finally((function(e){return s(!1)}))}))};return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.m,{title:"Documents Under HBL - "+(null===(t=a.cargo)||void 0===t?void 0:t.hbl),onClose:function(){return n(!1)}}),r.a.createElement(I.s,{loading:u}),r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:3,sm:3,md:3,lg:3,xl:3,style:{paddingLeft:10,paddingTop:10,paddingRight:10,borderRight:"1px solid #eeeeee"}},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"UPLOAD NEW DOCUMENTS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{container:!0,spacing:2,xs:12,md:12,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingLeft:5,paddingTop:10}},r.a.createElement(Tn.a,{onChange:function(e){var t;(t=e).length>0&&y(t[0])},filesLimit:1,getPreviewIcon:function(){return r.a.createElement(Yn.a,null)},maxFileSize:5e6})),r.a.createElement(V.a,{container:!0,spacing:1,xs:12,md:12,justify:"flex-start",alignContent:"center",alignItems:"center",style:{marginTop:20,border:"4px dashed #eeeeee",borderRadius:5}},r.a.createElement(I.D,{size:12,label:"Notes",name:"notes",value:S.notes,onChange:function(e){T(Object(k.a)(Object(k.a)({},S),{},Object(N.a)({},e.target.name,e.target.value)))}}),r.a.createElement(V.a,{md:12,container:!0,justify:"space-between",style:{paddingLeft:5,paddingRight:10,paddingTop:5,paddingBottom:5}},r.a.createElement(te.a,{disabled:!E,color:"primary",variant:"contained",size:"medium",onClick:function(){var e,t,n;(null===(e=a.cargo)||void 0===e?void 0:e.hbl)?(s(!0),Gr.a.upload(E,null===(t=a.cargo)||void 0===t?void 0:t.id,"cargo",null===(n=a.cargo)||void 0===n?void 0:n.hbl,S.notes||"").then((function(e){c("Upload success",{variant:"success"}),g(p+1),y(!1)})).catch((function(e){c("Could not Upload",{variant:"error"})})).finally((function(e){return s(!1)}))):c("This JOB is not Converted as HBL yet",{variant:"warning"})},style:{marginTop:2}},"Upload"))))))),r.a.createElement(V.a,{item:!0,xs:9,sm:9,md:9,lg:9,xl:9,style:{paddingRight:10,paddingTop:10}},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"LIST OF UPLOADED DOCUMENTS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(fn,{data:D,columns:Y,minified:!0}))))))))))},Zr=a(290),Xr=a.n(Zr),Qr=a(743),$r=a(744),ec=function(e){var t=e.overlayDetail,a=e.setOverlayDetail,n=r.a.useState(0),c=Object(z.a)(n,2),l=c[0],o=c[1],i=Object(b.useSnackbar)().enqueueSnackbar,u=r.a.useState({cargo:{},packages:[]}),s=Object(z.a)(u,2),d=s[0],m=s[1],p=r.a.useState(!1),f=Object(z.a)(p,2),g=f[0],h=f[1];r.a.useEffect((function(){void 0!==t.id&&(h(!0),gr.get(t).then((function(e){var t=ka()(e.packages,(function(e){return Object(k.a)({},e)}));m(Object(k.a)(Object(k.a)({},e),{},{packages:t}))})).catch((function(e){i("Could not fetch",{variant:"error"})})).finally((function(e){return h(!1)})))}),[i,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.C,{value:l,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return function(e){if(9===e)return d.cargo.id?d.cargo.hbl?(window.open("print/"+d.cargo.id+"/"+Object(Je.d)().branch+"/1","_blank"),void a(!1)):void i("Only HBLs can be printed. This is a Job",{variant:"warning"}):void i("Loading! please wait.",{variant:"warning"});o(e)}(t)},centered:!0},r.a.createElement(I.A,{value:0,wrapped:!0,label:r.a.createElement("span",null,r.a.createElement(Xr.a,null),"\xa0Member Details")}),r.a.createElement(I.A,{value:1,wrapped:!0,label:r.a.createElement("span",null,r.a.createElement(Qr.a,null),"\xa0Subscription")}),r.a.createElement(I.A,{value:2,wrapped:!0,label:r.a.createElement("span",null,r.a.createElement(Yn.a,null),"\xa0Documents")}),r.a.createElement(I.A,{value:9,wrapped:!0,label:r.a.createElement("span",null,r.a.createElement($r.a,null),"\xa0Print")})),0===l&&r.a.createElement(Lr,{details:d,loading:g,setOverlayDetail:a}),1===l&&r.a.createElement(qr,{details:d,loading:g,setOverlayDetail:a}),2===l&&r.a.createElement(_r,{details:d,loading:g,setOverlayDetail:a}),r.a.createElement("div",{style:{padding:20}}))},tc=[{label:"ID",name:"id",options:{display:!1}},{label:"Type",name:"type",options:{customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e})}}},{label:"Length (cm)",name:"length",options:{}},{label:"Width",name:"breadth",options:{}},{label:"Height",name:"height",options:{}},{label:"Quantity",name:"quantity",options:{}},{label:"Weight",name:"weight",options:{}},{label:"Volume (m.cu.)",name:"volume",options:{}},{label:"Remarks",name:"remarks",options:{}}],ac=function(e){var t=e.packages,a=r.a.useState({}),n=Object(z.a)(a,2),c=n[0],l=n[1];return r.a.useEffect((function(){l({quantity:Object(un.c)(t),weight:Object(un.i)(t),volume:Object(un.h)(t)})}),[t]),r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{container:!0,xs:12,sm:12,md:12,lg:12,xl:12,justify:"flex-end",alignContent:"center",alignItems:"center"},r.a.createElement(I.q,{label:"Packages",value:Yr()(c,"quantity","-")}),r.a.createElement(I.q,{label:"Weight",value:Object(un.b)(Yr()(c,"weight",0))}),r.a.createElement(I.q,{label:"Volume",value:Object(un.e)(Yr()(c,"volume",0))})),r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(fn,{data:t,columns:tc,minified:!0}))))},nc=function(e){var t,a,n,c,l,o,i,u,s,d,m,p,b,f,g,h,v=e.setOverlayDetail,E=e.details,y=e.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.m,{title:"JOB/HBL BASIC DETAILS",onClose:function(){return v(!1)}}),r.a.createElement(I.s,{loading:y}),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:0}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"BASIC SHIPPER DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.p,{size:3,label:"JOB REF",value:"REF"+((null===(t=E.cargo)||void 0===t?void 0:t.id)||"XXXX")}),r.a.createElement(V.a,{md:9}),r.a.createElement(I.p,{size:3,label:"Name",value:null===(a=E.cargo)||void 0===a?void 0:a.name}),r.a.createElement(I.p,{size:6,label:"Address",value:null===(n=E.cargo)||void 0===n?void 0:n.address}),r.a.createElement(V.a,{md:3}),r.a.createElement(I.p,{size:3,label:"Contact",value:null===(c=E.cargo)||void 0===c?void 0:c.contact}),r.a.createElement(I.p,{size:3,label:"Location",value:(null===(l=E.cargo)||void 0===l?void 0:l.location)||"-"})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"CONSIGNEE DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.p,{size:3,label:"Name",value:null===(o=E.cargo)||void 0===o?void 0:o.slName}),r.a.createElement(I.p,{size:6,label:"Address",value:null===(i=E.cargo)||void 0===i?void 0:i.slAddress}),r.a.createElement(V.a,{item:!0,md:3}),r.a.createElement(I.p,{size:3,label:"Contact",value:null===(u=E.cargo)||void 0===u?void 0:u.slContact}),r.a.createElement(I.p,{size:3,label:"Location",value:null===(s=E.cargo)||void 0===s?void 0:s.slLocation}),r.a.createElement(I.p,{size:3,label:"NIC/PP No",value:null===(d=E.cargo)||void 0===d?void 0:d.slPpNo}),r.a.createElement(I.p,{size:6,label:"Note",value:null===(m=E.cargo)||void 0===m?void 0:m.note})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"PACKAGE DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(V.a,{item:!0,md:12},r.a.createElement(ac,{packages:Ar()(E,"packages",[])}))))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!1},r.a.createElement(I.l,{title:"PAYMENT DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},ka()(null===(p=E.cargo)||void 0===p?void 0:p.amountSpec,(function(e){return r.a.createElement(I.p,{size:3,label:e.costType,value:e.amount})})),r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement("hr",{style:{width:"100%"}})),E.cargo&&r.a.createElement(I.p,{size:3,label:"GRAND TOTAL",value:(null===(b=E.cargo)||void 0===b?void 0:b.amount)+" "+(null===(f=E.cargo)||void 0===f?void 0:f.currency)}),E.cargo&&r.a.createElement(I.p,{size:3,label:"PAID AMOUNT",value:(null===(g=E.cargo)||void 0===g?void 0:g.paid)+" "+(null===(h=E.cargo)||void 0===h?void 0:h.currency)})))))),r.a.createElement(I.s,{loading:y})))))},rc=[{label:"ID",name:"id",options:{display:!1}},{label:"Detail",name:"added",options:{customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e})}}},{label:"Date",name:"createdDate",options:{}},{label:"Time",name:"createdTime",options:{}},{label:"Auth",name:"auth",options:{}},{label:"Branch",name:"branch",options:{}}],cc=function(e){var t=e.setOverlayDetail,a=e.details,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState([]),l=Object(z.a)(c,2),o=l[0],i=l[1],u=r.a.useState({}),s=Object(z.a)(u,2),d=s[0],m=s[1],p=r.a.useState([]),f=Object(z.a)(p,2),g=f[0],h=f[1],v=r.a.useState([]),E=Object(z.a)(v,2),y=E[0],O=E[1],j=r.a.useState(""),D=Object(z.a)(j,2),C=D[0],x=D[1],k=r.a.useState(!1),S=Object(z.a)(k,2),T=S[0],Y=S[1];return r.a.useEffect((function(){var e,t,r,c,l;(null===(e=a.cargo)||void 0===e?void 0:e.driverId)&&(Y(!0),Xa.getById(null===(c=a.cargo)||void 0===c?void 0:c.driverId,null===(l=a.cargo)||void 0===l?void 0:l.branch).then((function(e){m(e)})).catch((function(e){n("Could not fetch driver",{variant:"error"})})).finally((function(e){return Y(!1)})));Pr.getByCargoId(null===(t=a.cargo)||void 0===t?void 0:t.id).then((function(e){h(e)})).catch((function(e){n("Could not fetch complaints",{variant:"error"})})),Fr.get(null===(r=a.cargo)||void 0===r?void 0:r.id).then((function(e){O(e)})).catch((function(e){}))}),[n,a.cargo]),r.a.useEffect((function(){var e=a.cargo||{},t=[{label:"Job Added",data:"User: "+e.auth+" | on "+e.createdDate+" "+e.createdTime},{label:"Tentative Pickup",data:"User: "+e.auth+" | on "+e.pickupDate+" "+e.pickupTime},{label:"Picked on",data:e.fetched>=0&&e.pickedUpDate+" "+e.pickedUpTime+" by Driver: "+(d.username||"N/A")},{label:"Delivered on",data:42===e.fetched&&e.deliveredDate+" "+e.deliveredTime}];i(t);var n=Hr(e.fetched,e.driverId,e.loadingId,e.dispatchedId,e.deleted);x(n)}),[n,a.cargo,d]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.m,{title:"HBL STATUS AND AUDIT LOGS",onClose:function(){return t(!1)}}),r.a.createElement(I.s,{loading:T}),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{padding:10}},r.a.createElement(ue.a,{label:"HBL STATUS: "+C,style:{color:"white",backgroundColor:w.a.shades.green}})),r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"CARGO STATUS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(V.a,{item:!0,md:6},r.a.createElement(I.z,{items:o.slice(0,2)})),r.a.createElement(V.a,{item:!0,md:6},r.a.createElement(I.z,{items:o.slice(2)}))))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"COMPLAINT DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{container:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{paddingTop:5,paddingBottom:5}},g.length>0?r.a.createElement(te.a,{endIcon:r.a.createElement(Wr.a,null),color:"primary",variant:"outlined",size:"small",onClick:function(){var e;window.open("complaints/"+(null===(e=a.cargo)||void 0===e?void 0:e.hbl),"_blank")},style:{marginTop:0}},"VIEW COMPAINTS"):r.a.createElement(I.p,{size:2,label:"No Complaints for this HBL",value:""})),g.map((function(e){return r.a.createElement(V.a,{style:{paddingTop:15},container:!0,xs:12,sm:12,md:12,lg:12,xl:12,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.p,{size:2,label:"Created Date",value:(e.createdDate||"").replace("T"," ")}),r.a.createElement(I.p,{size:2,label:"Subject",value:e.subject}),r.a.createElement(I.p,{size:4,label:"Detail",value:e.detail}),r.a.createElement(I.p,{size:2,label:"Status",value:e.status}))}))))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"AUDIT DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,sm:12},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12,style:{paddingTop:5,paddingBottom:5}},r.a.createElement(fn,{data:y,columns:rc,minified:!0}))))))),r.a.createElement(I.s,{loading:T})))))},lc=[{name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"deleted",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"filename",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"HBL",name:"entityRef",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement("b",null,e)}}},{label:"Document Name",name:"filename",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e})}}},{name:"upload",label:"Uploaded details",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"notes",label:"Notes",options:{viewColumns:!0,filter:!1,sort:!0}}],oc=function(e){var t,a=e.details,n=e.setOverlayDetail,c=Object(b.useSnackbar)().enqueueSnackbar,l=Object(f.useDialog)(),o=r.a.useState(!1),i=Object(z.a)(o,2),u=i[0],s=i[1],d=r.a.useState(0),m=Object(z.a)(d,2),p=m[0],g=m[1],h=r.a.useState(!1),v=Object(z.a)(h,2),E=v[0],y=v[1],O=r.a.useState([]),j=Object(z.a)(O,2),D=j[0],w=j[1],C=r.a.useState({}),x=Object(z.a)(C,2),S=x[0],T=x[1];r.a.useEffect((function(){var e,t;(null===(e=a.cargo)||void 0===e?void 0:e.id)&&(s(!0),Gr.a.getAll({id:null===(t=a.cargo)||void 0===t?void 0:t.id,entity:"cargo"}).then((function(e){w(Object(ga.map)(Object(ga.orderBy)(e,"deleted"),(function(e){return Object(k.a)(Object(k.a)({},e),{},{upload:e.auth+" "+e.createdDate+" "+e.branch})})))})).catch((function(e){c("Could not fetch",{variant:"error"})})).finally((function(e){return s(!1)})))}),[c,a,p]);var Y=[].concat(Object(Ke.a)(lc),[{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return t.rowData[1]?r.a.createElement(r.a.Fragment,null,"Deleted"):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.B,{title:"Download",icon:r.a.createElement(Jr.a,null),onClick:function(){M(t.rowData[0],t.rowData[2])}}),r.a.createElement(I.B,{title:"View",icon:r.a.createElement(Kr.a,null),onClick:function(){window.open("view-docs/"+t.rowData[0]+"/"+t.rowData[2],"_blank")}}),"pickup"===Object(Je.d)().type&&r.a.createElement(I.B,{title:"Delete",icon:r.a.createElement(Er.a,null),onClick:function(){A(t.rowData[0],t.rowData[2])}}))}}}]),M=function(e,t){s(!0),Gr.a.download(e).then((function(e){var a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download=t||"docs-download",document.body.appendChild(n),n.click()})).catch((function(e){c("Could not Download",{variant:"error"})})).finally((function(e){return s(!1)}))},A=function(e,t){l.confirm(Object(I.d)("Delete file: "+t,"DELETE")).then((function(){s(!0),Gr.a.deleteFile(e).then((function(e){c("Deleted",{variant:"success"}),g(p+1)})).catch((function(e){c("Could not Delete",{variant:"error"})})).finally((function(e){return s(!1)}))}))};return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.m,{title:"Documents Under HBL - "+(null===(t=a.cargo)||void 0===t?void 0:t.hbl),onClose:function(){return n(!1)}}),r.a.createElement(I.s,{loading:u}),r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:3,sm:3,md:3,lg:3,xl:3,style:{paddingLeft:10,paddingTop:10,paddingRight:10,borderRight:"1px solid #eeeeee"}},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"UPLOAD NEW DOCUMENTS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{container:!0,spacing:2,xs:12,md:12,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingLeft:5,paddingTop:10}},r.a.createElement(Tn.a,{onChange:function(e){var t;(t=e).length>0&&y(t[0])},filesLimit:1,getPreviewIcon:function(){return r.a.createElement(Yn.a,null)},maxFileSize:5e6})),r.a.createElement(V.a,{container:!0,spacing:1,xs:12,md:12,justify:"flex-start",alignContent:"center",alignItems:"center",style:{marginTop:20,border:"4px dashed #eeeeee",borderRadius:5}},r.a.createElement(I.D,{size:12,label:"Notes",name:"notes",value:S.notes,onChange:function(e){T(Object(k.a)(Object(k.a)({},S),{},Object(N.a)({},e.target.name,e.target.value)))}}),r.a.createElement(V.a,{md:12,container:!0,justify:"space-between",style:{paddingLeft:5,paddingRight:10,paddingTop:5,paddingBottom:5}},r.a.createElement(te.a,{disabled:!E,color:"primary",variant:"contained",size:"medium",onClick:function(){var e,t,n;(null===(e=a.cargo)||void 0===e?void 0:e.hbl)?(s(!0),Gr.a.upload(E,null===(t=a.cargo)||void 0===t?void 0:t.id,"cargo",null===(n=a.cargo)||void 0===n?void 0:n.hbl,S.notes||"").then((function(e){c("Upload success",{variant:"success"}),g(p+1),y(!1)})).catch((function(e){c("Could not Upload",{variant:"error"})})).finally((function(e){return s(!1)}))):c("This JOB is not Converted as HBL yet",{variant:"warning"})},style:{marginTop:2}},"Upload"))))))),r.a.createElement(V.a,{item:!0,xs:9,sm:9,md:9,lg:9,xl:9,style:{paddingRight:10,paddingTop:10}},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"LIST OF UPLOADED DOCUMENTS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(fn,{data:D,columns:Y,minified:!0}))))))))))},ic=function(e,t){try{return JSON.parse(e)}catch(a){return t}},uc=function(e){var t=e.overlayDetail,a=e.setOverlayDetail,n=r.a.useState(0),c=Object(z.a)(n,2),l=c[0],o=c[1],i=Object(b.useSnackbar)().enqueueSnackbar,u=r.a.useState({cargo:{},packages:[]}),s=Object(z.a)(u,2),d=s[0],m=s[1],p=r.a.useState(!1),f=Object(z.a)(p,2),g=f[0],h=f[1];r.a.useEffect((function(){void 0!==t.id&&(h(!0),Kn.a.getCargo(t.id).then((function(e){var t=ka()(e.packages,(function(e){return Object(k.a)(Object(k.a)({},e),{},{volume:Object(un.f)(e)||0})})),a=Ar()(e,"cargo",{});m({cargo:Object(k.a)(Object(k.a)({},a),{},{amountSpec:ic(a.amountSpec,[])}),packages:t})})).catch((function(e){i("Could not fetch",{variant:"error"})})).finally((function(e){return h(!1)})))}),[i,t.id]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.C,{value:l,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return function(e){if(9===e)return d.cargo.id?d.cargo.hbl?(window.open("print/"+d.cargo.id+"/"+Object(Je.d)().branch+"/1","_blank"),void a(!1)):void i("Only HBLs can be printed. This is a Job",{variant:"warning"}):void i("Loading! please wait.",{variant:"warning"});o(e)}(t)},centered:!0},r.a.createElement(I.A,{value:0,wrapped:!0,label:r.a.createElement("span",null,r.a.createElement(Xr.a,null),"\xa0HBL Details")}),r.a.createElement(I.A,{value:1,wrapped:!0,label:r.a.createElement("span",null,r.a.createElement(Qr.a,null),"\xa0","Status & Audit")}),r.a.createElement(I.A,{value:2,wrapped:!0,label:r.a.createElement("span",null,r.a.createElement(Yn.a,null),"\xa0","Documents")})),0===l&&r.a.createElement(nc,{details:d,loading:g,setOverlayDetail:a}),1===l&&r.a.createElement(cc,{details:d,loading:g,setOverlayDetail:a}),2===l&&r.a.createElement(oc,{details:d,loading:g,setOverlayDetail:a}),r.a.createElement("div",{style:{padding:20}}))},sc=function(e){var t=e.overlayDetail,a=e.setOverlayDetail;return""===Object(Je.d)().branch?r.a.createElement(ec,{overlayDetail:t,setOverlayDetail:a}):Object(Je.d)().type===Ne.a.domestic?r.a.createElement(uc,{overlayDetail:t,setOverlayDetail:a}):r.a.createElement(ec,{overlayDetail:t,setOverlayDetail:a})},dc=function(){var e=r.a.useState(!1),t=Object(z.a)(e,2),a=t[0],n=t[1],c=r.a.useState(!1),l=Object(z.a)(c,2),o=l[0],i=l[1],u=r.a.useState(!1),s=Object(z.a)(u,2),d=s[0],m=s[1],p=r.a.useState([]),b=Object(z.a)(p,2),f=b[0],g=b[1],h=r.a.useState({}),v=Object(z.a)(h,2),E=v[0],y=v[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:Ce.a,size:4,title:"Create new Member",subtitle:"Zahira OBA"}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}}))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,{style:{paddingTop:0}},r.a.createElement(Cr,{setOverlayDetail:i,setCargoRedundantData:y,setOverlayType:m,packages:f,setPackages:g,loading:a,setLoading:n}),r.a.createElement("div",{style:{padding:20}})))),r.a.createElement(I.g,{open:o,width:"VIEW"===d?"lg":"sm",content:r.a.createElement(r.a.Fragment,null,"VIEW"===d&&r.a.createElement(sc,{overlayDetail:o,setOverlayDetail:i}),"ADD_PACK"===d&&r.a.createElement(kr,{cargoRedundantData:E,setPackages:g,packages:f,overlayDetail:o,setOverlayDetail:i}))}))},mc=[{label:"ID",name:"id",options:{display:!1}},{label:"Type",name:"type",options:{customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e})}}},{label:"Length (cm)",name:"length",options:{}},{label:"Width",name:"breadth",options:{}},{label:"Height",name:"height",options:{}},{label:"Quantity",name:"quantity",options:{}},{label:"Weight",name:"weight",options:{}},{label:"Volume (m.cu.)",name:"volume",options:{}},{label:"Remarks",name:"remarks",options:{}}],pc=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.e)("/v1/package/create?branch=".concat(Object(Je.d)().branch),Object(k.a)(Object(k.a)({cargoId:t},a),{},{branch:Object(Je.d)().branch,auth:Object(Je.d)().username})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),bc=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/package/update/".concat(t,"?branch=").concat(Object(Je.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),fc={create:pc,remove:function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.a)("/v1/package/delete/".concat(t,"?branch=").concat(Object(Je.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),update:bc},gc=function(e){var t=e.setOverlayDetail,a=e.packages,n=e.setChanged,c=e.changed,l=Object(f.useDialog)(),o=Object(b.useSnackbar)().enqueueSnackbar,i=r.a.useState(!1),u=Object(z.a)(i,2),s=u[0],d=u[1],m=[].concat(Object(Ke.a)(mc),[{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{title:"Delete"},r.a.createElement("span",null,r.a.createElement(y.a,{onClick:function(){return e=a.rowData[0],t=a.rowData[1],void l.confirm(Object(I.d)("Delete "+t,"DELETE")).then((function(){d(!0),fc.remove(e).then((function(e){o("Deleted",{variant:"success"}),n(c+1)})).catch((function(e){o("Could not Delete",{variant:"error"})})).finally((function(e){return d(!1)}))}));var e,t}},r.a.createElement(Er.a,null)))),r.a.createElement(ae.a,{title:"Edit"},r.a.createElement("span",null,r.a.createElement(y.a,{onClick:function(){t({id:a.rowData[0]})}},r.a.createElement(yr.a,null)))))}}}]);return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:s}),r.a.createElement(fn,{data:a,columns:m,minified:!0}))))},hc=function(e){var t=e.loading,a=e.setLoading,n=e.setOverlayDetail,c=e.packages,l=e.setPackages,o=e.id,i=e.changed,u=e.setChanged,s=Object(b.useSnackbar)().enqueueSnackbar,d=(Object(Je.b)(Object(Je.d)().branch)||{}).qidLabel||"Residential ID",m=r.a.useState({}),p=Object(z.a)(m,2),f=p[0],g=p[1];r.a.useEffect((function(){a(!0),Kn.a.getCargo(o).then((function(e){Object(Je.d)().branch!==e.cargo.branch&&s("You are not Authorized",{variant:"warning"}),g(Object(k.a)(Object(k.a)({},e.cargo),{},{pickupDateTime:fa()(e.cargo.pickupDate+"T"+e.cargo.pickupTime+":00")})),l(e.packages||[])})).catch((function(e){s("Could not fetch",{variant:"error"})})).finally((function(e){return a(!1)}))}),[s,o,a,l]),r.a.useEffect((function(){a(!0),Kn.a.getCargo(o).then((function(e){l(e.packages||[])})).catch((function(e){s("Could not fetch",{variant:"error"})})).finally((function(e){return a(!1)}))}),[s,o,a,l,i]);var h=function(e){g(Object(k.a)(Object(k.a)({},f),{},Object(N.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:t}),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:0}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"BASIC DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.u,{size:4,name:"cargoMode",onChange:h,value:f.cargoMode,values:Object(Je.d)().cargoMode}),r.a.createElement(I.u,{size:8,name:"warehouseLocation",onChange:h,value:f.warehouseLocation,values:Object(Je.d)().warehouseLocation}),r.a.createElement(I.D,{size:3,label:"Name",name:"name",value:f.name,onChange:h}),r.a.createElement(I.D,{size:6,label:"Description",name:"description",value:f.description,onChange:h}),r.a.createElement(V.a,{item:!0,md:3}),r.a.createElement(I.D,{size:3,label:"Contact",name:"contact",value:f.contact,onChange:h}),r.a.createElement(I.D,{size:6,label:"Address",name:"address",value:f.address,onChange:h}),r.a.createElement(I.D,{size:3,label:"Location",name:"location",value:f.location,onChange:h}),r.a.createElement(I.D,{size:3,label:"ID/PP No",name:"ppNo",value:f.ppNo,onChange:h}),r.a.createElement(I.D,{size:3,label:d,name:"qid",value:f.qid,onChange:h}),r.a.createElement(V.a,{item:!0,md:1}),r.a.createElement(I.u,{size:5,name:"deliveryType",onChange:h,value:f.deliveryType,values:Object(Je.d)().deliveryType})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"CONSIGNEE DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.D,{size:3,label:"Name",name:"slName",value:f.slName,onChange:h}),r.a.createElement(I.D,{size:6,label:"Address",name:"slAddress",value:f.slAddress,onChange:h}),r.a.createElement(V.a,{item:!0,md:3}),r.a.createElement(I.D,{size:3,label:"Contact",name:"slContact",value:f.slContact,onChange:h}),r.a.createElement(I.D,{size:3,label:"NIC/PP No",name:"slPpNo",value:f.slPpNo,onChange:h}),r.a.createElement(I.D,{size:6,label:"Note",name:"note",value:f.note,onChange:h})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"PACKAGE DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(V.a,{item:!0,md:12,style:{paddingTop:15,paddingBottom:5}},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(hr.a,null),disabled:t,onClick:function(){return n({cargoId:o})}},"Add Package")),r.a.createElement(V.a,{item:!0,md:12},r.a.createElement(gc,{changed:i,setChanged:u,setPackages:l,packages:c,setOverlayDetail:n}))))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"PAYMENT DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(V.a,{item:!0,md:12}),r.a.createElement(V.a,{item:!0,md:12})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:20}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-end",alignItems:"flex-end",justify:"flex-end"},r.a.createElement(te.a,{variant:"contained",color:"primary",size:"medium",endIcon:r.a.createElement(tr.a,null),style:{marginRight:5},disabled:t,onClick:function(){return a(!0),void Kn.a.editHbl(o,f).then((function(e){s("Editted",{variant:"success"})})).catch((function(e){console.log(e),s("Could not Edit",{variant:"error"})})).finally((function(e){return a(!1)}))}},"Update HBL")))),r.a.createElement(I.s,{loading:t})))))},vc=function(e){var t=e.setOverlayDetail,a=e.overlayDetail,n=e.setChanged,c=e.changed,l=Object(b.useSnackbar)().enqueueSnackbar,o=r.a.useState({}),i=Object(z.a)(o,2),u=i[0],s=i[1],d=r.a.useState(!1),m=Object(z.a)(d,2),p=m[0],f=m[1],g=function(e){"quantity"!==e.target.name&&"length"!==e.target.name&&"height"!==e.target.name&&"breadth"!==e.target.name||s(Object(k.a)(Object(k.a)({},u),{},{volume:Object(un.f)(u)}))},h=function(e){s(Object(k.a)(Object(k.a)({},u),{},Object(N.a)({},e.target.name,e.target.value)))},v=function(e){var t=(e.target.value+"").replace(/[^0-9.]/gi,"");s(Object(k.a)(Object(k.a)({},u),{},Object(N.a)({},e.target.name,t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.m,{title:"ADD PACKAGE TO EXISTING HBL",onClose:function(){return t(!1)}}),r.a.createElement(I.s,{loading:p}),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:0}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"PACKAGE DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.w,{size:4,label:"Type",name:"type",values:Object(Je.d)().packageType,value:u.type,onChange:h}),r.a.createElement(V.a,{item:!0,md:8}),r.a.createElement(I.D,{size:3,label:"Length (cm)",name:"length",value:u.length,onChange:v,onBlur:g}),r.a.createElement(I.D,{size:3,label:"Width",name:"breadth",value:u.breadth,onChange:v,onBlur:g}),r.a.createElement(I.D,{size:3,label:"Height",name:"height",value:u.height,onChange:v,onBlur:g}),r.a.createElement(I.D,{size:3,label:"Quantity",name:"quantity",value:u.quantity,onChange:v,onBlur:g}),r.a.createElement(I.D,{size:3,label:"Total Weight",name:"weight",value:u.weight,onChange:v}),r.a.createElement(I.D,{size:3,label:"Volume (m.cu.)",name:"volume",value:u.volume,onChange:v}),r.a.createElement(I.D,{size:12,label:"Remarks",name:"remarks",value:u.remarks,onChange:h})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:20,paddingBottom:20}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-end",alignItems:"flex-end",justify:"flex-end"},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(hr.a,null),onClick:function(){u.type?(f(!0),fc.create(a.cargoId,u).then((function(e){l("Created",{variant:"success"}),n(c+1),t(!1)})).catch((function(e){l("Could not Create",{variant:"error"})})).finally((function(e){return f(!1)}))):l("Please select Type",{variant:"warning"})}},"Add Package to HBL"))))))))},Ec=function(e){var t=e.overlayDetail,a=e.setOverlayDetail,n=e.packages,c=e.setChanged,l=e.changed,o=Object(b.useSnackbar)().enqueueSnackbar,i=r.a.useState(n.filter((function(e){return e.id===t.id}))[0]),u=Object(z.a)(i,2),s=u[0],d=u[1],m=r.a.useState(!1),p=Object(z.a)(m,2),f=p[0],g=p[1],h=function(e){"quantity"!==e.target.name&&"length"!==e.target.name&&"height"!==e.target.name&&"breadth"!==e.target.name||d(Object(k.a)(Object(k.a)({},s),{},{volume:Object(un.f)(s)}))},v=function(e){d(Object(k.a)(Object(k.a)({},s),{},Object(N.a)({},e.target.name,e.target.value)))},E=function(e){var t=(e.target.value+"").replace(/[^0-9.]/gi,"");d(Object(k.a)(Object(k.a)({},s),{},Object(N.a)({},e.target.name,t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.m,{title:"EDIT PACKAGE FROM HBL",onClose:function(){return a(!1)}}),r.a.createElement(I.s,{loading:f}),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:0}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"PACKAGE DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.w,{size:4,label:"Type",name:"type",values:Object(Je.d)().packageType,value:s.type,onChange:v}),r.a.createElement(I.D,{size:6,label:"Type",name:"type",value:s.type,onChange:v}),r.a.createElement(V.a,{item:!0,md:2}),r.a.createElement(I.D,{size:3,label:"Length (cm)",name:"length",value:s.length,onChange:E,onBlur:h}),r.a.createElement(I.D,{size:3,label:"Width",name:"breadth",value:s.breadth,onChange:E,onBlur:h}),r.a.createElement(I.D,{size:3,label:"Height",name:"height",value:s.height,onChange:E,onBlur:h}),r.a.createElement(I.D,{size:3,label:"Quantity",name:"quantity",value:s.quantity,onChange:E,onBlur:h}),r.a.createElement(I.D,{size:3,label:"Total Weight",name:"weight",value:s.weight,onChange:E}),r.a.createElement(I.D,{size:3,label:"Volume",name:"volume",value:s.volume,onChange:E}),r.a.createElement(I.D,{size:12,label:"Remarks",name:"remarks",value:s.remarks,onChange:v})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:20,paddingBottom:20}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-end",alignItems:"flex-end",justify:"flex-end"},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(hr.a,null),onClick:function(){s.type?(g(!0),fc.update(t.id,s).then((function(e){o("Created",{variant:"success"}),c(l+1),a(!1)})).catch((function(e){o("Could not Create",{variant:"error"})})).finally((function(e){return g(!1)}))):o("Please select Type",{variant:"warning"})}},"Save Package Changes"))))))))},yc=function(e){var t=r.a.useState(!1),a=Object(z.a)(t,2),n=a[0],c=a[1],l=r.a.useState(!1),o=Object(z.a)(l,2),i=o[0],u=o[1],s=r.a.useState([]),d=Object(z.a)(s,2),m=d[0],p=d[1],b=r.a.useState(0),f=Object(z.a)(b,2),g=f[0],h=f[1],v=e.match.params.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.n,{size:4,childTitle:"Edit HBL",subtitle:"MoveWorlde",parentTitle:"< Search HBL",onClick:function(){return e.history.push("/search-hbl")}}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}}))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,{style:{paddingTop:0}},r.a.createElement(hc,{id:v,changed:g,setChanged:h,setOverlayDetail:u,packages:m,setPackages:p,loading:n,setLoading:c}),r.a.createElement("div",{style:{padding:20}})))),r.a.createElement(I.g,{open:i,width:"sm",content:i.id?r.a.createElement(Ec,{changed:g,setChanged:h,setPackages:p,packages:m,overlayDetail:i,setOverlayDetail:u}):r.a.createElement(vc,{setPackages:p,packages:m,setOverlayDetail:u,overlayDetail:i,changed:g,setChanged:h})}))},Oc=a(682),jc=[{name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"driverId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"loadingId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"dispatchedId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"hbl",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"Cargo Mode",name:"cargoMode",options:{viewColumns:!1,filter:!0,sort:!1,display:!1}},{label:"Delivery Type",name:"deliveryType",options:{viewColumns:!1,filter:!0,sort:!1,display:!1}},{name:"now",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"deleted",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"ID",name:"_id",options:{viewColumns:!1,filter:!1,sort:!0,customBodyRender:function(e,t){return t.rowData[7]?r.a.createElement(Oc.a,{color:"secondary",variant:"dot"},r.a.createElement("b",null,e)):r.a.createElement("b",null,e)}}},{label:"Name",name:"nameWithInitials",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e})}}},{label:"Batch",name:"batch",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){if(e)return r.a.createElement(ue.a,{label:e})}}},{name:"gender",label:"Gender",options:{viewColumns:!0,filter:!1,sort:!1}},{name:"dateOfBirth",label:"Date of Birth",options:{viewColumns:!0,filter:!1,sort:!1}},{name:"contact",label:"Contact",options:{viewColumns:!0,display:!1,filter:!1,sort:!1}},{name:"fullName",label:"Full Name",options:{viewColumns:!0,display:!1,filter:!1,sort:!1}},{name:"createdDate",label:"Created Date",options:{viewColumns:!0,display:!1,filter:!1,sort:!0}}],Dc=function(e,t){return(e+"").length>t?e.substring(0,t)+"...":e},wc=function(e){var t=e.changed,a=e.searchFields,n=e.setOverlayDetail,c=e.setChanged,l=e.history,o=Object(b.useSnackbar)().enqueueSnackbar,i=Object(f.useDialog)(),u=r.a.useState(!1),s=Object(z.a)(u,2),d=s[0],m=s[1],p=r.a.useState([]),g=Object(z.a)(p,2),h=g[0],v=g[1];r.a.useEffect((function(){0!==t&&((a.nameWithInitials||"").length<2&&!a.batch?o("Please add search criteria",{variant:"warning"}):(m(!0),gr.get(a).then((function(e){var t=fa()().format("YYYY-MM-DD"),a=fa()().format("HH"),n=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{_id:e.id,date:e.pickupDate+" "+e.pickupTime,name:Dc(e.name,15),address:Dc(e.address,30),now:e.createdDate===t&&e.createdTime.startsWith(a)})}));v(n)})).catch((function(e){o("Could not fetch",{variant:"error"})})).finally((function(e){return m(!1)}))))}),[o,t]);var E=[].concat(Object(Ke.a)(jc),[{label:"Merchant",name:"merchant",options:{viewColumns:!1,filter:Object(Je.d)().type===Ne.a.domestic,sort:!0,display:Object(Je.d)().type===Ne.a.domestic}},{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.B,{title:"View",icon:r.a.createElement(Kr.a,null),onClick:function(){n({id:a.rowData[0]})}}),!a.rowData[8]&&r.a.createElement(r.a.Fragment,null,Object(Je.d)().type!==Ne.a.delivery&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I.B,{title:"Edit",icon:r.a.createElement(yr.a,null),onClick:function(){l.push("/edit-hbl/"+a.rowData[0])}}),r.a.createElement(I.B,{title:"Delete",icon:r.a.createElement(Er.a,null),onClick:function(){!function(e){var a=e.id;i.confirm(Object(I.d)("Delete 1 item(s)","DELETE")).then((function(){m(!0),gr.deleteCargo([a]).then((function(e){o("Deleted",{variant:"success"}),c(t+1)})).catch((function(e){o("Could not Delete",{variant:"error"})})).finally((function(e){return m(!1)}))}))}({id:a.rowData[0]})}}))))}}},{name:"branch",label:"From",options:{viewColumns:!0,filter:!1,sort:!1,display:Object(Je.d)().type===Ne.a.delivery}}]);return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:d}),r.a.createElement(fn,{data:h,columns:E,filter:!0,viewColumns:!0,sort:!0,customToolbar:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{paddingRight:30,marginLeft:-10,color:w.a.shades.main}},"Filters"))}}))))},Cc=a(291),xc=a.n(Cc),kc=function(e){var t=r.a.useState(0),a=Object(z.a)(t,2),n=a[0],c=a[1],l=r.a.useState({hbl:"",startDate:fa()().subtract(6,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")}),o=Object(z.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(z.a)(s,2),m=d[0],p=d[1],b=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(N.a)({},e.target.name,e.target.value)))},f=function(e){13===e.keyCode&&c(n+1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:De.a,size:2,title:"Search Members",subtitle:"Zahira OBA"}),r.a.createElement(V.a,{container:!0,spacing:2,xs:10,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(V.a,{container:!0,md:7,alignItems:"center",justify:"flex-end",spacing:1},r.a.createElement(I.D,{size:4,label:"Name",name:"nameWithInitials",onKeyDown:f,value:i.nameWithInitials,onChange:b}),r.a.createElement(I.D,{size:2,label:"Batch",name:"batch",onKeyDown:f,value:i.batch,onChange:b}),r.a.createElement(te.a,{endIcon:r.a.createElement(xc.a,null),color:"primary",variant:"outlined",size:"medium",onClick:function(){return c(n+1)},style:{marginTop:3,marginLeft:5,marginRight:10}},"Search")),!1))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,null,r.a.createElement(wc,{changed:n,setChanged:c,history:e.history,searchFields:i,setOverlayDetail:p})))),r.a.createElement(I.g,{open:m,width:"lg",content:m.id?r.a.createElement(sc,{overlayDetail:m,setOverlayDetail:p}):r.a.createElement(r.a.Fragment,null)}))},Sc=w.a.shades.greenRgb.replace(")",""),Tc=[{name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"driverId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1,download:!1}},{name:"loadingId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1,download:!1}},{name:"dispatchedId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1,download:!1}},{name:"hbl",options:{viewColumns:!1,filter:!1,sort:!1,display:!1,download:!1}},{label:"Cargo Mode",name:"cargoMode",options:{viewColumns:!1,filter:!0,sort:!1,display:!1,download:!1}},{label:"Delivery Type",name:"deliveryType",options:{viewColumns:!1,filter:!0,sort:!1,display:!1,download:!1}},{name:"now",options:{viewColumns:!1,filter:!1,sort:!1,display:!1,download:!1}},{name:"deleted",options:{viewColumns:!1,filter:!1,sort:!1,display:!1,download:!1}},{label:"HBL",name:"_id",options:{viewColumns:!1,filter:!1,sort:!0,customBodyRender:function(e,t){return t.rowData[7]?r.a.createElement(Oc.a,{color:"secondary",variant:"dot"},r.a.createElement("b",null,e)):r.a.createElement("b",null,e)}}},{label:"Packages",name:"packages",options:{viewColumns:!1,filter:!1,sort:!0}},{label:"Name",name:"name",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e})}}},{label:"Name Consignee",name:"slName",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){if(e)return r.a.createElement(ue.a,{label:e})}}},{label:"Status",name:"fetched",options:{viewColumns:!1,filter:!1,sort:!0,customBodyRender:function(e,t){var a,n,c,l,o=(a=e,n=t.rowData[1],c=t.rowData[2],l=t.rowData[3],t.rowData[8]?{txt:"DELETED",i:0,all:10}:-12!==a||n?-12===a&&n?{txt:"DRIVER ASSIGNED",i:1,all:10}:12===a&&n?{txt:"DRIVER PICKED UP",i:4,all:10}:42===a&&n?{txt:"DRIVER DELIVERED",i:8,all:10}:-1!==a||n?-1===a&&n?{txt:"DRIVER ASSIGNED",i:1,all:10}:-11===a?{txt:"JOB SUSPENDED",i:1,all:10}:0===a?{txt:n?"DRIVER PICKED":"OFFICER PICKED",i:2,all:10}:1!==a||c?1===a&&c?{txt:"ADDED TO SHIPMENT",i:4,all:10}:2===a&&c?{txt:"IN CUSTOMS",i:5,all:10}:3!==a||l?3===a&&l?{txt:"DELIVERY ASSIGNED",i:7,all:10}:4===a?{txt:l?"PACKAGE DELVIERED":"PACKAGE CLEARED",i:8,all:10}:{txt:"N/A",i:9,all:10}:{txt:"SHIPMENT REACHED",i:6,all:10}:{txt:"BRANCH WAREHOUSE",i:3,all:10}:{txt:"CARGO INFO RECIEVED",i:0,all:10}:{txt:"DOMESTIC JOB RECIEVED",i:0,all:10});return r.a.createElement(ue.a,{label:o.txt,style:{textShadow:"rgb(0 0 0) 1px 1px 2px",color:"#eeeeee",backgroundColor:"".concat(Sc,", ").concat(1.6-(o.all-o.i)/o.all,")")}})}}},{name:"address",label:"Address",options:{viewColumns:!0,filter:!1,sort:!1}},{name:"slAddress",label:"Address Consignee",options:{viewColumns:!0,filter:!1,sort:!1}},{name:"contact",label:"Contact",options:{viewColumns:!0,display:!1,filter:!1,sort:!1}},{name:"slContact",label:"Contact Consignee",options:{viewColumns:!0,display:!1,filter:!1,sort:!1}},{name:"createdDate",label:"Created Date",options:{viewColumns:!0,display:!1,filter:!1,sort:!0}},{name:"cargoMode",label:"Cargo Mode",options:{viewColumns:!0,display:!1,filter:!1,sort:!1,download:!1}},{name:"deliveryType",label:"Delivery Type",options:{viewColumns:!0,display:!1,filter:!1,sort:!1,download:!1}}],Yc=function(e,t){return la()(e,(function(e,a){return e+(+a[t]||0)}),0)},Mc=function(e,t,a){return t[a]?e.filter((function(e){return e[a]===t[a]})):e},Ic=function(e){return Ma()(e,(function(e,t,a){return a.indexOf(e)===t}))},Ac=function(e){var t=e.changed,a=e.searchFields,n=e.setOverlayDetail,c=Object(b.useSnackbar)().enqueueSnackbar,l=r.a.useState(!1),o=Object(z.a)(l,2),i=o[0],u=o[1],s=r.a.useState([]),d=Object(z.a)(s,2),m=d[0],p=d[1],f=r.a.useState([]),g=Object(z.a)(f,2),h=g[0],v=g[1];r.a.useEffect((function(){0!==t&&(a.startDate>a.endDate?c("Start-Date should not be after From-Date",{variant:"warning"}):(u(!0),Kn.a.getForReports({startDate:a.startDate,endDate:a.endDate}).then((function(e){var t=fa()().format("YYYY-MM-DD"),n=fa()().format("HH"),r=e.map((function(e){var a=e.cargo,r=e.packages;return Object(k.a)(Object(k.a)({},a),{},{packages:r.map((function(e){return e.type})).join(", "),_id:Object(Je.d)().type===Ne.a.domestic?"REF"+a.id:a.hbl?a.hbl:"REF"+a.id,date:a.pickupDate+" "+a.pickupTime,name:Dc(a.name,15),slName:Dc(a.slName,20),address:Dc(a.address,30),slAddress:Dc(a.slAddress,30),now:a.createdDate===t&&a.createdTime.startsWith(n)})}));p(r),E(a.merchant,r)})).catch((function(e){c("Could not fetch",{variant:"error"})})).finally((function(e){return u(!1)}))))}),[c,t,a.startDate,a.endDate]),r.a.useEffect((function(){E(a.merchant,m)}),[c,t,a.merchant]);var E=function(e,t){var a=Mc(t,{merchant:e},"merchant");v(a)},y=[].concat(Object(Ke.a)(Tc),[{label:"Merchant",name:"merchant",options:{viewColumns:!1,filter:Object(Je.d)().type===Ne.a.domestic,sort:!0,display:Object(Je.d)().type===Ne.a.domestic}},{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.B,{title:"View",icon:r.a.createElement(Kr.a,null),onClick:function(){n({id:t.rowData[0]})}}))}}}]);return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:i}),r.a.createElement(fn,{data:h,columns:y,filter:!0,viewColumns:!0,sort:!0,customToolbar:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{paddingRight:30,marginLeft:-10,color:w.a.shades.main}},"Filters"))}}))))},Lc=a(208),Rc=a.n(Lc),Bc=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/merchant/get-by-id/".concat(t,"?branch=").concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zc=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/merchant/get-all?branch=".concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nc=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.e)("/v1/merchant/create?branch=".concat(Object(Je.d)().branch),Object(k.a)(Object(k.a)({},t),{},{branch:Object(Je.d)().branch,auth:Object(Je.d)().username,createdDate:new Date})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pc=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/merchant/update/".concat(t,"?branch=").concat(Object(Je.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Fc={get:zc,getById:Bc,updatePassword:function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/merchant/update-password?branch=".concat(Object(Je.d)().branch),Object(k.a)({username:t},a)));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),create:Nc,remove:function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.a)("/v1/merchant/delete/".concat(t,"?branch=").concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:Pc},Hc=function(e){var t=r.a.useState(0),a=Object(z.a)(t,2),n=a[0],c=a[1],l=r.a.useState({hbl:"",startDate:fa()().subtract(6,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")}),o=Object(z.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(z.a)(s,2),m=d[0],p=d[1],f=r.a.useState([]),g=Object(z.a)(f,2),h=g[0],v=g[1],E=Object(b.useSnackbar)().enqueueSnackbar,y=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(N.a)({},e.target.name,e.target.value)))};r.a.useEffect((function(){Fc.get().then((function(e){v(Object(ga.map)(Object(ga.filter)(e,(function(e){return!e.deleted})),(function(e){return e.username})))})).catch((function(e){E("Could not fetch Merchants",{variant:"error"})}))}),[E]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:en.a,size:2,title:"Reports",subtitle:"Merchant Delivery"}),r.a.createElement(V.a,{container:!0,spacing:2,xs:10,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(I.w,{size:2,label:"Merchant/Referrer",name:"merchant",values:h,valueObjects:[{value:"",label:"All"}],value:i.merchant,onChange:y}),r.a.createElement(I.e,{size:2,label:"From Date",name:"startDate",value:i.startDate,onChange:y}),r.a.createElement(I.e,{size:2,label:"To Date",name:"endDate",value:i.endDate,onChange:y}),r.a.createElement(te.a,{startIcon:r.a.createElement(Rc.a,null),color:"primary",variant:"outlined",size:"medium",onClick:function(){return c(n+1)},style:{marginTop:2}},"Search"),r.a.createElement(I.a,{size:2,onClicks:[function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().subtract(61,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")})),c(n+1)},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().subtract(30,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")})),c(n+1)},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().subtract(7,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")})),c(n+1)},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")})),c(n+1)},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().add(-1,"d").format("YYYY-MM-DD"),endDate:fa()().add(-1,"d").format("YYYY-MM-DD")})),c(n+1)}],options:["Two Month","One Month","One Week","Today","Yesterday"]})))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,null,r.a.createElement(Ac,{changed:n,setChanged:c,history:e.history,searchFields:i,setOverlayDetail:p})))),r.a.createElement(I.g,{open:m,width:"lg",content:m.id?r.a.createElement(sc,{overlayDetail:m,setOverlayDetail:p}):r.a.createElement(r.a.Fragment,null)}))},Wc=a(56),Uc=function(){return(Object(Je.a)().contact||"").replace("+","")},qc=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,r=t.fetched,e.abrupt("return",Object(Ht.e)("/v1/customer-api/cargo/get-pending-pickup?contact=".concat(Uc()),{branch:Object(Je.d)().branch,fetched:void 0===r?-1:r,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gc=function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.startDate,n=t.endDate,r=t.branch,e.abrupt("return",Object(Ht.e)("/v1/customer-api/cargo/get-all-extended?contact=".concat(Uc()),{branch:r||Object(Je.d)().branch,start:a,end:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vc=function(e,t){return e?"string"===typeof e?e:e.format(t):fa()().format(t)},Jc={addDomesticJob:function(){var e=Object(B.a)(R.a.mark((function e(t,a,n,r,c){var l,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(l=Object(k.a)(Object(k.a)({},t),{},{amount:0,paid:0,amountSpec:"{}",amountSystem:"{}",pickupDate:Vc(t.pickupDateTime,"YYYY-MM-DD"),pickupTime:Vc(t.pickupDateTime,"HH:mm"),createdDate:fa()().format("YYYY-MM-DD"),createdTime:fa()().format("HH:mm"),auth:Object(Je.d)().username,branch:Object(Je.d)().branch})).pickupDateTime,o=a.map((function(e){var t=Object(k.a)({},e);return delete t.id,t})),e.abrupt("return",Object(Ht.e)("/v1/customer-api/cargo/create-with-package".concat(Object(Wc.a)("DOMESTIC-JOB-CREATED")),{cargo:l,packages:o}));case 4:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),getPendingPickups:qc,getAllHbl:Gc,getCargo:function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/customer-api/cargo/get-by-id/".concat(t,"?branch=").concat(Object(Je.d)().branch,"&contact=").concat(Uc())));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCargoByHbl:function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/customer-api/cargo/get-by-hbl?hbl=".concat(t,"&branch=").concat(a||Object(Je.d)().branch,"&contact=").concat(Uc())));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleteCargo:function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.a)("/v1/customer-api/cargo/delete-many".concat(Object(Wc.a)("DELETE-CARGO"),"&branch=").concat(Object(Je.d)().branch,"&contact=").concat(Uc()),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Kc=[{name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"driverId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"loadingId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"dispatchedId",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"hbl",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"Cargo Mode",name:"cargoMode",options:{viewColumns:!1,filter:!0,sort:!1,display:!1}},{label:"Delivery Type",name:"deliveryType",options:{viewColumns:!1,filter:!0,sort:!1,display:!1}},{name:"now",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"deleted",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"HBL",name:"hbl",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return t.rowData[7]?r.a.createElement(Oc.a,{color:"secondary",variant:"dot"},r.a.createElement("b",null,e||"REF"+t.rowData[0])):r.a.createElement("b",null,e||"REF"+t.rowData[0])}}},{label:"Name",name:"name",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e})}}},{label:"Status",name:"fetched",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){var a=Hr(e,t.rowData[1],t.rowData[2],t.rowData[3],t.rowData[8]);return r.a.createElement(ue.a,{label:a,style:{color:"white",backgroundColor:w.a.shades.green}})}}},{name:"address",label:"Address",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"contact",label:"Contact",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"slAddress",label:"Address Consignee",options:{viewColumns:!0,filter:!1,sort:!1}}],_c=function(e){var t=e.searchFields,a=e.setOverlayDetail,n=e.changedHbl,c=Object(b.useSnackbar)().enqueueSnackbar,l=r.a.useState(!1),o=Object(z.a)(l,2),i=o[0],u=o[1],s=r.a.useState([]),d=Object(z.a)(s,2),m=d[0],p=d[1];r.a.useEffect((function(){(p([]),t.hbl)?(u(!0),(Ne.a.pickup_customer===Object(Je.d)().type?t.hbl.toLowerCase().startsWith("ref")?Jc.getCargo:Jc.getCargoByHbl:t.hbl.toLowerCase().startsWith("ref")?Kn.a.getCargo:Kn.a.getCargoByHbl)(t.hbl.toLowerCase().replace("ref",""),t.branch).then((function(e){if(e.cargo.branch===Object(Je.d)().branch||e.cargo.destination===Object(Je.d)().branch){var t=fa()().format("YYYY-MM-DD"),a=fa()().format("HH"),n=Object(k.a)(Object(k.a)({},e.cargo),{},{date:e.cargo.pickupDate+" "+e.cargo.pickupTime,name:Dc(e.cargo.name,15),address:Dc(e.cargo.address,20),slName:Dc(e.cargo.slName,15),slAddress:Dc(e.cargo.slAddress,20),now:e.cargo.createdDate===t&&e.cargo.createdTime.startsWith(a)});p([n])}})).catch((function(e){c("Could not fetch",{variant:"error"})})).finally((function(e){return u(!1)}))):t.like&&(u(!0),Kn.a.getAllHblLike(t.like,t.branch).then((function(e){var t=fa()().format("YYYY-MM-DD"),a=fa()().format("HH"),n=Object(ga.map)(e,(function(e){return Object(k.a)(Object(k.a)({},e),{},{date:e.pickupDate+" "+e.pickupTime,name:Dc(e.name,15),address:Dc(e.address,20),slName:Dc(e.slName,15),slAddress:Dc(e.slAddress,20),now:e.createdDate===t&&e.createdTime.startsWith(a)})}));p(n)})).catch((function(e){console.log(e),c("Could not fetch",{variant:"error"})})).finally((function(e){return u(!1)})))}),[c,n]);var f=[].concat(Object(Ke.a)(Kc),[{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.B,{title:"View",icon:r.a.createElement(Kr.a,null),onClick:function(){a({id:t.rowData[0]})}}))}}},{name:"branch",label:"From",options:{viewColumns:!0,filter:!1,sort:!1,display:Ne.a.delivery}}]);return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:i}),r.a.createElement(fn,{data:m,columns:f,filter:!1,noDownload:!0,noSearch:!0}))))},Zc=function(e){var t=r.a.useState(0),a=Object(z.a)(t,2),n=a[0],c=a[1],l=r.a.useState(0),o=Object(z.a)(l,2),i=o[0],u=o[1],s=r.a.useState({hbl:"",like:"",branch:Object(Je.d)().branch||""}),d=Object(z.a)(s,2),m=d[0],p=d[1],b=r.a.useState(!1),f=Object(z.a)(b,2),g=f[0],h=f[1],v=function(e){p(Object(k.a)(Object(k.a)({},m),{},Object(N.a)({},e.target.name,e.target.value)))},E=function(e){13===e.keyCode&&u(i+1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:sr.a,size:4,title:"HBL Status",subtitle:"Cargo/Job"}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:15,paddingTop:10}},"delivery"===Object(Je.d)().type&&r.a.createElement(I.w,{size:2,label:"Branch",name:"branch",values:$e(),style:{alignSelf:"flex-start"},value:m.branch,onChange:v}),r.a.createElement(I.D,{size:3,label:"Partial search",name:"like",onKeyDown:E,helperText:"Shipper or consignee name | Last 3 months",value:m.like,onChange:v,autoFocus:!0}),r.a.createElement(I.D,{size:3,label:"HBL/JOB",name:"hbl",onKeyDown:E,helperText:"For HBL: 12345 | |  For JOB: REF12345",value:m.hbl,onChange:v,autoFocus:!0}),r.a.createElement(te.a,{endIcon:r.a.createElement(xc.a,null),color:"primary",variant:"outlined",size:"medium",onClick:function(){return u(i+1)},style:{marginTop:16,alignSelf:"baseline"}},m.hbl.toLowerCase().startsWith("ref")?"JOB":"HBL")))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,null,r.a.createElement(_c,{changed:n,setChanged:c,changedHbl:i,searchFields:m,setOverlayDetail:h})))),r.a.createElement(I.g,{open:g,width:"lg",content:g.id?r.a.createElement(sc,{overlayDetail:g,setOverlayDetail:h}):r.a.createElement(r.a.Fragment,null)}))},Xc=a(439),Qc=[{name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{name:"now",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"Reference",name:"_id",options:{viewColumns:!1,filter:!1,sort:!0,customBodyRender:function(e,t){return t.rowData[2]?r.a.createElement(Oc.a,{color:"secondary",variant:"dot"},r.a.createElement("b",null,e)):r.a.createElement("b",null,e)}}},{label:"Name",name:"name",options:{viewColumns:!1,filter:!1,sort:!0,customBodyRender:function(e,t){return t.rowData[12]?r.a.createElement(ue.a,{label:e,style:{color:"white",backgroundColor:w.a.shades.green}}):r.a.createElement(ue.a,{label:e})}}},{label:"Zone",name:"pickupArea",options:{viewColumns:!0,display:!1,filter:!0,sort:!0,customBodyRender:function(e,t){if(e)return r.a.createElement(ue.a,{label:e})}}},{name:"address",label:"Address",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"contact",label:"Contact",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"createdDate",label:"Created Date",options:{viewColumns:!0,display:!1,filter:!1,sort:!0}},{name:"date",label:"Pickup Date",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"note",label:"Note",options:{viewColumns:!0,display:!0,filter:!1,sort:!1}},{name:"cargoMode",label:"Cargo Mode",options:{viewColumns:!0,filter:!0,sort:!1,display:!0}},{name:"driverName",label:"Driver",options:{viewColumns:!0,filter:!1,sort:!0,customBodyRender:function(e,t){return e?r.a.createElement(ue.a,{label:e,style:{color:"white",backgroundColor:w.a.shades.green}}):""}}},{name:"auth",label:"Auth",options:{viewColumns:!0,display:!1,filter:!0,sort:!0}}],$c=a(745),el=a(470),tl=a.n(el),al=r.a.memo((function(e){var t=e.changed,a=e.searchFields,n=e.setOverlayDetail,c=e.setChanged,l=e.setOverlayType,o=Object(b.useSnackbar)().enqueueSnackbar,i=Object(f.useDialog)(),u=Object(I.G)(),s=Object(I.F)(),d=r.a.useState(!1),m=Object(z.a)(d,2),p=m[0],g=m[1],h=r.a.useState([]),v=Object(z.a)(h,2),E=v[0],y=v[1],O=r.a.useState([]),j=Object(z.a)(O,2),D=j[0],C=j[1],x=r.a.useState([]),S=Object(z.a)(x,2),T=S[0],Y=S[1],M=r.a.useState({}),A=Object(z.a)(M,2),L=A[0],R=A[1],B=r.a.useState([]),P=Object(z.a)(B,2),F=P[0],H=P[1];r.a.useEffect((function(){a.startDate>a.endDate?o("Start-Date should not be after From-Date",{variant:"warning"}):(C([]),g(!0),(Object(Je.d)().type===Ne.a.domestic?Kn.a.getPendingDomestic:Object(Je.d)().type===Ne.a.pickup_customer?Jc.getPendingPickups:Kn.a.getPendingPickups)(a).then((function(e){var t=fa()().format("YYYY-MM-DD"),a=fa()().format("HH"),n=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{_id:"REF"+e.id,date:Ar()(e,"pickupDate")+" "+Ar()(e,"pickupTime"),createdDate:Ar()(e,"createdDate")+" "+Ar()(e,"createdTime"),note:Dc(e.note,25),now:e.createdDate===t&&e.createdTime.startsWith(a)})}));y(n),U(null,n)})).catch((function(e){o("Could not fetch",{variant:"error"})})).finally((function(e){return g(!1)})))}),[o,t,a]),r.a.useEffect((function(){Object(Je.d)().type!==Ne.a.pickup_customer&&Xa.getByBranch().then((function(e){Y(ka()(Object(ga.filter)(e,(function(e){return!e.deleted})),(function(e){return{value:e.id,label:e.username}})))})).catch((function(e){o("Could not fetch",{variant:"error"})}))}),[o]);var W=r.a.createElement(r.a.Fragment,null,Object(Je.d)().type===Ne.a.pickup&&r.a.createElement(te.a,{variant:"contained",color:"primary",size:"small",endIcon:r.a.createElement(Rt.a,null),style:{marginLeft:5},disabled:0===D.length,onClick:function(){u.confirm({title:"Select driver to assign",assigneeList:T,callback:function(e){g(!0);var a=Object(Ke.a)(D);C([]),y([]),Kn.a.assignCargo(a,e).then((function(e){o("Assigned",{variant:"success"})})).catch((function(e){o("Could not Assign",{variant:"error"})})).finally((function(e){g(!1),c(t+1)}))}})}},"Assign Driver [ ",D.length," ]"),r.a.createElement(te.a,{variant:"contained",color:"primary",size:"small",style:{marginLeft:5},disabled:0===D.length,onClick:function(){i.confirm(Object(I.d)("Delete "+D.length+" items","DELETE")).then((function(){g(!0);var e=Object(Ke.a)(D);y([]),C([]),(Object(Je.d)().type===Ne.a.pickup_customer?Jc.deleteCargo:Kn.a.deleteCargo)(e).then((function(e){o("Deleted",{variant:"success"}),c(t+1)})).catch((function(e){o("Could not Delete",{variant:"error"})})).finally((function(e){return g(!1)}))}))},startIcon:r.a.createElement(Er.a,null)},"[ ",D.length," ]"),r.a.createElement(te.a,{variant:"contained",color:"primary",size:"small",style:{marginLeft:5},disabled:1!==D.length,onClick:function(){s.confirm({title:"Copy JOB - How many duplicates?",assigneeList:T,callback:function(e){g(!0),Kn.a.getCargo(D[0]).then((function(a){var n=Object(k.a)({},a.cargo),r=Object(Ke.a)(a.packages);C([]),y([]),o("Copying in Progress! Thank you for waiting. This will take around 20 seconds",{variant:"warning"});var l=0,i=setInterval((function(){var a=l+1;l===+e?(g(!1),clearInterval(i)):(Kn.a.addDomesticJob({fetched:-1,isDomestic:!0,cargoMode:"B2B",warehouseLocation:"B2B",deliveryType:"B2B",currency:"CAD",uuid:Math.random().toString(16).slice(2,10)+"-"+Math.random().toString(16).slice(2,10),slLocation:!1,name:n.name,address:n.address,contact:n.contact,slContact:n.slContact,slAddress:n.slAddress,slName:n.slName,slPpNo:n.slPpNo,ppNo:n.ppNo,note:n.note,amount:0,paid:0,amountSpec:"{}",amountSystem:"{}",pickupDate:n.pickupDate,pickupTime:n.pickupTime,createdDate:n.createdDate,createdTime:n.createdTime,auth:"Base_user",branch:n.branch},r).then((function(n){o("Cloned "+a+" of "+e+". Please refresh in 10 seconds.",{variant:"success"}),a===+e&&(g(!1),c(t+1),clearInterval(i))})).catch((function(e){o("Could not Clone",{variant:"error"})})),l++),console.log(l)}),600)})).catch((function(e){o("Could not fetch JOB",{variant:"error"}),g(!1)}))}})},startIcon:r.a.createElement($c.a,null)},"[ ",D.length," ]")),U=function(e,t){C([]);var a=e?Object(k.a)(Object(k.a)({},L),{},Object(N.a)({},e.target.name,e.target.value)):L,n=Mc(e?E:t,a,"driverName");R(a),H(n)},q=[{name:"check",label:"  ",options:{viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{style:{width:10}}},customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,!p&&r.a.createElement(Xc.a,{style:{padding:0,margin:0},onClick:function(e){e.target.checked?C([].concat(Object(Ke.a)(D),[t.rowData[1]])):C(Object(Ke.a)(D.filter((function(e){return e!==t.rowData[1]}))))}}))}}}].concat(Object(Ke.a)(Qc),[{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.B,{style:{paddingRight:0,marginRight:0},title:"View",icon:r.a.createElement(Kr.a,null),onClick:function(){n({id:t.rowData[1]}),l("VIEW")}}),r.a.createElement(I.B,{style:{paddingRight:0,marginRight:0},title:"Edit",icon:r.a.createElement(yr.a,null),onClick:function(){n({id:t.rowData[1]}),l("EDIT")}}))}}}]);return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:p}),r.a.createElement(fn,{data:F,columns:q,viewColumns:!0,title:W,sort:!0,customToolbar:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{paddingRight:30,marginLeft:-10,color:w.a.shades.main}},"Filters"),r.a.createElement(I.q,{label:"Total",value:tl()(E)}),r.a.createElement(I.x,{name:"driverName",label:"Driver",valueObjects:[{value:"",label:"All"}],values:Ic(E.map((function(e){return e.driverName}))),value:L.driverName,onChange:U,style:{marginLeft:5,width:120,minWidth:"120px !important"}}))},filter:!0}))))})),nl=a(471),rl=a.n(nl),cl=function(e){var t=e.setOverlayDetail,a=e.setChanged,n=e.changed,c=e.overlayDetail,l=Object(b.useSnackbar)().enqueueSnackbar,o=r.a.useState({}),i=Object(z.a)(o,2),u=i[0],s=i[1],d=r.a.useState(!1),m=Object(z.a)(d,2),p=m[0],f=m[1],g=r.a.useState([]),h=Object(z.a)(g,2),v=h[0],E=h[1];r.a.useEffect((function(){void 0!==c.id&&(f(!0),Kn.a.getCargo(c.id).then((function(e){var t=e.cargo||{};s(Object(k.a)(Object(k.a)({},t),{},{pickupDateTime:t.pickupDate&&fa()(t.pickupDate+" "+t.pickupTime)}))})).catch((function(e){l("Could not fetch",{variant:"error"})})).finally((function(e){return f(!1)})))}),[l,c.id]),r.a.useEffect((function(){$n.get().then((function(e){E(Object(ga.map)(Object(ga.filter)(e,(function(e){return!e.deleted})),(function(e){return e.name})))})).catch((function(e){l("Could not fetch",{variant:"error"})}))}),[l]);var y=function(e){s(Object(k.a)(Object(k.a)({},u),{},Object(N.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.m,{title:"EDIT JOB",onClose:function(){return t(!1)}}),r.a.createElement(I.s,{loading:p}),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:20}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"JOB BASIC DETAILS"}),r.a.createElement(Jn.a,null,r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(I.w,{size:6,label:"Zone",name:"pickupArea",values:v,value:u.pickupArea,onChange:y}),u.pickupDateTime&&r.a.createElement(I.f,{size:6,label:"Pickup Date Time",name:"pickupDateTime",value:u.pickupDateTime,onChange:y})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:20,paddingBottom:20}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-end",alignItems:"flex-end",justify:"flex-end"},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(tr.a,null),disabled:p,onClick:function(){return f(!0),void Kn.a.editJob(c.id,u).then((function(e){l("Updated",{variant:"success"}),a(n+1),t(!1)})).catch((function(e){l("Could not Update",{variant:"error"})})).finally((function(e){return f(!1)}))}},"Edit Job")))),r.a.createElement(I.s,{loading:p})))))},ll=function(e){var t=e.overlayDetail,a=e.setOverlayDetail,n=e.setChanged,c=e.changed;return r.a.createElement(r.a.Fragment,null,r.a.createElement(cl,{setChanged:n,changed:c,overlayDetail:t,setOverlayDetail:a}),r.a.createElement("div",{style:{padding:20}}))},ol=function(e){var t=r.a.useState(0),a=Object(z.a)(t,2),n=a[0],c=a[1],l=r.a.useState({startDate:fa()().subtract(5,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")}),o=Object(z.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(z.a)(s,2),m=d[0],p=d[1],b=r.a.useState(!1),f=Object(z.a)(b,2),g=f[0],h=f[1],v=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(N.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:rl.a,size:4,title:"Pending Pickups",subtitle:"Inquiry"}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(I.e,{label:"From Date",name:"startDate",value:i.startDate,onChange:v}),r.a.createElement(I.e,{label:"To Date",name:"endDate",value:i.endDate,onChange:v}),r.a.createElement(te.a,{color:"primary",variant:"outlined",size:"medium",onClick:function(){return c(n+1)},style:{marginTop:2}},"Search"),r.a.createElement(I.a,{size:3,onClicks:[function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().subtract(7,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")}))},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")}))},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().add(1,"d").format("YYYY-MM-DD"),endDate:fa()().add(1,"d").format("YYYY-MM-DD")}))}],options:["One Week","Today","Tommorow"]})))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,null,r.a.createElement(al,{changed:n,setChanged:c,searchFields:i,setOverlayDetail:p,setOverlayType:h})))),r.a.createElement(I.g,{open:m,width:"VIEW"===g?"lg":"sm",content:"VIEW"===g?r.a.createElement(sc,{overlayDetail:m,setOverlayDetail:p}):r.a.createElement(ll,{changed:n,setChanged:c,overlayDetail:m,setOverlayDetail:p})}))},il=[{label:"",name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"HBL",name:"hbl",options:{viewColumns:!1,filter:!1,sort:!0,customBodyRender:function(e,t){return r.a.createElement("b",null,e)}}},{label:"Name",name:"name",options:{viewColumns:!1,filter:!1,sort:!0,customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e})}}},{name:"address",label:"Address",options:{viewColumns:!0,display:!1,filter:!1,sort:!0}},{name:"date",label:"Picked Date",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"totalWeight",label:"Weight",options:{viewColumns:!1,filter:!1,sort:!0,setCellProps:function(){return{align:"right"}}}},{name:"totalVolume",label:"Volume",options:{viewColumns:!1,filter:!1,sort:!0,setCellProps:function(){return{align:"right"}}}},{name:"amount",label:"Amount",options:{viewColumns:!1,filter:!1,sort:!0,setCellProps:function(){return{align:"right"}},customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e,style:{color:"white",backgroundColor:w.a.shades.green}})}}},{name:"paid",label:"Paid",options:{viewColumns:!1,filter:!1,sort:!0,setCellProps:function(){return{align:"right"}},customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e,style:{color:"white",backgroundColor:w.a.shades.green}})}}},{name:"cargoMode",label:"Cargo Mode",options:{viewColumns:!0,filter:!0,sort:!0,setCellProps:function(){return{align:"center"}}}},{name:"driverName",label:"Driver",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"auth",label:"Source",options:{viewColumns:!0,filter:!1,sort:!1}}],ul=a(746),sl=function(e){var t=e.changed,a=e.searchFields,n=e.setOverlayDetail,c=e.setChanged,l=e.setOverlayType,o=Object(b.useSnackbar)().enqueueSnackbar,i=Object(f.useDialog)(),u=r.a.useState(!1),s=Object(z.a)(u,2),d=s[0],m=s[1],p=r.a.useState([]),g=Object(z.a)(p,2),h=g[0],v=g[1],E=r.a.useState([]),y=Object(z.a)(E,2),O=y[0],j=y[1],D=r.a.useState({}),w=Object(z.a)(D,2),C=w[0],x=w[1],S=r.a.useState({}),T=Object(z.a)(S,2),Y=T[0],M=T[1],A=r.a.useState([]),L=Object(z.a)(A,2),R=L[0],B=L[1];r.a.useEffect((function(){a.startDate>a.endDate?o("Start-Date should not be after From-Date",{variant:"warning"}):(j([]),m(!0),Kn.a.getCashSettlements(a).then((function(e){var t=Object(ga.orderBy)(e,"driverName").map((function(e){return Object(k.a)(Object(k.a)({},e),{},{totalVolume:Object(un.g)({volume:e.totalVolume}),totalWeight:Object(un.b)(e.totalWeight),name:Dc(e.name,15),address:Dc(e.address,30),date:Ar()(e,"pickedUpDate")+" "+Ar()(e,"pickedUpTime"),issue:Ar()(e,"amountSpec",0)===Ar()(e,"amountSpecDummy",1)?"":"Yes"})}));v(t),P(null,t)})).catch((function(e){o("Could not fetch",{variant:"error"})})).finally((function(e){return m(!1)})))}),[o,t,a]);var P=function(e,t){j([]);var a=e?Object(k.a)(Object(k.a)({},Y),{},Object(N.a)({},e.target.name,e.target.value)):Y,n=Mc(e?h:t,a,"driverName"),r=Mc(n,a,"cargoMode"),c=Mc(r,a,"deliveryType"),l=Mc(c,a,"auth");M(a),B(l),F(l)},F=function(e){var t=Math.round(10*Yc(e,"paid"))/10,a=Math.round(10*Yc(e,"cash"))/10;x({paid:t,cash:a})},H=r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{variant:"contained",color:"primary",size:"small",endIcon:r.a.createElement(Dr.a,null),style:{marginLeft:5},disabled:0===O.length,onClick:function(){var e=Object(ga.reduce)(O,(function(e,t){var a=R.find((function(e){return e.id===t}));return[].concat(Object(Ke.a)(e),[a.driverName])}),[]);1===new Set(e).size?i.confirm(Object(I.d)("Cash Receive "+O.length+" item(s)","RECEIVE")).then((function(){m(!0);var a=Object(Ke.a)(O);B([]),j([]),Kn.a.receiveCashCargo(a,e[0]).then((function(e){o("Cash Received",{variant:"success"}),j([]),c(t+1)})).catch((function(e){o("Could not Cash Receive",{variant:"error"})})).finally((function(e){return m(!1)}))})):o("All selected should be same driver",{variant:"warning"})}},"Cash Received [ ",O.length," ]"),r.a.createElement(I.q,{label:"Total Paid",value:Ar()(C,"paid")})),W=[{name:"check",label:"  ",empty:!0,options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{style:{width:10}}},customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,!d&&r.a.createElement(Xc.a,{style:{padding:0,margin:0},onClick:function(e){e.target.checked?j([].concat(Object(Ke.a)(O),[t.rowData[1]])):j(Object(Ke.a)(O.filter((function(e){return e!==t.rowData[1]}))))}}))}}}].concat(Object(Ke.a)(il),[{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.B,{style:{padding:0,margin:0},title:"View",icon:r.a.createElement(Kr.a,null),onClick:function(){n({id:t.rowData[1]}),l("VIEW")}}),r.a.createElement(I.B,{style:{padding:5,margin:0},title:"Edit Payment",icon:r.a.createElement(ul.a,null),onClick:function(){n({id:t.rowData[1]}),l("EDIT_PAYMENT")}}))}}}]);return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:d}),r.a.createElement(fn,{data:R,columns:W,filter:!1,sort:!0,customToolbar:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.x,{name:"driverName",label:"Driver",valueObjects:[{value:"",label:"All"}],values:Ic(h.map((function(e){return e.driverName}))),value:Y.driverName,onChange:P,style:{width:110,minWidth:"110px !important"}}),r.a.createElement(I.x,{name:"auth",label:"Officer",valueObjects:[{value:"",label:"All"}],values:Ic(h.map((function(e){return e.auth}))),value:Y.auth,onChange:P,style:{marginLeft:5,width:110,minWidth:"110px !important"}}),r.a.createElement(I.x,{name:"cargoMode",label:"Cargo Mode",valueObjects:[{value:"",label:"All"}],values:Ic(h.map((function(e){return e.cargoMode}))),value:Y.cargoMode,onChange:P,style:{marginLeft:5,width:120,minWidth:"120px !important"}}),r.a.createElement(I.x,{name:"deliveryType",label:"Delivery Type",valueObjects:[{value:"",label:"All"}],values:Ic(h.map((function(e){return e.deliveryType}))),value:Y.deliveryType,onChange:P,style:{marginLeft:5,width:120,minWidth:"120px !important"}}))},title:H,viewColumns:!0}))))},dl=[{label:"ID",name:"id",options:{display:!1}},{label:"quantity",name:"quantity",options:{display:!1}},{label:"Weight",name:"weight",options:{display:!1}},{label:"Height",name:"height",options:{display:!1}},{label:"Width",name:"breadth",options:{display:!1}},{label:"Length",name:"length",options:{display:!1}}],ml=function(e){var t=e.setOverlayDetail,a=e.packages,n=e.setChanged,c=e.changed,l=e.showActions,o=Object(f.useDialog)(),i=Object(b.useSnackbar)().enqueueSnackbar,u=r.a.useState(!1),s=Object(z.a)(u,2),d=s[0],m=s[1],p=[].concat(Object(Ke.a)(dl),[{name:"type",label:"",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{style:{width:10}}},customBodyRender:function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{label:e}),r.a.createElement("br",null),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{style:{padding:0,margin:0},onClick:function(){return e=a.rowData[0],t=a.rowData[1],void o.confirm(Object(I.d)("Delete "+t,"DELETE")).then((function(){m(!0),fc.remove(e).then((function(e){n(c+1)})).catch((function(e){i("Could not Delete",{variant:"error"})})).finally((function(e){return m(!1)}))}));var e,t}},r.a.createElement(Er.a,null)),r.a.createElement(y.a,{onClick:function(){return t({id:a.rowData[0]})}},r.a.createElement(yr.a,null))))}}},{label:"Details",name:"field",options:{setCellProps:function(){return{style:{width:10}}},customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,"Q:"+t.rowData[1]+" W:"+t.rowData[2],r.a.createElement("br",null),"H"+t.rowData[3]+" B"+t.rowData[4]+" L"+t.rowData[5],r.a.createElement("br",null))}}}]);return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:d}),a.length>0&&r.a.createElement(fn,{data:a,columns:p,minified:!0}))))},pl=function(e){var t=e.packages,a=e.cargo,n=e.weight,c=e.volume,l=e.paid,o=e.setPaid,i=e.amount,u=e.setAmount,s=e.setAmountSystem,d=function(e){var t=(e.target.value+"").replace(/[^0-9.]/gi,""),a=100*Object(Je.b)(Object(Je.d)().branch).vat;if("BOX CHARGES"===e.target.name){var n=i.map((function(a){return"BOX CHARGES"===a.costType?Object(k.a)(Object(k.a)({},a),{},{costType:e.target.name,amount:t}):a})).map((function(e){return e.costType==="BOX VAT "+a+"%"?Object(k.a)(Object(k.a)({},e),{},{costType:"BOX VAT "+a+"%",amount:Object(un.b)(+(t||0)*Object(Je.b)(Object(Je.d)().branch).vat)}):e}));u(n)}else{var r=i.map((function(a){return a.costType===e.target.name?Object(k.a)(Object(k.a)({},a),{},{costType:e.target.name,amount:t}):a}));u(r)}};return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{container:!0,spacing:2,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(V.a,{item:!0,md:12,style:{paddingTop:15,paddingBottom:5}},r.a.createElement(te.a,{variant:"contained",color:"primary",endIcon:r.a.createElement(Dr.a,null),disabled:0===t.length,onClick:function(e){var t=Object(jr.a)(a.cargoMode,a.deliveryType,n,c,a.warehouseLocation);u(t),s(t)}},i?"Re-Calculate":"Calculate")),i&&r.a.createElement(r.a.Fragment,null,ka()(i,(function(e){return r.a.createElement(V.a,{container:!0,spacing:2,md:12,justify:"space-between",style:{paddingLeft:20}},r.a.createElement(V.a,{md:6},r.a.createElement(J.a,{style:{paddingTop:20}},e.costType)),r.a.createElement(I.D,{size:6,label:e.costType,name:e.costType,disabled:!e.editable,value:e.amount,onChange:d}))})),r.a.createElement("hr",{style:{marginLeft:10,marginTop:10,width:"100%"}}),r.a.createElement(V.a,{container:!0,spacing:2,md:12,justify:"space-between",style:{paddingLeft:20,paddingBottom:15}},r.a.createElement(V.a,{md:6},r.a.createElement(J.a,{style:{paddingTop:20}},r.a.createElement("b",null,"GRAND TOTAL"))),r.a.createElement(V.a,{xs:6,justify:"center",style:{textAlign:"center"}},r.a.createElement(J.a,{style:{textAlign:"center",paddingLeft:20,paddingTop:20,fontWeight:"bold"}},Object(un.a)(i)," ",Object(Je.d)().currency))),r.a.createElement("hr",{style:{marginLeft:10,marginTop:10,width:"100%"}}),r.a.createElement(V.a,{container:!0,spacing:2,md:12,justify:"space-between",style:{paddingLeft:20}},r.a.createElement(I.p,{label:"Packages",value:t.length,size:4}),r.a.createElement(I.p,{label:"Weight",value:Object(un.b)(n),size:4}),r.a.createElement(I.p,{label:"Volume",value:Object(un.e)(c),size:4})),r.a.createElement("hr",{style:{marginLeft:10,marginTop:10,width:"100%"}}),r.a.createElement(V.a,{container:!0,spacing:2,sm:12,justify:"space-between",style:{paddingTop:20}},r.a.createElement(V.a,{sm:6}),r.a.createElement(V.a,{sm:6,style:{paddingLeft:20}},r.a.createElement(I.D,{size:12,label:"PAID AMOUNT",value:l,onChange:function(e){var t=(e.target.value+"").replace(/[^0-9.]/gi,"");o(t)}})))))))},bl=function(e){var t=e.setOverlayDetail,a=e.overlayDetail,n=e.setChanged,c=e.changed,l=Object(b.useSnackbar)().enqueueSnackbar,o=Object(f.useDialog)(),i=r.a.useState([]),u=Object(z.a)(i,2),s=u[0],d=u[1],m=r.a.useState({}),p=Object(z.a)(m,2),g=p[0],h=p[1],v=r.a.useState(!1),E=Object(z.a)(v,2),y=E[0],O=E[1],j=r.a.useState(!1),D=Object(z.a)(j,2),w=D[0],C=D[1],x=r.a.useState(0),S=Object(z.a)(x,2),T=S[0],Y=S[1],M=r.a.useState(!1),A=Object(z.a)(M,2),L=A[0],R=A[1];r.a.useEffect((function(){a.id&&(R(!0),Kn.a.getCargo(a.id).then((function(e){var t;Object(Je.d)().branch!==e.cargo.branch&&l("You are not Authorized",{variant:"warning"}),h(Object(k.a)(Object(k.a)({},e.cargo),{},{pickupDateTime:fa()(e.cargo.pickupDate+"T"+e.cargo.pickupTime+":00")})),d(e.packages||[]),Y(null===(t=e.cargo)||void 0===t?void 0:t.paid)})).catch((function(e){l("Could not fetch",{variant:"error"})})).finally((function(e){return R(!1)})))}),[l,a.id,R,d]);var B=function(){R(!0),Kn.a.editHbl(a.id,Object(k.a)({},g),y,w,T,{pickedUpTime:g.pickedUpTime,pickedUpDate:g.pickedUpDate},"PAYMENT-EDIT").then((function(e){n(c+1),t(!1),l("Payments updated",{variant:"success"})})).catch((function(e){console.log(e),R(!1),l("Could not add payments",{variant:"error"})}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:L}),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"PACKAGE DETAILS"}),r.a.createElement(Jn.a,{style:{padding:0}},r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(ml,{setPackages:d,packages:s,setOverlayDetail:t}))))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:5}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(Vn.a,{defaultExpanded:!0},r.a.createElement(I.l,{title:"PAYMENT DETAILS"}),r.a.createElement(Jn.a,{style:{padding:10}},r.a.createElement(V.a,{container:!0,spacing:1,alignContent:"flex-start",alignItems:"flex-start",justify:"flex-start"},r.a.createElement(pl,{paid:T,setPaid:Y,weight:la()(s,(function(e,t){return e+ +t.weight}),0),volume:la()(s,(function(e,t){return e+Object(un.f)(t)}),0),amount:y,setAmount:O,setAmountSystem:C,cargo:g,packages:s})))))),r.a.createElement(V.a,{container:!0,spacing:0,style:{paddingTop:20}},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(V.a,{container:!0,style:{padding:10},spacing:1,alignContent:"space-between",alignItems:"space-between",justify:"space-between"},r.a.createElement(te.a,{variant:"contained",color:"primary",size:"medium",endIcon:r.a.createElement(Dr.a,null),disabled:L||!y,onClick:function(){0===T?o.confirm(Object(I.d)("Continue? Paid amount is Zero","ALLOW ZERO PAID")).then((function(){B()})):B()}},"Update Payments")))),r.a.createElement(I.s,{loading:L})))))},fl=function(e){var t=e.overlayDetail,a=e.setOverlayDetail,n=e.changed,c=e.setChanged;return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0,style:{marginTop:0}},r.a.createElement(St.a,{style:{padding:0},title:r.a.createElement(I.m,{title:"EDIT HBL PAYMENTS",onClose:function(){return a(!1)}})}),r.a.createElement(Yt.a,{style:{padding:0,paddingBottom:100}},r.a.createElement(kt.a,{style:{paddingTop:0}},r.a.createElement(bl,{overlayDetail:t,setOverlayDetail:a,changed:n,setChanged:c}),r.a.createElement("div",{style:{padding:20}})))))},gl=function(e){var t=r.a.useState(0),a=Object(z.a)(t,2),n=a[0],c=a[1],l=r.a.useState({startDate:fa()().subtract(30,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")}),o=Object(z.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(z.a)(s,2),m=d[0],p=d[1],b=r.a.useState(!1),f=Object(z.a)(b,2),g=f[0],h=f[1],v=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(N.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:ke.a,size:4,title:"Cash Settlements",subtitle:"Inquiry"}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(I.e,{label:"From Date",name:"startDate",value:i.startDate,onChange:v}),r.a.createElement(I.e,{label:"To Date",name:"endDate",value:i.endDate,onChange:v}),r.a.createElement(te.a,{color:"primary",variant:"outlined",size:"medium",onClick:function(){return c(n+1)},style:{marginTop:2}},"Search"),r.a.createElement(I.a,{size:3,onClicks:[function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().subtract(30,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")}))},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")}))},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().add(-1,"d").format("YYYY-MM-DD"),endDate:fa()().add(-1,"d").format("YYYY-MM-DD")}))}],options:["One Month","Today","Yesterday"]})))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,null,r.a.createElement(sl,{changed:n,setChanged:c,searchFields:i,setOverlayDetail:p,setOverlayType:h})))),r.a.createElement(I.g,{open:m,width:"VIEW"===g?"lg":"md",content:"VIEW"===g?r.a.createElement(sc,{overlayDetail:m,setOverlayDetail:p}):r.a.createElement(fl,{changed:n,setChanged:c,overlayDetail:m,setOverlayDetail:p})}))},hl=function(){var e=Object(B.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.c)("/v1/warehouse/get-all?branch=".concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vl=function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.e)("/v1/warehouse/create?branch=".concat(Object(Je.d)().branch),Object(k.a)(Object(k.a)({},t),{},{auth:Object(Je.d)().username,branch:Object(Je.d)().branch,createdDate:new Date})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),El=function(){var e=Object(B.a)(R.a.mark((function e(t,a){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.f)("/v1/warehouse/update/".concat(t,"?branch=").concat(Object(Je.d)().branch),a));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),yl={get:hl,create:vl,remove:function(){var e=Object(B.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(Ht.a)("/v1/warehouse/delete/".concat(t,"?branch=").concat(Object(Je.d)().branch)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:El},Ol=[{label:"",name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"HBL",name:"hbl",options:{viewColumns:!1,filter:!1,sort:!0,customBodyRender:function(e,t){return r.a.createElement("b",null,e)}}},{label:"Name",name:"name",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e,size:"small"})}}},{name:"date",label:"Picked Date",options:{viewColumns:!0,filter:!1,sort:!1}},{name:"cashedDate",label:"Cashed Date",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"totalWeight",label:"Weight",options:{viewColumns:!0,filter:!1,sort:!0,customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e,size:"small",style:{color:"white",backgroundColor:w.a.shades.green}})}}},{name:"totalVolume",label:"Volume",options:{viewColumns:!0,dispaly:!1,filter:!1,sort:!0,customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e,size:"small",style:{color:"white",backgroundColor:w.a.shades.green}})}}},{name:"totalQuantity",label:"Quantity",options:{viewColumns:!0,filter:!1,sort:!0,customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e,size:"small",style:{color:"white",backgroundColor:w.a.shades.green}})}}},{name:"cargoMode",label:"Cargo Mode",options:{viewColumns:!0,filter:!1,sort:!1,display:!1}}],jl=a(747),Dl=a(748),wl=function(e){var t=e.changed,a=e.searchFields,n=e.setOverlayDetail,c=e.setChanged,l=Object(b.useSnackbar)().enqueueSnackbar,o=Object(f.useDialog)(),i=Object(I.G)(),u=r.a.useState(!1),s=Object(z.a)(u,2),d=s[0],m=s[1],p=r.a.useState([]),g=Object(z.a)(p,2),h=g[0],v=g[1],E=r.a.useState([]),y=Object(z.a)(E,2),O=y[0],j=y[1],D=r.a.useState({}),w=Object(z.a)(D,2),C=w[0],x=w[1],S=r.a.useState({}),T=Object(z.a)(S,2),Y=T[0],M=T[1],A=r.a.useState([]),L=Object(z.a)(A,2),R=L[0],B=L[1],P=r.a.useState([]),F=Object(z.a)(P,2),H=F[0],W=F[1];r.a.useEffect((function(){a.startDate>a.endDate?l("Start-Date should not be after From-Date",{variant:"warning"}):(m(!0),Kn.a.getWarehouse(a).then((function(e){var t=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{totalVolume:Object(un.g)({volume:e.totalVolume}),date:e.pickedUpDate,name:Dc(e.name,25),cashedDate:e.cashedDate+" "+e.cashedTime})}));v(t),U(null,t)})).catch((function(e){l("Could not fetch",{variant:"error"})})).finally((function(e){return m(!1)})))}),[l,t,a]),r.a.useEffect((function(){yl.get().then((function(e){W(ka()(Object(ga.filter)(e,(function(e){return!e.deleted})),(function(e){return{value:e.name,label:e.name}})))})).catch((function(e){l("Could not fetch",{variant:"error"})}))}),[l]);var U=function(e,t){j([]);var a=e?Object(k.a)(Object(k.a)({},Y),{},Object(N.a)({},e.target.name,e.target.value)):Y,n=Mc(e?h:t,a,"cargoMode"),r=Mc(n,a,"warehouseLocation"),c=Mc(r,a,"deliveryType");M(a),B(c),q(c)},q=function(e){var t=Object(un.b)(Yc(e,"totalWeight")),a=Yc(e,"totalQuantity"),n=Object(ga.size)(e),r=Object(un.e)(Yc(e,"totalVolume"));x({weight:t,totalQuantity:a,volume:r,hbls:n})},G=r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{variant:"contained",color:"primary",size:"small",disabled:0===O.length,onClick:function(){1===O.length?o.confirm(Object(I.d)("Cash-Received Revert "+O.length+" item(s)","REVERT")).then((function(){m(!0);var e=Object(Ke.a)(O);B([]),j([]),Kn.a.revertCashCargo(e).then((function(e){l("Cash-Receive Reverted",{variant:"success"}),j([]),c(t+1)})).catch((function(e){l("Could not Cash-Receive Revert",{variant:"error"})})).finally((function(e){return m(!1)}))})):l("You can revert only one cargo at a time",{variant:"warning"})}},"Revert Cash-Rec. [ ",O.length," ]"),r.a.createElement(I.q,{label:"kg",value:Ar()(C,"weight")}),r.a.createElement(I.q,{label:"vol",value:Ar()(C,"volume")}),r.a.createElement(I.q,{label:"qty",value:Ar()(C,"totalQuantity")}),r.a.createElement(I.q,{label:"HBL",value:Ar()(C,"hbls")})),J=[{name:"check",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,setCellProps:function(){return{style:{width:10}}},customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xc.a,{style:{padding:0,margin:0},onClick:function(e){e.target.checked?j([].concat(Object(Ke.a)(O),[t.rowData[1]])):j(Object(Ke.a)(O.filter((function(e){return e!==t.rowData[1]}))))}}))}}}].concat(Object(Ke.a)(Ol),[{name:"pickupWarehouseZone",label:"Zone",options:{viewColumns:!0,filter:!1,sort:!1,setCellProps:function(){return{align:"right"}},customBodyRender:function(e,a){return r.a.createElement(r.a.Fragment,null,e,r.a.createElement(I.B,{title:"View",icon:r.a.createElement(jl.a,null),onClick:function(){var e;e=a.rowData[1],i.confirm({title:"Select Warehouse Zone to assign",assigneeList:H,callback:function(a){m(!0),Kn.a.assignCargoWarehouse([e],a).then((function(e){l("Assigned",{variant:"success"})})).catch((function(e){l("Could not Assign",{variant:"error"})})).finally((function(e){m(!1),c(t+1)}))}})}}))}}},{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.B,{title:"View",icon:r.a.createElement(Kr.a,null),onClick:function(){n({id:t.rowData[1]})}}),r.a.createElement(I.B,{style:{padding:0,margin:0},title:"Print Barcode",icon:r.a.createElement(Dl.a,null),onClick:function(){window.open("print/"+t.rowData[1]+"/"+Object(Je.d)().branch+"/3","_blank")}}))}}}]);return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:d}),r.a.createElement(fn,{data:R,columns:J,filter:!1,noDownload:!1,sort:!0,customToolbar:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.x,{name:"cargoMode",label:"Cargo Mode",valueObjects:[{value:"",label:"All"}],values:Ic(h.map((function(e){return e.cargoMode}))),value:Y.cargoMode,onChange:U,style:{width:120,minWidth:"120px !important"}}),r.a.createElement(I.x,{name:"warehouseLocation",label:"Location",valueObjects:[{value:"",label:"All"}],values:Ic(h.map((function(e){return e.warehouseLocation}))),value:Y.warehouseLocation,onChange:U,style:{marginLeft:5,width:120,minWidth:"120px !important"}}),r.a.createElement(I.x,{name:"deliveryType",label:"Delivery",valueObjects:[{value:"",label:"All"}],values:Ic(h.map((function(e){return e.deliveryType}))),value:Y.deliveryType,onChange:U,style:{marginLeft:5,width:120,minWidth:"120px !important"}}))},title:G}))))},Cl=function(e){var t=r.a.useState(0),a=Object(z.a)(t,2),n=a[0],c=a[1],l=r.a.useState({startDate:fa()().subtract(15,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")}),o=Object(z.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(z.a)(s,2),m=d[0],p=d[1],b=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(N.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:Oe.a,size:4,title:"Warehouse",subtitle:"Inquiry"}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(I.e,{label:"From Date",name:"startDate",value:i.startDate,onChange:b}),r.a.createElement(I.e,{label:"To Date",name:"endDate",value:i.endDate,onChange:b}),r.a.createElement(te.a,{color:"primary",variant:"outlined",size:"medium",onClick:function(){return c(n+1)},style:{marginTop:2}},"Search"),r.a.createElement(I.a,{size:3,onClicks:[function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().subtract(30,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")}))},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().subtract(7,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")}))},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")}))},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().add(-1,"d").format("YYYY-MM-DD"),endDate:fa()().add(-1,"d").format("YYYY-MM-DD")}))}],options:["One Month","Week","Today","Yesterday"]})))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,null,r.a.createElement(wl,{changed:n,setChanged:c,searchFields:i,setOverlayDetail:p})))),r.a.createElement(I.g,{open:m,width:"lg",content:m.id?r.a.createElement(sc,{overlayDetail:m,setOverlayDetail:p}):r.a.createElement(r.a.Fragment,null)}))},xl=[{name:"id",options:{viewColumns:!1,filter:!1,sort:!1,display:!1}},{label:"HBL",name:"hbl",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement("b",null,e||"REF"+t.rowData[0])}}},{label:"Name",name:"name",options:{viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,t){return r.a.createElement(ue.a,{label:e})}}},{name:"address",label:"Address",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"date",label:"Pickup Date/Time",options:{viewColumns:!0,filter:!1,sort:!0}},{name:"cargoMode",label:"Cargo Mode",options:{viewColumns:!0,filter:!0,sort:!1}},{name:"driverName",label:"Driver",options:{viewColumns:!0,filter:!0,sort:!1}}],kl=a(749),Sl=function(e){var t=e.setChanged,a=e.changed,n=e.searchFields,c=e.setOverlayDetail,l=Object(b.useSnackbar)().enqueueSnackbar,o=Object(f.useDialog)(),i=r.a.useState(!1),u=Object(z.a)(i,2),s=u[0],d=u[1],m=r.a.useState([]),p=Object(z.a)(m,2),g=p[0],h=p[1];r.a.useEffect((function(){n.startDate>n.endDate?l("Start-Date should not be after From-Date",{variant:"warning"}):(d(!0),Kn.a.getDeletedCargo(n).then((function(e){var t=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{date:Ar()(e,"pickupDate")+" "+Ar()(e,"pickupTime")})}));h(t)})).catch((function(e){l("Could not fetch",{variant:"error"})})).finally((function(e){return d(!1)})))}),[l,a,n]);var v=[].concat(Object(Ke.a)(xl),[{name:"actions",label:"  ",options:{empty:!0,viewColumns:!1,filter:!1,sort:!1,customBodyRender:function(e,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.B,{title:"View",icon:r.a.createElement(Kr.a,null),onClick:function(){c({id:n.rowData[0]})}}),r.a.createElement(I.B,{title:"Undo Delete",icon:r.a.createElement(kl.a,null),onClick:function(){!function(e){var n=e.id;o.confirm(Object(I.d)("Undo Delete 1 item","UNDO DELETE")).then((function(){d(!0),Kn.a.undoDeleteCargo(n).then((function(e){l("Deleted Restored",{variant:"success"}),t(a+1)})).catch((function(e){l("Could not Restore",{variant:"error"})})).finally((function(e){return d(!1)}))}))}({id:n.rowData[0]})}}))}}}]);return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:s}),r.a.createElement(fn,{data:g,columns:v,filter:!0}))))},Tl=function(e){var t=r.a.useState(0),a=Object(z.a)(t,2),n=a[0],c=a[1],l=r.a.useState({startDate:fa()().subtract(15,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")}),o=Object(z.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(z.a)(s,2),m=d[0],p=d[1],b=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(N.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:Re.a,size:4,title:"Cancelled HBLs",subtitle:"MoveWorlde - Inquiry"}),r.a.createElement(V.a,{container:!0,spacing:2,xs:8,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(I.e,{label:"From Date",name:"startDate",value:i.startDate,onChange:b}),r.a.createElement(I.e,{label:"To Date",name:"endDate",value:i.endDate,onChange:b}),r.a.createElement(te.a,{color:"primary",variant:"outlined",size:"medium",onClick:function(){return c(n+1)},style:{marginTop:2}},"Search")))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,null,r.a.createElement(Sl,{changed:n,setChanged:c,searchFields:i,setOverlayDetail:p})))),r.a.createElement(I.g,{open:m,width:"lg",content:m.id?r.a.createElement(sc,{overlayDetail:m,setOverlayDetail:p}):r.a.createElement(r.a.Fragment,null)}))},Yl=r.a.lazy((function(){return Promise.all([a.e(0),a.e(6),a.e(5)]).then(a.bind(null,1505))})),Ml=function(e){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading PDF Library...")},r.a.createElement(Yl,e))},Il=r.a.lazy((function(){return Promise.all([a.e(0),a.e(4)]).then(a.bind(null,1504))})),Al=function(e){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading PDF All Library...")},r.a.createElement(Il,e))},Ll=r.a.lazy((function(){return Promise.all([a.e(8),a.e(7)]).then(a.bind(null,1503))})),Rl=function(e){return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading PDF/EXCEL/IMAGE Library...")},r.a.createElement(Ll,e))},Bl={get:function(){var e=Object(B.a)(R.a.mark((function e(t){var a,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(a=t.startDate)||void 0===a?void 0:a.split(" "),e.abrupt("return",Object(Ht.c)("/v1/location/get?username=".concat(t.id,"&date=").concat(n[0].split("-").join("_"),"&startTime=").concat(n[1],"&branch=").concat(Object(Je.d)().branch)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function zl(){var e=Object(ar.a)(["\n    &:hover {\n        width: 42px;\n        height: 41px;\n        font-size: 35px;     \n        text-shadow: 0px 0px 15px ",";\n        z-index: 10;\n    }\n    position: absolute;\n    width: 38px;\n    height: 37px;\n    background-image: ",";\n    filter: ",";\n    background-size: contain;\n    text-align: center;\n    text-shadow: 1px 1px #ffffff;\n    background-repeat: no-repeat;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -webkit-transform: translate(-50%,-50%);\n    -ms-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    cursor: grab;\n"]);return zl=function(){return e},e}var Nl=rr.a.div(zl(),w.a.shades.main,(function(e){return"url(/app/images/a"+("LAST"===e.text?8:e.direction)+".png)"}),(function(e){return"grayscale(".concat(1-e.order/e.total,")")})),Pl=function(e){var t=e.direction,a=e.text,n=e.total,c=e.order,l=e.onClick;return r.a.createElement(Nl,{total:n,direction:t,order:c,alt:a,onClick:l},a,"[",c,"]",r.a.createElement("br",null))};Pl.defaultProps={onClick:null};var Fl=Pl;function Hl(){var e=Object(ar.a)(["\n  width: 100%;\n  height: 80vh;\n"]);return Hl=function(){return e},e}var Wl=rr.a.main(Hl()),Ul=function(e){var t=e.path,a=e.coordinates,n=e.zoom,c=r.a.useState({mapApiLoaded:!1,mapInstance:null,mapApi:null,geoCoder:null,places:[],center:[a.lat,a.lng],zoom:n,address:"",draggable:!0,lat:a.lat,lng:a.lng}),l=Object(z.a)(c,2),o=l[0],i=l[1];r.a.useEffect((function(){i({draggable:!0,zoom:n,center:[0,e.coordinates.lng],lat:0,lng:e.coordinates.lng}),setTimeout((function(){console.log("timeoout"),i({draggable:!0,zoom:n,center:[e.coordinates.lat,e.coordinates.lng],lat:e.coordinates.lat,lng:e.coordinates.lng})}),150)}),[e.coordinates,n]);var u=function(e,a){(function(e){var t=[],a=[];return e.forEach((function(n,r){0===a.length||n.timestamp-e[r-1].timestamp<1800?a.push(n):(t.push(Object(Ke.a)(a)),a=[])})),t})(t).forEach((function(t){new a.Polyline({path:t,geodesic:!0,strokeColor:w.a.shades.main,strokeOpacity:.5,strokeWeight:2}).setMap(e)})),i(Object(k.a)(Object(k.a)({},o),{},{mapApiLoaded:!0,mapInstance:e,mapApi:a}))};return console.log(o.lat,o.lng),r.a.createElement(Wl,null,r.a.createElement(nr.a,{center:o.center,zoom:o.zoom,draggable:o.draggable,onChange:function(e){var t=e.center,a=e.zoom;i(Object(k.a)(Object(k.a)({},o),{},{center:t,zoom:a}))},onChildClick:function(){return console.log("child click")},bootstrapURLKeys:{key:ir,libraries:[]},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var t=e.map,a=e.maps;return u(t,a)}},t.map((function(e,a){return r.a.createElement(Fl,{order:a,direction:e.direction,total:t.length,text:e.date,lat:e.lat,lng:e.lng})})),r.a.createElement(Fl,{order:0,total:1,text:"LAST",lat:a.lat+2e-4,lng:a.lng+1e-4})))},ql=function(e,t){var a=Object(ga.orderBy)(e,["date"]),n=[];a.forEach((function(e,t){if(t!==a.length-1){var r=a[t+1].lat-e.lat,c=a[t+1].lng-e.lng;if(r<2e-4&&c<2e-4)return!1;r<.001&&c<.001?(n.push(e),n.push(Object(k.a)(Object(k.a)({},e),{},{lat:e.lat+r/2,lng:e.lng+c/2}))):n.push(e)}else n.push(e)}));return n.map((function(e,t){var a=8;if(t!==n.length-1){var r=n[t+1].lat-e.lat,c=n[t+1].lng-e.lng;if(0===c)a=r>0?2:6;else{var l=Math.abs(r)/Math.abs(c);a=c>0&&r>0?l<.414?0:l>2.414?2:1:c<0&&r>0?l<.414?4:l>2.414?2:3:c>0&&r<0?l<.414?0:l>2.414?6:7:l<.414?4:l>2.414?6:5}}var o=fa()(1e3*e.date).format("HH:mm"),i=fa()(1e3*e.date).format("yyyy-MM-DD");return Object(k.a)(Object(k.a)({},e),{},{timestamp:e.date,date:o,dateTime:i,direction:a})})).filter((function(e){return e.dateTime===t}))},Gl=function(e){var t=e.changed,a=e.searchFields,n=e.trackSelectedHour,c=Object(b.useSnackbar)().enqueueSnackbar,l=r.a.useState(!1),o=Object(z.a)(l,2),i=o[0],u=o[1],s=r.a.useState(11),d=Object(z.a)(s,2),m=d[0],p=d[1],f=r.a.useState({lat:25.274,lng:51.295}),g=Object(z.a)(f,2),h=g[0],v=g[1],E=r.a.useState(ql({})),y=Object(z.a)(E,2),O=y[0],j=y[1];return r.a.useEffect((function(){u(!0),Bl.get(a).then((function(e){var t,n=function(e){var t=[];for(var a in e)if(e.hasOwnProperty(a)){var n=e[a].split(",");t.push({date:+a,lat:+n[0],lng:+n[1]})}return t}(e);n.length>0&&v({lat:n[0].lat,lng:n[0].lng});var r=ql(n,null===(t=a.startDate.split(" "))||void 0===t?void 0:t[0]);r.length>0?(v(r[r.length-1]),j(r)):j([])})).catch((function(e){c("Could not Fetch",{variant:"error"})})).finally((function(e){return u(!1)}))}),[c,t,a]),r.a.useEffect((function(){if(!isNaN(n)&&0!==O.length){var e=O.filter((function(e){return e.date<(n<10?"0"+n:n)+":59"}));e.length>0?(p(17),v(O[e.length-1])):v(O[0])}}),[n,O]),r.a.createElement("div",null,r.a.createElement(V.a,{container:!0},r.a.createElement(V.a,{item:!0,xs:12,sm:12,md:12,lg:12,xl:12},r.a.createElement(I.s,{loading:i}),O.length>0&&!i&&r.a.createElement(Ul,{zoom:m,path:O,coordinates:h,setCoordinates:v}),0===O.length&&!i&&r.a.createElement("div",{style:{padding:20}},"No tracking data"))))},Vl=a(750),Jl=["Day before","Yesterday","Today"],Kl=function(e){var t,a,n=Object(b.useSnackbar)().enqueueSnackbar,c=r.a.useState(0),l=Object(z.a)(c,2),o=l[0],i=l[1],u=r.a.useState(0),s=Object(z.a)(u,1)[0],d=r.a.useState(24),m=Object(z.a)(d,1)[0],p=r.a.useState(),f=Object(z.a)(p,2),g=f[0],h=f[1],v=r.a.useState([]),E=Object(z.a)(v,2),y=E[0],O=E[1],j=r.a.useState([]),D=Object(z.a)(j,2),w=D[0],C=D[1],x=r.a.useState({id:"",startDate:fa()().subtract(0,"d").format("YYYY-MM-DD HH:mm"),timeFrame:Jl[2]}),S=Object(z.a)(x,2),T=S[0],Y=S[1];return r.a.useEffect((function(){Xa.getByBranch().then((function(e){O(Object(ga.filter)(e,(function(e){return!e.deleted}))),C(Object(ga.map)(Object(ga.filter)(e,(function(e){return!e.deleted})),(function(e){return{value:e.username,label:e.username}})))})).catch((function(e){n("Could not fetch",{variant:"error"})}))}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:Vl.a,size:2,title:"Manage Drivers",subtitle:"MoveWorlde Tracking"}),r.a.createElement(V.a,{item:!0,md:6},r.a.createElement(I.y,{shiftStart:+(null===(t=y.find((function(e){return e.username===T.id})))||void 0===t?void 0:t.shiftStart)||14,shiftEnd:+(null===(a=y.find((function(e){return e.username===T.id})))||void 0===a?void 0:a.shiftEnd)||2,setTrackSelectedHour:h,trackStartHour:s,trackEndHour:m})),r.a.createElement(V.a,{container:!0,md:4,justify:"flex-end",alignContent:"center",alignItems:"center"},r.a.createElement(I.w,{size:4,label:"Driver",name:"id",valueObjects:w,value:T.id,onChange:function(e){Y(Object(k.a)(Object(k.a)({},T),{},Object(N.a)({},e.target.name,e.target.value)))}}),r.a.createElement(Tt.a,{color:"primary",style:{marginLeft:10,marginTop:2}},Jl.map((function(e){return r.a.createElement(te.a,{size:"small",style:{height:35},variant:e===T.timeFrame?"contained":"outlined",onClick:function(t){return function(e){var t;e===Jl[0]?t=fa()().subtract(2,"d").format("YYYY-MM-DD HH:mm"):e===Jl[1]?t=fa()().subtract(1,"d").format("YYYY-MM-DD HH:mm"):e===Jl[2]&&(t=fa()().subtract(0,"d").format("YYYY-MM-DD HH:mm")),Y(Object(k.a)(Object(k.a)({},T),{},{timeFrame:e,startDate:t})),i(o+1)}(e)}},e)})))))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,null,T.id&&r.a.createElement(Gl,{trackSelectedHour:g,changed:o,setChanged:i,searchFields:T})))))},_l=function(e){var t=e.changed,a=e.searchFields,n=e.setOverlayDetail,c=Object(b.useSnackbar)().enqueueSnackbar,l=r.a.useState(!1),o=Object(z.a)(l,2),i=o[0],u=o[1],s=r.a.useState([]),d=Object(z.a)(s,2),m=d[0],p=d[1],f=r.a.useState([]),g=Object(z.a)(f,2),h=g[0],v=g[1],E=r.a.useState([]),y=Object(z.a)(E,2),O=y[0],j=y[1],D=r.a.useState([]),C=Object(z.a)(D,2),x=C[0],S=C[1];r.a.useEffect((function(){0!==t&&(a.startDate>a.endDate?c("Start-Date should not be after From-Date",{variant:"warning"}):(u(!0),p([{},{}]),j([{}]),S([{},{},{},{}]),Jc.getAllHbl({startDate:a.startDate,endDate:a.endDate}).then((function(e){p([]),v([]),j([]),S([]);var t=fa()().format("YYYY-MM-DD"),a=fa()().format("HH"),n=Object(ga.groupBy)(e,(function(e){return(e.driverId?"y":"n")+e.fetched}));Object(ga.forOwn)(n,(function(e,n){if("n-1"===n){var r=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{address:Dc(e.address,19),slAddress:Dc(e.slAddress,19),now:e.createdDate===t&&e.createdTime.startsWith(a)})}));p(r)}else if("y-1"===n){var c=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{address:Dc(e.address,19),slAddress:Dc(e.slAddress,19),now:e.createdDate===t&&e.createdTime.startsWith(a)})}));v(c)}else if("y12"===n){var l=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{address:Dc(e.address,19),slAddress:Dc(e.slAddress,19),now:e.pickedUpDate===t&&e.pickedUpTime.startsWith(a)})}));j(l)}else if("y42"===n){var o=e.map((function(e){return Object(k.a)(Object(k.a)({},e),{},{address:Dc(e.address,19),slAddress:Dc(e.slAddress,19),now:e.deliveredDate===t&&e.deliveredTime.startsWith(a)})}));S(o)}}))})).catch((function(e){p([]),v([]),j([]),S([]),c("Could not fetch",{variant:"error"})})).finally((function(e){return u(!1)}))))}),[c,t,a.startDate,a.endDate]);var T=function(e){return n({id:e})};return r.a.createElement("div",null,r.a.createElement(V.a,{container:!0,style:{paddingBottom:20}},r.a.createElement(V.a,{item:!0,md:12,lg:12},r.a.createElement(I.s,{loading:i})),!i&&m.length+h.length+O.length+x.length>0&&r.a.createElement(V.a,{container:!0,justify:"space-around",md:12,lg:12,style:{marginBottom:10}},r.a.createElement(I.k,{title:"Info Received ["+m.length+"]",subtitle:"Not assigned",style:{borderRight:"5px solid",borderLeft:"5px solid",paddingLeft:5,paddingRight:5,borderRadius:5}}),r.a.createElement(I.k,{title:"Driver assigned ["+h.length+"]",subtitle:"Not picked",style:{borderRight:"5px solid "+w.a.shades.main,borderLeft:"5px solid "+w.a.shades.main,paddingLeft:5,paddingRight:5,borderRadius:5}}),r.a.createElement(I.k,{title:"In Transit ["+O.length+"]",subtitle:"Not delivered",style:{borderRight:"5px solid "+w.a.secondary.main,borderLeft:"5px solid "+w.a.secondary.main,paddingLeft:5,paddingRight:5,borderRadius:5}}),r.a.createElement(I.k,{title:"Items Delivered ["+x.length+"]",subtitle:"Job Completed",style:{borderRight:"5px solid "+w.a.shades.green,borderLeft:"5px solid "+w.a.shades.green,paddingLeft:5,paddingRight:5,borderRadius:5}})),r.a.createElement(V.a,{item:!0,md:3,lg:3},m.map((function(e){return r.a.createElement(V.a,{item:!0,md:12,lg:12},r.a.createElement(I.c,{data:e,loading:i,onClick:T}))}))),r.a.createElement(V.a,{item:!0,md:3,lg:3},h.map((function(e){return r.a.createElement(V.a,{item:!0,md:12,lg:12},r.a.createElement(I.c,{data:e,loading:i,onClick:T,color:w.a.shades.main}))}))),r.a.createElement(V.a,{item:!0,md:3,lg:3},O.map((function(e){return r.a.createElement(V.a,{item:!0,md:12,lg:12},r.a.createElement(I.c,{data:e,loading:i,onClick:T,color:w.a.secondary.main}))}))),r.a.createElement(V.a,{item:!0,md:3,lg:3},x.map((function(e){return r.a.createElement(V.a,{item:!0,md:12,lg:12},r.a.createElement(I.c,{data:e,loading:i,onClick:T,color:w.a.shades.green}))})))))},Zl=a(472),Xl=a.n(Zl),Ql=function(e){var t=r.a.useState(0),a=Object(z.a)(t,2),n=a[0],c=a[1],l=r.a.useState({hbl:"",startDate:fa()().subtract(3,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")}),o=Object(z.a)(l,2),i=o[0],u=o[1],s=r.a.useState(!1),d=Object(z.a)(s,2),m=d[0],p=d[1],b=function(e){u(Object(k.a)(Object(k.a)({},i),{},Object(N.a)({},e.target.name,e.target.value)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt.a,{elevation:0},r.a.createElement(St.a,{title:r.a.createElement(V.a,{container:!0,spacing:1,justify:"space-between",alignContent:"space-between",alignItems:"space-between"},r.a.createElement(I.j,{Icon:Xl.a,size:2,title:"HBL/JOBs",subtitle:"Grid Overview"}),r.a.createElement(V.a,{container:!0,spacing:2,xs:10,justify:"flex-end",alignContent:"center",alignItems:"center",style:{paddingRight:10,paddingTop:10}},r.a.createElement(I.e,{size:2,label:"From Date",name:"startDate",value:i.startDate,onChange:b}),r.a.createElement(I.e,{size:2,label:"To Date",name:"endDate",value:i.endDate,onChange:b}),r.a.createElement(te.a,{startIcon:r.a.createElement(Rc.a,null),color:"primary",variant:"outlined",size:"medium",onClick:function(){return c(n+1)},style:{marginTop:2}},"Search"),r.a.createElement(I.a,{size:2,onClicks:[function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().subtract(7,"d").format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")})),c(n+1)},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().format("YYYY-MM-DD"),endDate:fa()().format("YYYY-MM-DD")})),c(n+1)},function(e){u(Object(k.a)(Object(k.a)({},i),{},{startDate:fa()().add(-1,"d").format("YYYY-MM-DD"),endDate:fa()().add(-1,"d").format("YYYY-MM-DD")})),c(n+1)}],options:["One Week","Today","Yesterday"]})))}),r.a.createElement(Yt.a,null,r.a.createElement(kt.a,null,r.a.createElement(_l,{changed:n,setChanged:c,history:e.history,searchFields:i,setOverlayDetail:p})))),r.a.createElement(I.g,{open:m,width:"lg",content:m.id?r.a.createElement(sc,{overlayDetail:m,setOverlayDetail:p}):r.a.createElement(r.a.Fragment,null)}))},$l=[["Like waves, there could be rough days and smooth ones.","Like a ship, gracefully sail through both."],["Dont let fear stop you from reaching horizons.",""],["Your only limit is You",""],["When we strive to become better than we are","everything around us becomes better too"],["Either you run the day or the day runs you.",""],["",""]],eo=function(e){var t=Math.floor(Math.random()*$l.length),a=$l[t];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100%",height:"90vh",backgroundColor:"#fafafa",marginTop:-8}},r.a.createElement("div",{style:{position:"absolute",top:80,left:"40%",color:"#777",fontSize:20,fontFamily:"American Typewriter, serif"}},"You are doing great!"),r.a.createElement("div",{style:{position:"absolute",top:110,left:"40%",color:"#777"}},a[0]),r.a.createElement("div",{style:{position:"absolute",top:128,left:"40%",color:"#777"}},a[1]),r.a.createElement("iframe",{title:"relax-1",src:"../relax_dot.html",style:{border:"none",width:"100%",height:"100%"}})))},to=function(){return r.a.createElement(A.d,null,r.a.createElement(A.a,{exact:!0,from:"/",to:"/dashboard"}),r.a.createElement(ut,{component:Ca,path:"/dashboard",types:[Ne.a.pickup,Ne.a.delivery],exact:!0,layout:at}),r.a.createElement(ut,{component:Ha,path:"/efficiency",types:[Ne.a.pickup,Ne.a.delivery,Ne.a.domestic],exact:!0,layout:at}),r.a.createElement(ut,{component:an,path:"/comparison",types:[Ne.a.pickup,Ne.a.domestic],exact:!0,layout:at}),r.a.createElement(ut,{component:on,path:"/sales",types:[Ne.a.pickup,Ne.a.domestic],exact:!0,layout:at}),r.a.createElement(ut,{component:On,path:"/cross-branch",types:[Ne.a.pickup,Ne.a.delivery],exact:!0,layout:at}),r.a.createElement(ut,{component:Sn,path:"/shipment-360",types:[Ne.a.pickup,Ne.a.delivery],exact:!0,layout:at}),r.a.createElement(ut,{component:dc,path:"/new-member",exact:!0,layout:at}),r.a.createElement(ut,{component:yc,path:"/edit/:id",types:[Ne.a.pickup,Ne.a.domestic],exact:!0,layout:at}),r.a.createElement(ut,{component:kc,path:"/search",types:[Ne.a.pickup,Ne.a.delivery,Ne.a.domestic],exact:!0,layout:at}),r.a.createElement(ut,{component:Hc,path:"/reports",types:[Ne.a.domestic],exact:!0,layout:at}),r.a.createElement(ut,{component:Ql,path:"/grid",types:[Ne.a.domestic],exact:!0,layout:at}),r.a.createElement(ut,{component:Zc,path:"/cargo-status",types:[Ne.a.pickup,Ne.a.delivery,Ne.a.domestic,Ne.a.pickup_customer],exact:!0,layout:at}),r.a.createElement(ut,{component:ol,path:"/pending",exact:!0,layout:at}),r.a.createElement(ut,{component:gl,path:"/cash-settlements",types:[Ne.a.pickup],exact:!0,layout:at}),r.a.createElement(ut,{component:Cl,path:"/warehouse",types:[Ne.a.pickup],exact:!0,layout:at}),r.a.createElement(ut,{component:Tl,path:"/cancelled-hbls",types:[Ne.a.pickup,Ne.a.domestic],exact:!0,layout:at}),r.a.createElement(ut,{component:Ml,path:"/print/:id/:branch/:tab",types:[Ne.a.pickup,Ne.a.delivery],exact:!0,layout:rt}),r.a.createElement(ut,{component:Al,path:"/print-all/:id/:branch/:tab",types:[Ne.a.pickup,Ne.a.delivery],exact:!0,layout:rt}),r.a.createElement(ut,{component:Rl,path:"/view-docs/:id/:filename",types:[Ne.a.pickup,Ne.a.delivery,Ne.a.domestic],exact:!0,layout:rt}),r.a.createElement(ut,{component:Kl,path:"/driver/track",types:[Ne.a.pickup,Ne.a.delivery,Ne.a.domestic],exact:!0,layout:at}),r.a.createElement(ut,{component:eo,path:"/cool/relax",types:[Ne.a.pickup,Ne.a.delivery,Ne.a.domestic,Ne.a.pickup_customer],exact:!0,layout:at}),r.a.createElement(st,{component:wt,path:"/sign-in",exact:!0,layout:rt}),r.a.createElement(st,{component:xt,path:"/not-found",exact:!0,layout:rt}),r.a.createElement(A.a,{to:"/not-found"}))},ao=Object(g.a)({success:{backgroundColor:"rgb(152, 230, 152)",color:"rgb(15, 62, 15)"},error:{backgroundColor:"rgb(255, 179, 179)",color:"rgb(77, 0, 0)"},warning:{backgroundColor:"rgb(255, 204, 153)",color:"rgb(77, 38, 0)"},info:{backgroundColor:"rgb(153, 204, 255)",color:"rgb(0, 51, 102)"}}),no=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e,t=this.props.classes,a=r.a.createRef(),n=function(e){return function(){a.current.closeSnackbar(e)}};return(null===(e=window.location.href)||void 0===e?void 0:e.split("pending?branch=")[1])&&function(e){var t=e.split("?branch=")[1],a=t.split("&username=")[0],n=t.split("&username=")[1],r=n.split("&jwt=")[0],c=n.split("&jwt=")[1];console.log(a,r,c),localStorage.setItem("mw-b",JSON.stringify([a])),localStorage.setItem("mw-u",r),Qe.client=[a],document.cookie="api=".concat(c,"; max-age=").concat(54e6,"; path=/;")}(window.location.href),r.a.createElement(E.a,null,r.a.createElement(h.a,{theme:M},r.a.createElement(b.SnackbarProvider,{maxSnack:4,autoHideDuration:1e4,ref:a,action:function(e){return r.a.createElement(y.a,{style:{color:"#eeeeee"},onClick:n(e)},r.a.createElement(j.a,null))},anchorOrigin:{vertical:"top",horizontal:"center"},classes:{variantSuccess:t.success,variantError:t.error,variantWarning:t.warning,variantInfo:t.info}},r.a.createElement(I.i,null),r.a.createElement(I.h,null),r.a.createElement(f.DialogProvider,null,r.a.createElement(m.a,{utils:p.a},r.a.createElement(d.a,{basename:"/app"},r.a.createElement(to,null)))))))}}]),a}(r.a.Component),ro=Object(v.a)(ao)(no);l.a.render(r.a.createElement(ro,null),document.getElementById("root"))},9:function(e,t,a){"use strict";a.d(t,"d",(function(){return g})),a.d(t,"e",(function(){return h})),a.d(t,"c",(function(){return v})),a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return y}));var n=a(1),r=a.n(n),c=a(24),l=a(5),o=a(3),i=a(121),u=a(22),s=a(19),d={client:{branch:"",type:"",displayName:"LOGISTIC SOLUTION",cargoMode:["Air Cargo","Sea Cargo"],deliveryType:["UPB","Gift","Door to door"],warehouseLocation:["Colombo","Nintavur","Kurunegala"],userType:"editor",username:"base_"}},m={client:{}},p={client:[]},b={client:{}},f={qatar:{parent:"",phone:"",website:"",barcode:!0,qrcode:!1,printPriceBreakdown:!1,qidLabel:"",currency:""},"philippines-dropex":{parent:"dropex",phone:"Philippines: +63966 508950582",website:"06309265586/06353044684",barcode:!0,qrcode:!1,printPriceBreakdown:!0},"china-dropex":{parent:"dropex",phone:"China: +63966 508950582",website:"06309265586/06353044684",barcode:!0,qrcode:!1,printPriceBreakdown:!0},default:{parent:"moveworlde",phone:" ",website:" ",barcode:!0,qrcode:!1,printPriceBreakdown:!1}},g=function(){return d.client},h=function(){return m.client},v=function(){return p.client},E=function(){return b.client},y=function(e){return f[e]||f.default},O=function(){var e=Object(o.a)(r.a.mark((function e(t){var a,n,o,f,g,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("mw-u-type"),e.next=3,Object(s.c)("/v1/client/branch/".concat(t.toLowerCase(),"?userType=").concat(a,"&userName=").concat(localStorage.getItem("mw-u")));case 3:return n=e.sent,e.prev=4,o="string"===typeof n.branchData?JSON.parse(n.branchData.split("'").join('"')):n.branchData,d.client=Object(l.a)(Object(l.a)({},o),{},{lang:n.lang||i.a.ENGLISH,backupEmail:n.backupEmail||"N/A",username:localStorage.getItem("mw-u"),userType:a,type:a===u.c.customer?u.a.pickup_customer:o.type}),"dubai"===d.client.branch&&(d.client.packageType=["CTN [70x45x45] (919,748.2)","CTN [80x60x60] (566,428)","CTN [112x72x72] (471,368.7)","1M [124x90x83] (301.2,192.2)","1.5M [124x100x130] (301.2,192.2)","2M [124x124x130] (301.2,192.2)","2.5M [155x124x130] (301.2,192.2)","3M [185x124x130] (301.2,192.2)","3.5M [230x124x130] (301.2,192.2)","4M [245x124x130] (301.2,192.2)","CBM PER (360,230)","TILE CBM PER (525,425)"].concat(Object(c.a)(d.client.packageType))),f="string"===typeof n.userData?JSON.parse(n.userData.split("'").join('"')):n.userData,m.client=Object(l.a)({},f),g="string"===typeof n.priceData?JSON.parse(n.priceData.split("'").join('"')):n.priceData,p.client=Object(c.a)(g),h=n.customerData||{},b.client=Object(l.a)({},h),e.abrupt("return",d.client);case 17:return e.prev=17,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",{});case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}();t.f={getBranchDetails:O}}},[[490,2,3]]]);